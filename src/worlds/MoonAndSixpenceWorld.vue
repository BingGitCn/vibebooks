<template>
  <div class="moon-sixpence-world swiss-grid-pattern swiss-noise">
    <!-- æœˆäº®è£…é¥° -->
    <div class="moon-decoration moon-1"></div>
    <div class="moon-decoration moon-2"></div>
    <div class="moon-decoration moon-3"></div>

    <!-- EXIT æŒ‰é’® -->
    <button class="exit-btn swiss-hover-invert" @click="exitToYearbook">
      <span class="exit-arrow">â†</span>
      EXIT
    </button>

    <!-- Header -->
    <header class="book-header swiss-border-bottom">
      <div class="header-content">
        <p class="book-vol">VOL.033</p>
        <h1 class="book-title">æœˆäº®ä¸å…­ä¾¿å£«</h1>
        <p class="book-subtitle">ç†æƒ³ä¸ç°å®çš„æ°¸æ’æ’•è£‚</p>
        <p class="book-author">å¨å»‰Â·è¨é»˜å¡ç‰¹Â·æ¯›å§† Â· 1919</p>
      </div>
      <div class="header-meta">
        <p class="meta-label">ART VS REALITY</p>
        <p class="meta-years">3 GEOGRAPHIES</p>
      </div>
    </header>

    <!-- Section 01: Characters -->
    <section class="section-characters swiss-border-bottom">
      <div class="section-header">
        <p class="section-number">SECTION 01</p>
        <h2 class="section-title">CHARACTERS</h2>
        <p class="section-subtitle">Four Souls in the Story</p>
      </div>
      <div class="characters-grid">
        <!-- Character 1 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 0 }"
          @click="toggleCharacter(0)"
        >
          <div class="character-number">01</div>
          <div class="character-icon character-artist"></div>
          <div class="character-info">
            <h3 class="character-name">æ€ç‰¹é‡Œå…‹å…°å¾·</h3>
            <p class="character-role">ç–¯ç‹‚çš„å¤©æ‰ç”»å®¶</p>
          </div>
          <div class="character-tags">
            <span class="tag">å¤©æ‰</span>
            <span class="tag">ç–¯ç‹‚</span>
          </div>
          <div v-if="expandedCharacter === 0" class="character-details">
            <div class="detail-section">
              <p class="detail-label">èº«ä»½</p>
              <p class="detail-text">åŸæœ¬æ˜¯ä¼¦æ•¦è¯åˆ¸ç»çºªäººï¼Œä¸­å¹´çªç„¶æŠ›å¦»å¼ƒå­å»å·´é»è¿½æ±‚ç»˜ç”»æ¢¦æƒ³ï¼Œæœ€ç»ˆåœ¨å¡”å¸Œæå²›åˆ›ä½œå‡ºä¸æœ½ä½œå“ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">æ€§æ ¼</p>
              <p class="detail-text">å†·æ¼ ã€è‡ªç§ã€å¤©æ‰ã€ä¸è¢«ä¸–ä¿—ç†è§£ã€‚ä»–å¯¹è‰ºæœ¯æœ‰ç€è¿‘ä¹ç¥æ€§çš„æ‰§ç€ï¼Œä¸åœ¨ä¹ä»»ä½•ç¤¾ä¼šè§„åˆ™å’Œä»–äººæ„Ÿå—ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">å‘½è¿</p>
              <p class="detail-text">åœ¨å¡”å¸Œæå²›æ‚£ä¸Šéº»é£ç—…ï¼ŒåŒç›®å¤±æ˜åä»åœ¨å¢™ä¸Šåˆ›ä½œå£ç”»ï¼Œä¸´ç»ˆå‰è¦æ±‚çƒ§æ¯æ‰€æœ‰ä½œå“ã€‚</p>
            </div>
          </div>
        </article>

        <!-- Character 2 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 1 }"
          @click="toggleCharacter(1)"
        >
          <div class="character-number">02</div>
          <div class="character-icon character-narrator"></div>
          <div class="character-info">
            <h3 class="character-name">å™è¿°è€…"æˆ‘"</h3>
            <p class="character-role">å¹´è½»ä½œå®¶ï¼Œè§‚å¯Ÿè€…</p>
          </div>
          <div class="character-tags">
            <span class="tag">è§‚å¯Ÿ</span>
            <span class="tag">è®°å½•</span>
          </div>
          <div v-if="expandedCharacter === 1" class="character-details">
            <div class="detail-section">
              <p class="detail-label">èº«ä»½</p>
              <p class="detail-text">å¹´è½»çš„ä½œå®¶ï¼Œé€šè¿‡æœ‹å‹å…³ç³»è®¤è¯†æ€ç‰¹é‡Œå…‹å…°å¾·ï¼Œå…¨ç¨‹è¿½è¸ªä»–çš„ç»å†ï¼Œæˆä¸ºæ•…äº‹çš„å™è¿°è€…ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">æ€åº¦</p>
              <p class="detail-text">èµ·åˆä¸ç†è§£ï¼Œé€æ¸è¢«æ€ç‰¹é‡Œå…‹å…°å¾·çš„è‰ºæœ¯å¤©æ‰éœ‡æ’¼ï¼Œæœ€ç»ˆç†è§£äº†è‰ºæœ¯åˆ›ä½œçš„ç¥æ€§åŠ›é‡ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">æ„ä¹‰</p>
              <p class="detail-text">ä»£è¡¨æ™®é€šè¯»è€…çš„è§†è§’ï¼Œä»ä¸ç†è§£åˆ°éœ‡æ’¼ï¼Œå±•ç°å¤©æ‰ä¸å‡¡äººçš„è·ç¦»ã€‚</p>
            </div>
          </div>
        </article>

        <!-- Character 3 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 2 }"
          @click="toggleCharacter(2)"
        >
          <div class="character-number">03</div>
          <div class="character-icon character-stroff"></div>
          <div class="character-info">
            <h3 class="character-name">å¾·å…‹Â·æ–¯ç‰¹ç½—å¤«</h3>
            <p class="character-role">å¹³åº¸ä½†å–„è‰¯çš„ç”»å®¶</p>
          </div>
          <div class="character-tags">
            <span class="tag">å–„è‰¯</span>
            <span class="tag">åº¸æ‰</span>
          </div>
          <div v-if="expandedCharacter === 2" class="character-details">
            <div class="detail-section">
              <p class="detail-label">èº«ä»½</p>
              <p class="detail-text">è·å…°ç”»å®¶ï¼ŒæŠ€æ³•å¹³åº¸ä½†å¿ƒåœ°å–„è‰¯ï¼Œæœ€æ—©å‘ç°æ€ç‰¹é‡Œå…‹å…°å¾·çš„å¤©æ‰ï¼Œç«­å°½å…¨åŠ›å¸®åŠ©ä»–ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">æ‚²å‰§</p>
              <p class="detail-text">å¦»å­è¢«æ€ç‰¹é‡Œå…‹å…°å¾·å¸å¼•åç¦»å¼€ä»–ï¼Œæœ€ç»ˆè‡ªæ€ã€‚æ–¯ç‰¹ç½—å¤«ä»ç„¶å®½æ•æ€ç‰¹é‡Œå…‹å…°å¾·ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">æ„ä¹‰</p>
              <p class="detail-text">ä»£è¡¨åº¸æ‰å¯¹å¤©æ‰çš„è†œæ‹œï¼Œä»¥åŠå–„è‰¯åœ¨å¤©æ‰é¢å‰çš„æ— åŠ›ä¸æ‚²å£®ã€‚</p>
            </div>
          </div>
        </article>

        <!-- Character 4 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 3 }"
          @click="toggleCharacter(3)"
        >
          <div class="character-number">04</div>
          <div class="character-icon character-tahiti"></div>
          <div class="character-info">
            <h3 class="character-name">å¡”å¸ŒæåœŸè‘—å¥³å­©</h3>
            <p class="character-role">æœ€åçš„ä¼´ä¾£</p>
          </div>
          <div class="character-tags">
            <span class="tag">åŸå§‹</span>
            <span class="tag">åŒ…å®¹</span>
          </div>
          <div v-if="expandedCharacter === 3" class="character-details">
            <div class="detail-section">
              <p class="detail-label">èº«ä»½</p>
              <p class="detail-text">å¡”å¸Œæå²›çš„åœŸè‘—å¥³å­©ï¼Œæˆä¸ºæ€ç‰¹é‡Œå…‹å…°å¾·æœ€åçš„ä¼´ä¾£ï¼ŒåŒ…å®¹ä»–çš„ä¸€åˆ‡ç–¯ç‹‚å’Œå†·æ¼ ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">å…³ç³»</p>
              <p class="detail-text">å¥¹ä¸ç†è§£è‰ºæœ¯ï¼Œä½†ç†è§£æ€ç‰¹é‡Œå…‹å…°å¾·çš„çµé­‚éœ€æ±‚ï¼Œç»™ä»–æä¾›è‡ªç”±å’Œå®‰å®ã€‚</p>
            </div>
            <div class="detail-section">
              <p class="detail-label">æ„ä¹‰</p>
              <p class="detail-text">ä»£è¡¨åŸå§‹ã€è‡ªç„¶ã€åŒ…å®¹çš„ç¯å¢ƒï¼Œæ˜¯å¤©æ‰å¾—ä»¥æœ€åç»½æ”¾çš„åœŸå£¤ã€‚</p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- Section 02: Geographies -->
    <section class="section-geographies swiss-border-bottom">
      <div class="section-header">
        <p class="section-number">SECTION 02</p>
        <h2 class="section-title">GEOGRAPHIES</h2>
        <p class="section-subtitle">Three Spiritual Transformations</p>
      </div>
      <div class="geographies-timeline">
        <!-- Geography 1 -->
        <article
          class="geography-card swiss-border"
          :class="{ expanded: expandedGeography === 0 }"
          @click="toggleGeography(0)"
        >
          <div class="geography-marker">
            <div class="marker-icon marker-london"></div>
            <div class="marker-line"></div>
          </div>
          <div class="geography-content">
            <h3 class="geography-name">ä¼¦æ•¦</h3>
            <p class="geography-name-en">LONDON</p>
            <p class="geography-theme">ä¸–ä¿—ç‰¢ç¬¼</p>
            <div class="geography-meta">
              <span class="meta-item">ğŸ›ï¸ ç¤¾ä¼šè§„è®­</span>
              <span class="meta-item">ğŸ’¼ è¯åˆ¸ç»çºªäºº</span>
              <span class="meta-item">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ä¸­äº§å®¶åº­</span>
            </div>
          </div>
          <div v-if="expandedGeography === 0" class="geography-details">
            <div class="detail-block">
              <p class="detail-label">ç²¾ç¥çŠ¶æ€</p>
              <p class="detail-text">è¢«ç¤¾ä¼šè§„åˆ™ã€å®¶åº­è´£ä»»ã€ç‰©è´¨è¿½æ±‚æ‰€å›°ï¼Œè¿‡ç€ä¸–ä¿—çœ¼ä¸­"æˆåŠŸ"ä½†ç©ºè™šçš„ç”Ÿæ´»ã€‚</p>
            </div>
            <div class="detail-block">
              <p class="detail-label">å…³é”®äº‹ä»¶</p>
              <p class="detail-text">çªç„¶ç¦»å¼€å¦»å­å’Œå­©å­ï¼Œç•™ä¸‹ä¸€å¼ çº¸æ¡è¯´"å»å·´é»è¿½æ±‚è‰ºæœ¯"ï¼Œéœ‡æƒŠæ‰€æœ‰äººã€‚</p>
            </div>
            <div class="detail-block">
              <p class="detail-label">è±¡å¾æ„ä¹‰</p>
              <p class="detail-text">ä»£è¡¨å…­ä¾¿å£«çš„ä¸–ç•Œâ€”â€”ä¸–ä¿—ã€å¹³åº¸ã€å……æ»¡ç¤¾ä¼šè§„è®­çš„ç†æƒ³ç‰¢ç¬¼ã€‚</p>
            </div>
          </div>
        </article>

        <!-- Geography 2 -->
        <article
          class="geography-card swiss-border"
          :class="{ expanded: expandedGeography === 1 }"
          @click="toggleGeography(1)"
        >
          <div class="geography-marker">
            <div class="marker-icon marker-paris"></div>
            <div class="marker-line"></div>
          </div>
          <div class="geography-content">
            <h3 class="geography-name">å·´é»</h3>
            <p class="geography-name-en">PARIS</p>
            <p class="geography-theme">æ¬²æœ›è§‰é†’</p>
            <div class="geography-meta">
              <span class="meta-item">ğŸ¨ è´«ç©·è‰ºæœ¯å®¶</span>
              <span class="meta-item">ğŸ˜« æŒ£æ‰</span>
              <span class="meta-item">ğŸ”¥ è‰ºæœ¯å¬å”¤</span>
            </div>
          </div>
          <div v-if="expandedGeography === 1" class="geography-details">
            <div class="detail-block">
              <p class="detail-label">ç²¾ç¥çŠ¶æ€</p>
              <p class="detail-text">æ‘†è„±å®¶åº­å’Œç¤¾ä¼šè´£ä»»ï¼Œé™·å…¥è´«ç©·å’Œå­¤ç‹¬ï¼Œä½†è‰ºæœ¯åˆ›é€ åŠ›å¼€å§‹çˆ†å‘ã€‚</p>
            </div>
            <div class="detail-block">
              <p class="detail-label">å…³é”®äº‹ä»¶</p>
              <p class="detail-text">ä½å»‰ä»·æ—…é¦†ï¼Œæ‹’ç»å¸®åŠ©ï¼Œè¿‘ä¹ç–¯ç‹‚åœ°åˆ›ä½œï¼Œä¸æ–¯ç‰¹ç½—å¤«å¤«å¦‡å‘ç”Ÿæ‚²å‰§çº è‘›ã€‚</p>
            </div>
            <div class="detail-block">
              <p class="detail-label">è±¡å¾æ„ä¹‰</p>
              <p class="detail-text">ä»£è¡¨ç†æƒ³ä¸ç°å®æ’•è£‚çš„è¿‡æ¸¡åœ°å¸¦â€”â€”ç—›è‹¦ä½†çœŸå®ï¼Œè‰ºæœ¯è§‰é†’çš„å¿…ç»ä¹‹è·¯ã€‚</p>
            </div>
          </div>
        </article>

        <!-- Geography 3 -->
        <article
          class="geography-card swiss-border"
          :class="{ expanded: expandedGeography === 2 }"
          @click="toggleGeography(2)"
        >
          <div class="geography-marker">
            <div class="marker-icon marker-tahiti"></div>
          </div>
          <div class="geography-content">
            <h3 class="geography-name">å¡”å¸Œæ</h3>
            <p class="geography-name-en">TAHITI</p>
            <p class="geography-theme">ç²¾ç¥ä¹Œæ‰˜é‚¦</p>
            <div class="geography-meta">
              <span class="meta-item">ğŸŒ´ åŸå§‹è‡ªç”±</span>
              <span class="meta-item">ğŸ¨ ä¸æœ½åˆ›ä½œ</span>
              <span class="meta-item">âœ¨ çµé­‚è§£æ”¾</span>
            </div>
          </div>
          <div v-if="expandedGeography === 2" class="geography-details">
            <div class="detail-block">
              <p class="detail-label">ç²¾ç¥çŠ¶æ€</p>
              <p class="detail-text">å®Œå…¨æ‘†è„±æ¬§æ´²æ–‡æ˜æŸç¼šï¼Œåœ¨åŸå§‹è‡ªç„¶ä¸­è·å¾—çµé­‚è‡ªç”±ï¼Œåˆ›é€ åŠ›è¾¾åˆ°å·…å³°ã€‚</p>
            </div>
            <div class="detail-block">
              <p class="detail-label">å…³é”®äº‹ä»¶</p>
              <p class="detail-text">æ‚£éº»é£ç—…ååŒç›®å¤±æ˜ï¼Œä»åœ¨å¢™ä¸Šåˆ›ä½œå·¨å‹å£ç”»ï¼Œä¸´ç»ˆå‰è¦æ±‚çƒ§æ¯æ‰€æœ‰ä½œå“ã€‚</p>
            </div>
            <div class="detail-block">
              <p class="detail-label">è±¡å¾æ„ä¹‰</p>
              <p class="detail-text">ä»£è¡¨æœˆäº®çš„ä¸–ç•Œâ€”â€”ç†æƒ³ã€è‡ªç”±ã€è¶…è¶Šä¸–ä¿—çš„ç²¾ç¥ä¹Œæ‰˜é‚¦ã€‚</p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- Section 03: Themes -->
    <section class="section-themes swiss-border-bottom">
      <div class="section-header">
        <p class="section-number">SECTION 03</p>
        <h2 class="section-title">THEMES</h2>
        <p class="section-subtitle">Core Ideas of the Book</p>
      </div>
      <div class="themes-grid">
        <div class="theme-card swiss-border">
          <div class="theme-icon theme-moon"></div>
          <h3 class="theme-name">ç†æƒ³ä¸ç°å®çš„å‰²è£‚</h3>
          <p class="theme-desc">æœˆäº®ä»£è¡¨å´‡é«˜ç†æƒ³ï¼Œå…­ä¾¿å£«ä»£è¡¨ä¸–ä¿—ç°å®ã€‚å¤§å¤šæ•°äººåªçœ‹åˆ°å…­ä¾¿å£«ï¼Œå°‘æ•°äººæŠ¬å¤´çœ‹æœˆäº®ã€‚</p>
        </div>
        <div class="theme-card swiss-border">
          <div class="theme-icon theme-madness"></div>
          <h3 class="theme-name">å¤©æ‰çš„å­¤ç‹¬</h3>
          <p class="theme-desc">çœŸæ­£çš„å¤©æ‰ä¸è¢«åŒæ—¶ä»£ç†è§£ã€‚ä»–ä»¬çš„ç–¯ç‹‚æ˜¯ç¥æ€§çš„æ˜¾ç°ï¼Œæ˜¯è‰ºæœ¯åˆ›ä½œçš„å¿…è¦ä»£ä»·ã€‚</p>
        </div>
        <div class="theme-card swiss-border">
          <div class="theme-icon theme-art"></div>
          <h3 class="theme-name">è‰ºæœ¯çš„ç¥æ€§</h3>
          <p class="theme-desc">è‰ºæœ¯åˆ›ä½œæ˜¯è¶…è¶Šä¸–ä¿—çš„ç²¾ç¥æ´»åŠ¨ï¼Œéœ€è¦æŠ›å¼ƒä¸€åˆ‡ç¤¾ä¼šè§„åˆ™å’Œé“å¾·çº¦æŸã€‚</p>
        </div>
        <div class="theme-card swiss-border">
          <div class="theme-icon theme-freedom"></div>
          <h3 class="theme-name">è‡ªç”±çš„ä»£ä»·</h3>
          <p class="theme-desc">è¿½æ±‚ç»å¯¹è‡ªç”±æ„å‘³ç€ä¼¤å®³ä»–äººã€è¢«ç¤¾ä¼šæ’æ–¥ã€‚å¤©æ‰çš„é“è·¯æ³¨å®šå­¤ç‹¬ä¸”æ®‹é…·ã€‚</p>
        </div>
      </div>
    </section>

    <!-- Section 04: Quotes -->
    <section class="section-quotes">
      <div class="section-header">
        <p class="section-number">SECTION 04</p>
        <h2 class="section-title">QUOTES</h2>
        <p class="section-subtitle">Words from the Moon</p>
      </div>
      <div class="quotes-grid">
        <div class="quote-card">
          <div class="quote-spine quote-spine-gold"></div>
          <div class="quote-border-top"></div>
          <p class="quote-text">æˆ‘å¿…é¡»ç”»ç”»ï¼Œå°±åƒæººæ°´çš„äººå¿…é¡»æŒ£æ‰</p>
          <div class="quote-border-bottom"></div>
          <div class="quote-source">
            <span class="source-name">æ€ç‰¹é‡Œå…‹å…°å¾·</span>
            <span class="source-role">å·´é»æ—¶æœŸ</span>
          </div>
        </div>
        <div class="quote-card">
          <div class="quote-spine quote-spine-gold"></div>
          <div class="quote-border-top"></div>
          <p class="quote-text">æœˆäº®ä»£è¡¨å´‡é«˜ç†æƒ³ï¼Œå…­ä¾¿å£«ä»£è¡¨ä¸–ä¿—ç°å®</p>
          <div class="quote-border-bottom"></div>
          <div class="quote-source">
            <span class="source-name">ä¹¦åå¯“æ„</span>
            <span class="source-role">æ ¸å¿ƒéšå–»</span>
          </div>
        </div>
        <div class="quote-card">
          <div class="quote-spine quote-spine-gold"></div>
          <div class="quote-border-top"></div>
          <p class="quote-text">ä¸Šå¸çš„ç£¨ç›˜è½¬åŠ¨å¾—å¾ˆæ…¢ï¼Œä½†æ˜¯å´ç£¨å¾—å¾ˆç»†</p>
          <div class="quote-border-bottom"></div>
          <div class="quote-source">
            <span class="source-name">æ¯›å§†</span>
            <span class="source-role">ç»å…¸åå¥</span>
          </div>
        </div>
        <div class="quote-card">
          <div class="quote-spine quote-spine-gold"></div>
          <div class="quote-border-top"></div>
          <p class="quote-text">æˆ‘å‘Šè¯‰ä½ æˆ‘å¿…é¡»ç”»ç”»ã€‚æˆ‘èº«ä¸ç”±å·±ã€‚ä¸€ä¸ªäººæ‰è¿›æ°´é‡Œï¼Œä»–æ¸¸æ³³æ¸¸å¾—å¥½ä¸å¥½æ˜¯æ— å…³ç´§è¦çš„ï¼Œåæ­£ä»–å¾—æŒ£æ‰å‡ºå»ï¼Œä¸ç„¶å°±å¾—æ·¹æ­»</p>
          <div class="quote-border-bottom"></div>
          <div class="quote-source">
            <span class="source-name">æ€ç‰¹é‡Œå…‹å…°å¾·</span>
            <span class="source-role">å¯¹è¯</span>
          </div>
        </div>
        <div class="quote-card">
          <div class="quote-spine quote-spine-gold"></div>
          <div class="quote-border-top"></div>
          <p class="quote-text">æˆ‘ä»¬æ¯ä¸ªäººç”Ÿåœ¨ä¸–ç•Œä¸Šéƒ½æ˜¯å­¤ç‹¬çš„ã€‚æ¯ä¸ªäººéƒ½è¢«å›šç¦åœ¨ä¸€åº§é“å¡”é‡Œï¼Œåªèƒ½é ä¸€äº›ç¬¦å·åŒåˆ«äººä¼ è¾¾è‡ªå·±çš„æ€æƒ³</p>
          <div class="quote-border-bottom"></div>
          <div class="quote-source">
            <span class="source-name">æ¯›å§†</span>
            <span class="source-role">å­¤ç‹¬ä¸»é¢˜</span>
          </div>
        </div>
        <div class="quote-card">
          <div class="quote-spine quote-spine-gold"></div>
          <div class="quote-border-top"></div>
          <p class="quote-text">ç¾æ˜¯ä¸€ç§å¥‡å¦™è€Œå¥‡å¼‚çš„ä¸œè¥¿ï¼Œè‰ºæœ¯å®¶åªæœ‰é€šè¿‡çµé­‚çš„ç—›è‹¦æŠ˜ç£¨æ‰èƒ½ä»å®‡å®™çš„æ··æ²Œä¸­å°†å®ƒæç‚¼å‡ºæ¥</p>
          <div class="quote-border-bottom"></div>
          <div class="quote-source">
            <span class="source-name">æ¯›å§†</span>
            <span class="source-role">è‰ºæœ¯è®º</span>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const expandedCharacter = ref(null)
const expandedGeography = ref(null)

const exitToYearbook = () => {
  router.push('/yearbook/fiction')
}

const toggleCharacter = (index) => {
  if (expandedCharacter.value === index) {
    expandedCharacter.value = null
  } else {
    expandedCharacter.value = index
    expandedGeography.value = null
  }
}

const toggleGeography = (index) => {
  if (expandedGeography.value === index) {
    expandedGeography.value = null
  } else {
    expandedGeography.value = index
    expandedCharacter.value = null
  }
}
</script>

<style scoped>
.moon-sixpence-world {
  position: relative;
  min-height: 100vh;
  background: #1a1a1a;
  color: #ffffff;
  overflow-x: hidden;
}

/* æœˆäº®è£…é¥° */
.moon-decoration {
  position: fixed;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #d4a574, #8b6914);
  opacity: 0.15;
  pointer-events: none;
  z-index: 0;
}

.moon-1 {
  width: 120px;
  height: 120px;
  top: 10%;
  right: 10%;
  animation: float-moon 8s ease-in-out infinite;
}

.moon-2 {
  width: 80px;
  height: 80px;
  top: 50%;
  left: 5%;
  animation: float-moon 10s ease-in-out infinite reverse;
}

.moon-3 {
  width: 60px;
  height: 60px;
  bottom: 20%;
  right: 15%;
  animation: float-moon 12s ease-in-out infinite;
}

@keyframes float-moon {
  0%, 100% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0.15;
  }
  50% {
    transform: translateY(-30px) translateX(20px) scale(1.05);
    opacity: 0.25;
  }
}

/* Header */
.book-header {
  position: relative;
  padding: 3rem 2rem;
  background: linear-gradient(135deg, #1a1a1a 0%, #2a2520 100%);
  border-bottom: 2px solid #d4a574;
  z-index: 1;
}

.header-content {
  max-width: 1400px;
  margin: 0 auto;
}

.book-vol {
  font-size: 0.625rem;
  font-weight: 700;
  letter-spacing: 0.25em;
  color: #d4a574;
  margin-bottom: 0.5rem;
}

.book-title {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 900;
  letter-spacing: 0.15em;
  line-height: 1.2;
  margin: 0.5rem 0;
  color: #ffffff;
}

.book-subtitle {
  font-size: 1rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.7);
  margin: 0.5rem 0 1rem;
  font-style: italic;
}

.book-author {
  font-size: 0.875rem;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.5);
}

.header-meta {
  display: flex;
  gap: 2rem;
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(212, 165, 116, 0.2);
}

.meta-label {
  font-size: 0.625rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  color: #d4a574;
}

.meta-years {
  font-size: 0.625rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  color: rgba(255, 255, 255, 0.5);
}

/* Section Headers */
.section-header {
  text-align: center;
  padding: 3rem 2rem 2rem;
}

.section-number {
  font-size: 0.625rem;
  font-weight: 700;
  letter-spacing: 0.25em;
  color: #d4a574;
  margin-bottom: 0.5rem;
}

.section-title {
  font-size: clamp(1.5rem, 3vw, 2.5rem);
  font-weight: 700;
  letter-spacing: 0.15em;
  margin: 0.5rem 0;
  color: #ffffff;
}

.section-subtitle {
  font-size: 0.875rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.5);
  margin-top: 0.5rem;
}

/* Characters Grid */
.characters-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.character-card {
  position: relative;
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid rgba(212, 165, 116, 0.3);
  padding: 2rem;
  cursor: pointer;
  transition: all 0.15s ease-out;
}

.character-card:not(.expanded):hover {
  background: #d4a574;
  border-color: #d4a574;
  transform: translateY(-2px);
}

.character-card:not(.expanded):hover * {
  color: #ffffff;
}

.character-card.expanded {
  background: rgba(212, 165, 116, 0.1);
  border-color: #d4a574;
  cursor: default;
}

.character-number {
  font-size: 2rem;
  font-weight: 900;
  color: #d4a574;
  margin-bottom: 1rem;
}

.character-icon {
  width: 60px;
  height: 60px;
  margin: 1rem 0;
  background: rgba(212, 165, 116, 0.2);
  border: 2px solid #d4a574;
}

.character-artist {
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #d4a574, transparent);
}

.character-narrator {
  border-radius: 8px;
}

.character-stroff {
  border-radius: 0;
  transform: rotate(45deg);
}

.character-tahiti {
  border-radius: 50% 50% 0 50%;
}

.character-name {
  font-size: 1.25rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  margin: 1rem 0 0.5rem;
  color: #ffffff;
}

.character-role {
  font-size: 0.875rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: 1rem;
}

.character-tags {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.tag {
  font-size: 0.625rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  padding: 0.25rem 0.5rem;
  background: rgba(212, 165, 116, 0.2);
  color: #d4a574;
  border: 1px solid #d4a574;
}

.character-details {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(212, 165, 116, 0.3);
}

.detail-section {
  margin-bottom: 1rem;
}

.detail-label {
  font-size: 0.625rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  color: #d4a574;
  margin-bottom: 0.25rem;
}

.detail-text {
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.8);
}

/* Geographies Timeline */
.geographies-timeline {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.geography-card {
  position: relative;
  display: flex;
  gap: 2rem;
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid rgba(212, 165, 116, 0.3);
  padding: 2rem;
  margin-bottom: 1.5rem;
  cursor: pointer;
  transition: all 0.15s ease-out;
}

.geography-card:not(.expanded):hover {
  background: #d4a574;
  border-color: #d4a574;
  transform: translateY(-2px);
}

.geography-card:not(.expanded):hover * {
  color: #ffffff;
}

.geography-card.expanded {
  background: rgba(212, 165, 116, 0.1);
  border-color: #d4a574;
  cursor: default;
}

.geography-marker {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
}

.marker-icon {
  width: 60px;
  height: 60px;
  background: rgba(212, 165, 116, 0.2);
  border: 2px solid #d4a574;
  flex-shrink: 0;
}

.marker-london {
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
}

.marker-paris {
  border-radius: 4px;
}

.marker-tahiti {
  border-radius: 50% 50% 0 50%;
}

.marker-line {
  width: 2px;
  flex-grow: 1;
  background: linear-gradient(to bottom, #d4a574, transparent);
  margin-top: 1rem;
  min-height: 40px;
}

.geography-content {
  flex-grow: 1;
}

.geography-name {
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  margin: 0 0 0.25rem;
  color: #ffffff;
}

.geography-name-en {
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: 0.2em;
  color: #d4a574;
  margin-bottom: 0.5rem;
}

.geography-theme {
  font-size: 1rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: 1rem;
}

.geography-meta {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.meta-item {
  font-size: 0.75rem;
  font-weight: 500;
  padding: 0.25rem 0.5rem;
  background: rgba(212, 165, 116, 0.15);
  color: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(212, 165, 116, 0.3);
}

.geography-details {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(212, 165, 116, 0.3);
}

.detail-block {
  margin-bottom: 1rem;
}

/* Themes Grid */
.themes-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.theme-card {
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid rgba(212, 165, 116, 0.3);
  padding: 2rem;
  transition: all 0.15s ease-out;
}

.theme-card:hover {
  background: #d4a574;
  border-color: #d4a574;
  transform: translateY(-2px);
}

.theme-card:hover * {
  color: #ffffff;
}

.theme-icon {
  width: 60px;
  height: 60px;
  margin: 0 auto 1.5rem;
  background: rgba(212, 165, 116, 0.2);
  border: 2px solid #d4a574;
}

.theme-moon {
  border-radius: 50% 50% 0 50%;
  transform: rotate(-45deg);
}

.theme-madness {
  border-radius: 50%;
  position: relative;
  overflow: hidden;
}

.theme-madness::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 2px;
  background: #d4a574;
  transform: rotate(45deg);
}

.theme-art {
  clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
}

.theme-freedom {
  border-radius: 8px;
}

.theme-name {
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  margin: 1rem 0 0.75rem;
  color: #ffffff;
}

.theme-desc {
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.6);
}

/* Quotes Grid */
.quotes-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.quote-card {
  position: relative;
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid rgba(212, 165, 116, 0.3);
  padding: 2rem;
  transition: all 0.15s ease-out;
}

.quote-card:hover {
  background: #d4a574;
  border-color: #d4a574;
  transform: translateY(-2px);
}

.quote-card:hover * {
  color: #ffffff;
  border-color: rgba(255, 255, 255, 0.3);
}

.quote-spine {
  position: absolute;
  top: 0;
  left: 1rem;
  width: 4px;
  height: 100%;
  background: #d4a574;
}

.quote-border-top {
  height: 2px;
  background: rgba(212, 165, 116, 0.3);
  margin-bottom: 1.5rem;
}

.quote-text {
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.8;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 1.5rem;
}

.quote-border-bottom {
  height: 1px;
  background: rgba(212, 165, 116, 0.3);
  margin-bottom: 1rem;
}

.quote-source {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.75rem;
}

.source-name {
  font-weight: 700;
  letter-spacing: 0.1em;
  color: #d4a574;
}

.source-role {
  font-weight: 400;
  color: rgba(255, 255, 255, 0.5);
}

/* Responsive */
@media (max-width: 1024px) {
  .characters-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .themes-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .quotes-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .characters-grid {
    grid-template-columns: 1fr;
  }

  .themes-grid {
    grid-template-columns: 1fr;
  }

  .quotes-grid {
    grid-template-columns: 1fr;
  }

  .geography-card {
    flex-direction: column;
  }

  .marker-line {
    display: none;
  }
}
</style>
