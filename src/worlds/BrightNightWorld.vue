<template>
  <div class="bright-night-world">
    <!-- EXIT button -->
    <button class="exit-button" @click="exitWorld">
      <span class="exit-icon">Ã—</span>
      <span class="exit-text">EXIT</span>
    </button>

    <!-- Header Section -->
    <header class="book-header">
      <div class="header-top">
        <span class="volume-label">VOL.019</span>
        <span class="category-label">FICTION</span>
      </div>
      <h1 class="book-title">æ˜äº®çš„å¤œæ™š</h1>
      <p class="book-subtitle">The Bright Night</p>
      <p class="book-author">å´”æ©è£ Â· 2021</p>
      <div class="header-decoration">
        <div class="moon-icon">ğŸŒ™</div>
        <div class="star-icon">âœ¨</div>
      </div>
    </header>

    <!-- Section 01: Characters -->
    <section class="section-characters">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="01">CHARACTERS</p>
        <h2 class="section-title">ì—¬ì„±ë“¤</h2>
        <p class="section-subtitle">ë„¤ ëŒ€ ì—¬ìì˜ ì´ì•¼ê¸°</p>
      </div>

      <div class="characters-grid">
        <!-- Character 1 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 0 }"
          @click="toggleCharacter(0)"
        >
          <div class="character-header">
            <h3 class="character-name">ç¾äº¬</h3>
            <span class="character-role">ä¸€ç”Ÿçš„æœ‹å‹</span>
          </div>

          <div class="character-preview">
            <p>"æˆ‘"çš„æŒšå‹ï¼Œä»é’æ˜¥åˆ°æ™šå¹´çš„é™ªä¼´</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 0" class="character-details">
              <div class="detail-block">
                <h4>æ€§æ ¼</h4>
                <p>æ¸©æŸ”ã€åšéŸ§ï¼Œåœ¨ç”Ÿæ´»çš„é£é›¨ä¸­ä¾ç„¶ä¿æŒä¼˜é›…</p>
              </div>
              <div class="detail-block">
                <h4>æ•…äº‹</h4>
                <p>ä»å°‘å¥³æ—¶ä»£å°±æ˜¯"æˆ‘"æœ€å¥½çš„æœ‹å‹ã€‚ç»å†å©šå§»ã€ç”Ÿå­ã€ä¸§å­ä¹‹ç—›ï¼Œå§‹ç»ˆä¸"æˆ‘"ç›¸äº’æ‰¶æŒã€‚æ™šå¹´èº«æ‚£ç™Œç—‡ï¼Œä¾ç„¶ä¿æŒå¯¹ç”Ÿæ´»çš„çƒ­çˆ±ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>å‹è°Š</h4>
                <p>"æˆ‘ä»¬æ˜¯å½¼æ­¤ç”Ÿå‘½ä¸­çš„å…‰ã€‚åœ¨æœ€é»‘æš—çš„æ—¶åˆ»ï¼Œä¹Ÿæ˜¯ä½ ç…§äº®äº†æˆ‘ã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 0 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 0 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Character 2 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 1 }"
          @click="toggleCharacter(1)"
        >
          <div class="character-header">
            <h3 class="character-name">"æˆ‘"</h3>
            <span class="character-role">å™è¿°è€…ï¼Œå°è¯´å®¶</span>
          </div>

          <div class="character-preview">
            <p>åœ¨ç¥–æ¯å»ä¸–åï¼Œå¯»æ‰¾å®¶æ—è®°å¿†çš„ä½œå®¶</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 1" class="character-details">
              <div class="detail-block">
                <h4>æ€§æ ¼</h4>
                <p>æ•æ„Ÿã€å†…çœï¼Œå¯¹å®¶æ—å†å²å……æ»¡å¥½å¥‡</p>
              </div>
              <div class="detail-block">
                <h4>æ•…äº‹</h4>
                <p>åœ¨ç¥–æ¯å»ä¸–åï¼Œå¼€å§‹æ•´ç†ç¥–æ¯çš„é—ç‰©ã€‚é€šè¿‡ç¥–æ¯çš„æ—¥è®°å’Œä¿¡ä»¶ï¼Œé€æ¸äº†è§£å®¶æ—å››ä»£å¥³æ€§çš„æ•…äº‹ã€‚å†™ä½œæˆä¸ºç†è§£è‡ªå·±å’Œå®¶æ—çš„æ–¹å¼ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>æˆé•¿</h4>
                <p>"ç¥–æ¯çš„ä¸€ç”Ÿï¼Œå°±æ˜¯æˆ‘ä¸€ç”Ÿçš„é•œåƒã€‚æˆ‘åœ¨å¥¹çš„æ•…äº‹é‡Œï¼Œçœ‹åˆ°äº†è‡ªå·±ã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 1 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 1 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Character 3 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 2 }"
          @click="toggleCharacter(2)"
        >
          <div class="character-header">
            <h3 class="character-name">ç¥–æ¯ï¼ˆå–œæ…ˆï¼‰</h3>
            <span class="character-role">å®¶æ—çš„è§è¯è€…</span>
          </div>

          <div class="character-preview">
            <p>ç»å†äº†æ—¥æœ¬æ®–æ°‘æ—¶ä»£å’Œæˆ˜äº‰çš„éŸ©å›½å¥³æ€§</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 2" class="character-details">
              <div class="detail-block">
                <h4>æ€§æ ¼</h4>
                <p>éšå¿ã€åšå¼ºï¼Œå°†è‹¦éš¾åŸ‹åœ¨å¿ƒåº•ï¼Œç”¨å¾®ç¬‘é¢å¯¹ç”Ÿæ´»</p>
              </div>
              <div class="detail-block">
                <h4>æ•…äº‹</h4>
                <p>å‡ºç”Ÿåœ¨æ—¥æœ¬æ®–æ°‘æ—¶ä»£ï¼Œç»å†æˆ˜äº‰å’Œè´«å›°ã€‚ä½œä¸ºæ›¾ç¥–æ¯çš„å¥³å„¿ï¼Œå´ä¸æ¯äº²å…³ç³»ç–ç¦»ã€‚ä¸€ç”Ÿéƒ½åœ¨ç­‰å¾…æ¯äº²çš„çˆ±ï¼Œç›´åˆ°å»ä¸–ä¹Ÿæ²¡èƒ½ç­‰æ¥ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>ç§˜å¯†</h4>
                <p>"æœ‰äº›è¯ï¼Œä¸€è¾ˆå­éƒ½æ²¡èƒ½è¯´å‡ºå£ã€‚ä¸æ˜¯ä¸æƒ³è¯´ï¼Œæ˜¯ä¸æ•¢è¯´ã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 2 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 2 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Character 4 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 3 }"
          @click="toggleCharacter(3)"
        >
          <div class="character-header">
            <h3 class="character-name">æ›¾ç¥–æ¯ï¼ˆæ–°ä¸€ï¼‰</h3>
            <span class="character-role">å®¶æ—çš„ç§˜å¯†</span>
          </div>

          <div class="character-preview">
            <p>ä¸æ—¥æœ¬ç”·äººç”Ÿä¸‹ç§ç”Ÿå¥³çš„æ–°å¥³æ€§</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 3" class="character-details">
              <div class="detail-block">
                <h4>æ€§æ ¼</h4>
                <p>ç‹¬ç«‹ã€åå›ï¼Œåœ¨ä¿å®ˆæ—¶ä»£è¿½æ±‚è‡ªç”±æ‹çˆ±</p>
              </div>
              <div class="detail-block">
                <h4>æ•…äº‹</h4>
                <p>åœ¨æ—¥å æ—¶æœŸï¼Œä¸ä¸€ä½æ—¥æœ¬ç”·å­ç›¸çˆ±å¹¶ç”Ÿä¸‹ç§ç”Ÿå¥³ï¼ˆç¥–æ¯ï¼‰ã€‚å› ä¸ºè¿™æ®µå…³ç³»ï¼Œè¢«å®¶æ—å’Œç¤¾ä¼šæ’æ–¥ã€‚å°†å¥³å„¿äº¤ç»™ä»–äººæŠšå…»ï¼Œè‡ªå·±è¿œèµ°ä»–ä¹¡ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>é—æ†¾</h4>
                <p>"æˆ‘ä¸€ç”Ÿéƒ½åœ¨é€ƒé¿ï¼Œä½†æœ‰äº›ä¸œè¥¿ï¼Œæ°¸è¿œæ— æ³•é€ƒé¿ã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 3 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 3 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>
      </div>
    </section>

    <!-- Section 02: Relationships -->
    <section class="section-relationships">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="02">RELATIONSHIPS</p>
        <h2 class="section-title">ê´€ê³„</h2>
        <p class="section-subtitle">ì—¬ìë“¤ì˜ ìœ ëŒ€</p>
      </div>

      <div class="relationships-timeline">
        <!-- Relationship 1 -->
        <div class="relationship-block">
          <div class="relationship-header">
            <span class="relationship-icon">ğŸ’«</span>
            <h3 class="relationship-title">ç¾äº¬ä¸æˆ‘</h3>
            <span class="relationship-name">FRIENDSHIP</span>
          </div>

          <div class="relationships-list">
            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 0 }"
              @click="toggleRelationship(0)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">å°‘å¥³æ—¶ä»£</h4>
                <p class="relationship-desc">åœ¨è‹±è¯­è¡¥ä¹ ç­ç›¸é‡çš„é’æ˜¥</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 0" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>ä¸¤ä¸ªå°‘å¥³åœ¨è‹±è¯­è¡¥ä¹ ç­ç›¸é‡ã€‚ç¾äº¬æ´»æ³¼å¼€æœ—ï¼Œ"æˆ‘"å®‰é™å†…å‘ã€‚æ€§æ ¼çš„å·®å¼‚è®©å¥¹ä»¬ç›¸äº’å¸å¼•ã€‚ä¸€èµ·åˆ†äº«é’æ˜¥çš„ç§˜å¯†å’Œæ¢¦æƒ³ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>ä»é’æ˜¥åˆ°å¹´è€ï¼Œå‹è°Šç»å†äº†æ— æ•°è€ƒéªŒã€‚ç¾äº¬çš„ç™Œç—‡ã€ä¸§å­ä¹‹ç—›ï¼Œ"æˆ‘"å§‹ç»ˆåœ¨å¥¹èº«è¾¹ã€‚çœŸæ­£çš„å‹è°Šï¼Œä¸æ˜¯ä¸æ‰“ä¸ç›¸è¯†ï¼Œè€Œæ˜¯å½¼æ­¤æ‰¶æŒèµ°è¿‡ä¸€ç”Ÿã€‚</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"æœ‹å‹å°±æ˜¯é‚£ä¸ªåœ¨ä½ æœ€é»‘æš—çš„æ—¶å€™ï¼Œä¾ç„¶èƒ½çœ‹åˆ°ä½ å…‰èŠ’çš„äººã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 0 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 0 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>

            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 1 }"
              @click="toggleRelationship(1)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">æ™šå¹´æ—¶å…‰</h4>
                <p class="relationship-desc">åœ¨ç™Œç—‡é¢å‰çš„é™ªä¼´</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 1" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>ç¾äº¬æ‚£ä¸Šç™Œç—‡ï¼Œ"æˆ‘"æˆä¸ºå¥¹æœ€ä¿¡ä»»çš„äººã€‚åœ¨åŒ»é™¢é™ªä¼´å¥¹ï¼Œå¬å¥¹è®²è¿°ä¸€ç”Ÿçš„é—æ†¾å’Œæœªç«Ÿçš„æ¢¦æƒ³ã€‚ç¾äº¬çš„åšå¼ºè®©"æˆ‘"éœ‡æ’¼ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>é¢å¯¹æ­»äº¡ï¼Œç¾äº¬ä¾ç„¶ä¿æŒä¼˜é›…ã€‚"æˆ‘"å­¦ä¼šäº†ä»€ä¹ˆæ˜¯çœŸæ­£çš„å‹‡æ•¢ã€‚å‹è°Šçš„æ·±åº¦ï¼Œåœ¨ç”Ÿç¦»æ­»åˆ«é¢å‰æ˜¾ç°ã€‚</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"æ­»äº¡ä¸æ˜¯ç»“æŸï¼Œè€Œæ˜¯å¦ä¸€ç§å½¢å¼çš„å­˜åœ¨ã€‚ä½ æ´»åœ¨æˆ‘çš„è®°å¿†é‡Œï¼Œå°±æ˜¯æ°¸æ’ã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 1 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 1 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>
          </div>
        </div>

        <!-- Relationship 2 -->
        <div class="relationship-block">
          <div class="relationship-header">
            <span class="relationship-icon">ğŸ‘µ</span>
            <h3 class="relationship-title">æˆ‘ä¸ç¥–æ¯</h3>
            <span class="relationship-name">FAMILY</span>
          </div>

          <div class="relationships-list">
            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 2 }"
              @click="toggleRelationship(2)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">è¡€è„‰ä¸è¯¯è§£</h4>
                <p class="relationship-desc">åœ¨ç¥–æ¯å»ä¸–åæ‰çœŸæ­£è®¤è¯†å¥¹</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 2" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>ç¥–æ¯åœ¨ä¸–æ—¶ï¼Œ"æˆ‘"å¹¶ä¸ç†è§£å¥¹ã€‚ç¥–æ¯æ€»æ˜¯å¾®ç¬‘ç€ï¼Œä½†ç¬‘å®¹èƒŒåè—ç€ä»€ä¹ˆï¼Œ"æˆ‘"ä»æœªçœŸæ­£æƒ³çŸ¥é“ã€‚ç›´åˆ°ç¥–æ¯å»ä¸–ï¼Œ"æˆ‘"æ‰å¼€å§‹äº†è§£å¥¹çš„æ•…äº‹ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>é€šè¿‡ç¥–æ¯çš„æ—¥è®°å’Œä¿¡ä»¶ï¼Œ"æˆ‘"é€æ¸ç†è§£äº†ç¥–æ¯çš„éšå¿å’Œåšå¼ºã€‚åœ¨ç¥–æ¯çš„æ•…äº‹é‡Œï¼Œ"æˆ‘"çœ‹åˆ°äº†è‡ªå·±çš„å½±å­ã€‚è¡€è„‰ä¸ä»…æ˜¯DNAï¼Œæ›´æ˜¯å‘½è¿çš„è½®å›ã€‚</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"æˆ‘ä»¬æ€»ä»¥ä¸ºäº†è§£å®¶äººï¼Œä½†å…¶å®æˆ‘ä»¬ä»æœªçœŸæ­£çœ‹è§ä»–ä»¬ã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 2 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 2 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>

            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 3 }"
              @click="toggleRelationship(3)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">å’Œè§£</h4>
                <p class="relationship-desc">åœ¨æ–‡å­—ä¸­é‡æ–°è¿æ¥</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 3" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>åœ¨æ•´ç†ç¥–æ¯é—ç‰©æ—¶ï¼Œ"æˆ‘"å‘ç°äº†ç¥–æ¯å†™ç»™æ›¾ç¥–æ¯å´ä»æœªå¯„å‡ºçš„ä¿¡ã€‚ä¿¡ä¸­å……æ»¡äº†æ€å¿µå’Œç­‰å¾…ã€‚"æˆ‘"ç»ˆäºç†è§£äº†ç¥–æ¯ä¸€ç”Ÿçš„å­¤ç‹¬ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>å†™ä½œæˆä¸ºå’Œè§£çš„æ–¹å¼ã€‚"æˆ‘"é€šè¿‡ä¹¦å†™ç¥–æ¯çš„æ•…äº‹ï¼Œå®Œæˆäº†ä¸ç¥–æ¯çš„å¯¹è¯ã€‚åœ¨æ–‡å­—é‡Œï¼Œ"æˆ‘"å¯¹ç¥–æ¯è¯´ï¼š"æˆ‘çœ‹è§äº†ä½ çš„ç—›è‹¦ã€‚"</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"ç†è§£æ˜¯æœ€å¥½çš„å’Œè§£ã€‚å³ä½¿ä½ å·²ä¸åœ¨ï¼Œæˆ‘ä¾ç„¶å¯ä»¥é€šè¿‡æ–‡å­—æ‹¥æŠ±ä½ ã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 3 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 3 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>
          </div>
        </div>

        <!-- Relationship 3 -->
        <div class="relationship-block">
          <div class="relationship-header">
            <span class="relationship-icon">ğŸ¥€</span>
            <h3 class="relationship-title">ç¥–æ¯ä¸æ›¾ç¥–æ¯</h3>
            <span class="relationship-name">SECRET</span>
          </div>

          <div class="relationships-list">
            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 4 }"
              @click="toggleRelationship(4)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">è¢«é—å¼ƒçš„å¥³å„¿</h4>
                <p class="relationship-desc">ç­‰äº†ä¸€ç”Ÿä¹Ÿæ²¡ç­‰æ¥çš„æ¯çˆ±</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 4" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>æ›¾ç¥–æ¯ï¼ˆæ–°ä¸€ï¼‰åœ¨æ—¥å æ—¶æœŸä¸æ—¥æœ¬ç”·å­ç›¸çˆ±ï¼Œç”Ÿä¸‹ç§ç”Ÿå¥³ï¼ˆç¥–æ¯ï¼‰ã€‚å› ä¸ºè¿™æ®µå…³ç³»ï¼Œæ›¾ç¥–æ¯å°†ç¥–æ¯äº¤ç»™ä»–äººæŠšå…»ï¼Œè‡ªå·±è¿œèµ°ä»–ä¹¡ã€‚ç¥–æ¯ä¸€ç”Ÿéƒ½åœ¨ç­‰å¾…æ¯äº²çš„å½’æ¥ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>ç¥–æ¯ä»æœªçœŸæ­£ç†è§£æ¯äº²çš„é€‰æ‹©ã€‚å¥¹è¢«é—å¼ƒçš„åˆ›ä¼¤å½±å“äº†å¥¹çš„ä¸€ç”Ÿã€‚å¥¹ä¸è‡ªå·±çš„å¥³å„¿ï¼ˆ"æˆ‘"çš„æ¯äº²ï¼‰å…³ç³»ä¹Ÿç–ç¦»ã€‚å®¶æ—çš„åˆ›ä¼¤åœ¨ä»£é™…é—´ä¼ é€’ã€‚</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"æœ‰äº›ä¼¤å£ï¼Œæ°¸è¿œä¸ä¼šæ„ˆåˆã€‚æˆ‘ä»¬åªèƒ½å­¦ä¼šå¸¦ç€ä¼¤å£ç”Ÿæ´»ã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 4 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 4 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>

            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 5 }"
              @click="toggleRelationship(5)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">æœªå¯„å‡ºçš„ä¿¡</h4>
                <p class="relationship-desc">æ²‰é»˜çš„æ€å¿µ</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 5" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>ç¥–æ¯å»ä¸–åï¼Œ"æˆ‘"å‘ç°äº†å¥¹å†™ç»™æ›¾ç¥–æ¯çš„ä¿¡ã€‚è¿™äº›ä¿¡ä»æœªå¯„å‡ºï¼Œæ»¡æ˜¯æ€å¿µå’Œç­‰å¾…ã€‚"å¦ˆå¦ˆï¼Œä½ ä¸ºä»€ä¹ˆä¸å›æ¥ï¼Ÿ"è¿™æ ·çš„é—®å¥ï¼Œåœ¨ä¿¡ä¸­å‡ºç°æ— æ•°æ¬¡ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>æ›¾ç¥–æ¯å¯èƒ½ä¹Ÿå†™äº†ä¿¡ï¼Œä½†è¿™äº›ä¿¡åœ¨å†å²ä¸­é—å¤±ã€‚ä¸¤ä»£å¥³æ€§ä¹‹é—´çš„æ²‰é»˜ï¼Œæˆä¸ºäº†å®¶æ—æœ€å¤§çš„ç§˜å¯†ã€‚ç›´åˆ°"æˆ‘"å‘ç°è¿™äº›ä¿¡ï¼Œæ‰æ‰“ç ´äº†å‡ åå¹´çš„æ²‰é»˜ã€‚</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"æ²‰é»˜æœ‰æ—¶æ¯”è¯­è¨€æ›´éœ‡è€³æ¬²è‹ã€‚æœªè¯´å‡ºå£çš„è¯ï¼Œå¾€å¾€æ˜¯æœ€é‡è¦çš„ã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 5 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 5 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>
          </div>
        </div>

        <!-- Relationship 4 -->
        <div class="relationship-block">
          <div class="relationship-header">
            <span class="relationship-icon">ğŸŒ¸</span>
            <h3 class="relationship-title">å››ä»£å¥³æ€§</h3>
            <span class="relationship-name">TIME</span>
          </div>

          <div class="relationships-list">
            <article
              class="relationship-card swiss-border"
              :class="{ expanded: expandedRelationship === 6 }"
              @click="toggleRelationship(6)"
            >
              <div class="relationship-preview">
                <h4 class="relationship-item-title">å‘½è¿çš„è½®å›</h4>
                <p class="relationship-desc">å†å²åœ¨å®¶æ—ä¸­é‡å¤</p>
              </div>

              <transition name="expand">
                <div v-if="expandedRelationship === 6" class="relationship-details">
                  <div class="relationship-story">
                    <h4>æ•…äº‹</h4>
                    <p>å››ä»£å¥³æ€§ï¼Œå››æ®µä¸åŒçš„å‘½è¿ï¼Œå´æœ‰ç€ç›¸ä¼¼çš„å­¤ç‹¬ã€‚æ›¾ç¥–æ¯çš„ç§ç”Ÿå¥³èº«ä»½ã€ç¥–æ¯çš„é—å¼ƒåˆ›ä¼¤ã€æ¯äº²ä¸"æˆ‘"çš„ç–ç¦»ã€‚å†å²ä¼¼ä¹åœ¨å®¶æ—ä¸­è½®å›ã€‚</p>
                  </div>
                  <div class="relationship-change">
                    <h4>å˜åŒ–</h4>
                    <p>"æˆ‘"é€šè¿‡å†™ä½œæ‰“ç ´äº†è½®å›ã€‚åœ¨ç†è§£ç¥–æ¯å’Œæ›¾ç¥–æ¯çš„æ•…äº‹åï¼Œ"æˆ‘"å­¦ä¼šäº†å¦‚ä½•çˆ±ä¸è¢«çˆ±ã€‚"æˆ‘"ä¸æ¯äº²çš„å…³ç³»ä¹Ÿå¾—åˆ°äº†å’Œè§£ã€‚</p>
                  </div>
                  <div class="relationship-insight">
                    <h4>æ´å¯Ÿ</h4>
                    <p>"æˆ‘ä»¬ç»ˆå°†é‡å¤çˆ¶æ¯çš„å‘½è¿ï¼Œé™¤éæˆ‘ä»¬å­¦ä¼šçœ‹è§å¹¶æ”¹å˜ã€‚"</p>
                  </div>
                </div>
              </transition>

              <div class="expand-hint">
                <span>{{ expandedRelationship === 6 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
                <span class="arrow">{{ expandedRelationship === 6 ? 'â†‘' : 'â†“' }}</span>
              </div>
            </article>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 03: Themes -->
    <section class="section-themes">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="03">THEMES</p>
        <h2 class="section-title">ì£¼ì œ</h2>
        <p class="section-subtitle">í•µì‹¬ ì£¼ì œ</p>
      </div>

      <div class="themes-grid">
        <div class="theme-card swiss-border">
          <div class="theme-icon">ğŸ’«</div>
          <h3 class="theme-name">å¥³æ€§å‹è°Š</h3>
          <p class="theme-desc">å¥³æ€§ä¹‹é—´çš„å‹è°Šæ˜¯æŸ”è½¯è€ŒåšéŸ§çš„åŠ›é‡ï¼Œåœ¨ç”Ÿå‘½çš„é£é›¨ä¸­ç›¸äº’æ‰¶æŒ</p>
        </div>

        <div class="theme-card swiss-border">
          <div class="theme-icon">ğŸ‘µ</div>
          <h3 class="theme-name">å®¶æ—è®°å¿†</h3>
          <p class="theme-desc">å®¶æ—çš„å†å²ä¸ä»…æ˜¯å¤§æ—¶ä»£çš„ç¼©å½±ï¼Œæ›´æ˜¯ä¸ªäººå‘½è¿çš„è¿·å®«</p>
        </div>

        <div class="theme-card swiss-border">
          <div class="theme-icon">ğŸŒ™</div>
          <h3 class="theme-name">å¤œæ™šçš„å…‰</h3>
          <p class="theme-desc">å³ä½¿åœ¨æœ€é»‘æš—çš„å¤œæ™šï¼Œä¾ç„¶æœ‰äººä¸ºä½ ç‚¹äº®ä¸€ç›ç¯</p>
        </div>

        <div class="theme-card swiss-border">
          <div class="theme-icon">âœï¸</div>
          <h3 class="theme-name">å†™ä½œçš„æ²»æ„ˆ</h3>
          <p class="theme-desc">å†™ä½œæ˜¯ç†è§£ä»–äººå’Œè‡ªå·±çš„æ–¹å¼ï¼Œæ–‡å­—è¿æ¥äº†è¿‡å»ä¸ç°åœ¨</p>
        </div>
      </div>
    </section>

    <!-- Section 04: Quotes -->
    <section class="section-quotes">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="04">QUOTES</p>
        <h2 class="section-title">ì¸ìš©</h2>
        <p class="section-subtitle">ì±… ì†ì˜ ë§ë“¤</p>
      </div>

      <div class="quotes-grid">
        <div class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <p class="quote-text">æˆ‘ä»¬åœ¨å½¼æ­¤ç”Ÿå‘½ä¸­å‡ºç°ï¼Œå°±æ˜¯ä¸ºäº†åœ¨å¯¹æ–¹æœ€é»‘æš—çš„æ—¶å€™æˆä¸ºå…‰</p>
          <div class="quote-source">
            <span class="source-name">ç¾äº¬</span>
            <span class="source-role">æ™šå¹´å¯¹è¯</span>
          </div>
        </div>

        <div class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <p class="quote-text">æˆ‘èŠ±äº†å¤§åŠè¾ˆå­æ‰æ˜ç™½ï¼Œæœ‰äº›è¯ä¸€è¾ˆå­éƒ½è¯´ä¸å‡ºå£ï¼Œä½†ä¸ä»£è¡¨ä¸é‡è¦</p>
          <div class="quote-source">
            <span class="source-name">"æˆ‘"</span>
            <span class="source-role">å…³äºç¥–æ¯</span>
          </div>
        </div>

        <div class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <p class="quote-text">æ­»äº¡ä¸æ˜¯ç»“æŸï¼Œè€Œæ˜¯å¦ä¸€ç§å½¢å¼çš„å­˜åœ¨ã€‚ä½ æ´»åœ¨æˆ‘çš„è®°å¿†é‡Œï¼Œå°±æ˜¯æ°¸æ’</p>
          <div class="quote-source">
            <span class="source-name">ç¾äº¬</span>
            <span class="source-role">é¢å¯¹æ­»äº¡</span>
          </div>
        </div>

        <div class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <p class="quote-text">æˆ‘ä»¬éƒ½æ˜¯å¸¦ç€ä¼¤å£æ´»ç€çš„äººï¼Œåªæ˜¯æœ‰äººé€‰æ‹©è—èµ·æ¥ï¼Œæœ‰äººé€‰æ‹©å±•ç¤º</p>
          <div class="quote-source">
            <span class="source-name">ç¥–æ¯çš„æ—¥è®°</span>
            <span class="source-role">å†…å¿ƒç‹¬ç™½</span>
          </div>
        </div>

        <div class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <p class="quote-text">åœ¨å¤œæ™šï¼Œæˆ‘ä»¬æ›´å®¹æ˜“çœ‹è§è‡ªå·±ã€‚ç™½å¤©çš„å–§åš£é€€å»ï¼Œå†…å¿ƒçš„å£°éŸ³æµ®ç°</p>
          <div class="quote-source">
            <span class="source-name">"æˆ‘"</span>
            <span class="source-role">å…³äºå¤œæ™š</span>
          </div>
        </div>

        <div class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <p class="quote-text">å†™ä½œä¸æ˜¯ä¸ºäº†è®°å½•ï¼Œè€Œæ˜¯ä¸ºäº†ç†è§£ã€‚åœ¨æ–‡å­—ä¸­ï¼Œæˆ‘ä¸è¿‡å»çš„è‡ªå·±å’Œè§£</p>
          <div class="quote-source">
            <span class="source-name">"æˆ‘"</span>
            <span class="source-role">å†™ä½œçš„æ„ä¹‰</span>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const expandedCharacter = ref(null)
const expandedRelationship = ref(null)

const exitWorld = () => {
  router.push('/yearbook/fiction')
}

const toggleCharacter = (index) => {
  if (expandedCharacter.value === index) {
    expandedCharacter.value = null
  } else {
    expandedCharacter.value = index
  }
}

const toggleRelationship = (index) => {
  if (expandedRelationship.value === index) {
    expandedRelationship.value = null
  } else {
    expandedRelationship.value = index
  }
}
</script>

<style scoped>
.bright-night-world {
  min-height: 100vh;
  background: #FAFAFA;
}

/* Exit Button */
.exit-button {
  position: fixed;
  top: 2rem;
  left: 2rem;
  padding: 0.75rem 1.5rem;
  background: #e87a7a;
  color: #ffffff;
  border: none;
  cursor: pointer;
  z-index: 100;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  transition: all 0.15s ease-out;
}

.exit-button:hover {
  background: #d66a6a;
  transform: translateY(-2px);
}

.exit-icon {
  font-size: 1.5rem;
  line-height: 1;
}

/* Header */
.book-header {
  padding: 6rem 2rem 3rem;
  text-align: center;
  position: relative;
}

.header-top {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.volume-label,
.category-label {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 0.625rem;
  letter-spacing: 0.2em;
  color: #e87a7a;
}

.book-title {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: clamp(2.5rem, 5vw, 4rem);
  letter-spacing: -0.03em;
  line-height: 1.1;
  margin: 0 0 0.5rem;
  color: #1a1a1a;
}

.book-subtitle {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 1.125rem;
  color: #666666;
  margin: 0 0 0.5rem;
  font-style: italic;
}

.book-author {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  color: #666666;
  margin: 0 0 1.5rem;
}

.header-decoration {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
}

.moon-icon,
.star-icon {
  font-size: 1.5rem;
}

/* Section Headers */
.section-header {
  padding: 3rem 2rem 2rem;
  text-align: center;
}

.section-number {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 0.875rem;
  letter-spacing: 0.2em;
  color: #e87a7a;
  margin: 0 0 1rem;
}

.section-title {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 2.5rem;
  letter-spacing: -0.03em;
  margin: 0 0 0.5rem;
  color: #1a1a1a;
}

.section-subtitle {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  letter-spacing: 0.25em;
  color: #666666;
  margin: 0;
}

/* Characters Grid */
.characters-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.character-card {
  padding: 2rem;
  background: #ffffff;
  cursor: pointer;
  transition: all 0.15s ease-out;
}

.character-card:hover {
  border-color: #e87a7a;
  transform: translateY(-2px);
}

.character-header {
  margin-bottom: 1rem;
}

.character-name {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1.25rem;
  letter-spacing: 0.05em;
  margin: 0 0 0.5rem;
  color: #1a1a1a;
}

.character-role {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  color: #e87a7a;
  text-transform: uppercase;
}

.character-preview {
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.character-preview p {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 0.875rem;
  line-height: 1.6;
  color: #666666;
  margin: 0;
}

/* Character Details */
.character-details {
  padding: 1.5rem 0;
}

.detail-block {
  margin-bottom: 1rem;
}

.detail-block:last-child {
  margin-bottom: 0;
}

.detail-block h4 {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  color: #e87a7a;
  text-transform: uppercase;
  margin: 0 0 0.5rem;
}

.detail-block p {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 0.875rem;
  line-height: 1.6;
  color: #666666;
  margin: 0;
}

/* Expand Hint */
.expand-hint {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  padding-top: 1rem;
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.1em;
  color: #e87a7a;
}

.expand-hint .arrow {
  transition: transform 0.15s ease-out;
}

/* Relationships Section */
.relationships-timeline {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.relationship-block {
  margin-bottom: 2rem;
}

.relationship-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  padding: 0 2rem;
}

.relationship-icon {
  font-size: 1.5rem;
}

.relationship-title {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1.25rem;
  letter-spacing: 0.05em;
  margin: 0;
  color: #1a1a1a;
}

.relationship-name {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  color: #e87a7a;
  text-transform: uppercase;
}

.relationships-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.relationship-card {
  padding: 2rem;
  background: #ffffff;
  cursor: pointer;
  transition: all 0.15s ease-out;
}

.relationship-card:hover {
  border-color: #e87a7a;
  transform: translateY(-2px);
}

.relationship-preview {
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.relationship-item-title {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  letter-spacing: 0.05em;
  margin: 0 0 0.5rem;
  color: #1a1a1a;
}

.relationship-desc {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 0.875rem;
  color: #666666;
  margin: 0;
}

/* Relationship Details */
.relationship-details {
  padding: 1.5rem 0;
}

.relationship-story,
.relationship-change,
.relationship-insight {
  margin-bottom: 1rem;
}

.relationship-story:last-child,
.relationship-change:last-child,
.relationship-insight:last-child {
  margin-bottom: 0;
}

.relationship-story h4,
.relationship-change h4,
.relationship-insight h4 {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  color: #e87a7a;
  text-transform: uppercase;
  margin: 0 0 0.5rem;
}

.relationship-story p,
.relationship-change p,
.relationship-insight p {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 0.875rem;
  line-height: 1.6;
  color: #666666;
  margin: 0;
}

/* Themes Grid */
.themes-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.theme-card {
  padding: 2rem;
  background: #ffffff;
  text-align: center;
  transition: all 0.15s ease-out;
}

.theme-card:hover {
  border-color: #e87a7a;
  transform: translateY(-2px);
}

.theme-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.theme-name {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1rem;
  letter-spacing: 0.05em;
  margin: 0 0 0.75rem;
  color: #1a1a1a;
}

.theme-desc {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 0.875rem;
  line-height: 1.6;
  color: #666666;
  margin: 0;
}

/* Quotes Grid */
.quotes-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem 3rem;
}

.quote-card {
  padding: 2rem;
  background: #ffffff;
  position: relative;
  transition: all 0.15s ease-out;
}

.quote-card:hover {
  border-color: #e87a7a;
  transform: translateY(-2px);
}

.quote-spine {
  position: absolute;
  top: 0;
  left: 1rem;
  width: 4px;
  height: 100%;
  background: #e87a7a;
}

.quote-text {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.9375rem;
  line-height: 1.7;
  color: #1a1a1a;
  margin: 0 0 1.5rem 0;
  padding-left: 1rem;
}

.quote-source {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.75rem;
  padding-left: 1rem;
}

.source-name {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  letter-spacing: 0.1em;
  color: #1a1a1a;
}

.source-role {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  color: #666666;
}

/* Expand Transition */
.expand-enter-active,
.expand-leave-active {
  transition: all 0.3s ease-out;
  max-height: 1000px;
  overflow: hidden;
}

.expand-enter-from,
.expand-leave-to {
  max-height: 0;
  opacity: 0;
}

/* Responsive */
@media (max-width: 1024px) {
  .characters-grid {
    grid-template-columns: 1fr;
  }

  .themes-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .quotes-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .characters-grid,
  .themes-grid,
  .quotes-grid {
    grid-template-columns: 1fr;
    padding: 1rem;
  }

  .relationship-header {
    padding: 0 1rem;
  }

  .character-card,
  .relationship-card,
  .theme-card,
  .quote-card {
    padding: 1.5rem;
  }

  .exit-button {
    top: 1rem;
    left: 1rem;
    padding: 0.5rem 1rem;
  }

  .book-header {
    padding: 4rem 1rem 2rem;
  }
}
</style>
