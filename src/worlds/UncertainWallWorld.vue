<template>
  <div class="uncertain-wall-world">
    <!-- Shadow decoration -->
    <div class="shadow-decoration shadow-1"></div>
    <div class="shadow-decoration shadow-2"></div>

    <!-- EXIT button -->
    <button class="exit-button" @click="exitWorld">
      <span class="exit-icon">Ã—</span>
      <span class="exit-text">EXIT</span>
    </button>

    <!-- Header Section -->
    <header class="book-header">
      <div class="header-top">
        <span class="volume-label">VOL.014</span>
        <span class="category-label">FICTION</span>
      </div>
      <h1 class="book-title">å°åŸä¸ä¸ç¡®å®šæ€§çš„å¢™</h1>
      <p class="book-subtitle">City and the Uncertain Walls</p>
      <p class="book-author">æ‘ä¸Šæ˜¥æ ‘ Â· 2023</p>
      <div class="header-decoration">
        <div class="wall-visual"></div>
        <div class="quote-mark">"å¢™å­˜åœ¨çš„å”¯ä¸€ç†ç”±ï¼Œå°±æ˜¯ä¿æŠ¤æˆ‘ä»¬"</div>
      </div>
    </header>

    <!-- Section 01: Characters -->
    <section class="section-characters">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="01">CHARACTERS</p>
        <h2 class="section-title">äººç‰©</h2>
        <p class="section-subtitle">å¢™é‡Œçš„å±…æ°‘</p>
      </div>

      <div class="characters-grid">
        <!-- Character 1 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 0 }"
          @click="toggleCharacter(0)"
        >
          <div class="character-header">
            <h3 class="character-name">"æˆ‘"</h3>
            <span class="character-role">17å²çš„è¯»å¢™äºº</span>
          </div>

          <div class="character-preview">
            <p>æ¯å¤©ä¸‹åˆåœ¨å¢™ä¸‹è¯»å–å½±å­çš„å£°éŸ³</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 0" class="character-details">
              <div class="detail-block">
                <h4>èº«ä»½</h4>
                <p>17å²çš„å°‘å¹´ï¼Œè¢«å¸¦åˆ°è¿™åº§å°åŸã€‚å·¥ä½œæ˜¯"è¯»å¢™"â€”â€”æ¯å¤©ä¸‹åˆ2ç‚¹åœ¨å¢™ä¸‹ï¼Œè¯»å–å½±å­é‡Œä¼ æ¥çš„å£°éŸ³å¹¶è®°å½•ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>è®°å¿†</h4>
                <p>é€æ¸å¤±å»å¢™å¤–è¿‡å»çš„è®°å¿†ã€‚åªè®°å¾—æ¨¡ç³Šçš„ç‰‡æ®µï¼šçˆ¶äº²ã€æ¯äº²ã€å¦¹å¦¹ã€å›¾ä¹¦é¦†å¥³å­©ã€‚è®°å¿†åƒç§‹å¤©çš„è½å¶ä¸€æ ·æ…¢æ…¢å‡‹é›¶ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>ä»»åŠ¡</h4>
                <p>è€é˜´å½±å‘Šè¯‰ä»–ï¼Œå¢™å¤–æœ‰å±é™©çš„ä¸œè¥¿ã€‚ä½†"æˆ‘"é€æ¸å¼€å§‹æ€€ç–‘ï¼šå¢™çœŸçš„åœ¨ä¿æŠ¤æˆ‘ä»¬å—ï¼Ÿå¢™å¤–åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
              </div>
              <div class="detail-block">
                <h4>è±¡å¾</h4>
                <p>ä»£è¡¨æ¯ä¸ªåœ¨æˆé•¿ä¸­è¿·å¤±çš„å¹´è½»äººã€‚è¢«å®‰ç½®åœ¨æ—¢å®šçš„è½¨é“ä¸Šï¼Œé€æ¸å¿˜è®°æœ€åˆçš„è‡ªå·±ï¼Œå¼€å§‹è´¨ç–‘å­˜åœ¨çš„æ„ä¹‰ã€‚</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 0 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 0 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Character 2 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 1 }"
          @click="toggleCharacter(1)"
        >
          <div class="character-header">
            <h3 class="character-name">è€é˜´å½±</h3>
            <span class="character-role">ç¥ç§˜çš„å®ˆæŠ¤è€…</span>
          </div>

          <div class="character-preview">
            <p>æ¯å¤©ä¸‹åˆ2ç‚¹å‡†æ—¶å‡ºç°çš„å­˜åœ¨</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 1" class="character-details">
              <div class="detail-block">
                <h4>å½¢æ€</h4>
                <p>ä¸€å›¢æ¨¡ç³Šçš„å½±å­ï¼Œæ²¡æœ‰å›ºå®šçš„å½¢çŠ¶ã€‚æ¯å¤©ä¸‹åˆ2ç‚¹å‡†æ—¶å‡ºç°åœ¨"æˆ‘"çš„æˆ¿é—´ï¼Œå¸¦æ¥å¢™å¤–çš„ä¿¡æ¯å’ŒæŒ‡ä»¤ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>è§’è‰²</h4>
                <p>æ˜¯å°åŸçš„ç®¡ç†è€…ï¼Œä¹Ÿæ˜¯"æˆ‘"çš„å”¯ä¸€æŒ‡å¯¼è€…ã€‚å‘Šè¯‰"æˆ‘"å¢™å¤–æœ‰å±é™©ï¼Œå¢™é‡Œæ˜¯å®‰å…¨çš„ã€‚æ§åˆ¶ç€ä¿¡æ¯çš„æµåŠ¨ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>çœŸç›¸</h4>
                <p>è€é˜´å½±åˆ°åº•æ˜¯è°ï¼Ÿæ˜¯å®ˆæŠ¤è€…è¿˜æ˜¯å›šç¦è€…ï¼Ÿæ˜¯çœŸå®çš„ä¸ªä½“ï¼Œè¿˜æ˜¯ä½“åˆ¶çš„åŒ–èº«ï¼Ÿä¹¦ä¸­ç•™ä¸‹äº†æ‚¬å¿µã€‚</p>
              </div>
              <div class="detail-block">
                <h4>è±¡å¾</h4>
                <p>ä»£è¡¨æƒå¨ã€ä½“åˆ¶ã€æ—¢å®šç§©åºã€‚ç”¨"ä¿æŠ¤"çš„åä¹‰æ§åˆ¶ä¸ªä½“ï¼Œè®©äººå®‰äºç°çŠ¶ï¼Œä¸æ•¢è´¨ç–‘ã€‚</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 1 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 1 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Character 3 -->
        <article
          class="character-card swiss-border"
          :class="{ expanded: expandedCharacter === 2 }"
          @click="toggleCharacter(2)"
        >
          <div class="character-header">
            <h3 class="character-name">å›¾ä¹¦é¦†å¥³å­©</h3>
            <span class="character-role">å”¯ä¸€çš„å…·ä½“è®°å¿†</span>
          </div>

          <div class="character-preview">
            <p>"æˆ‘"æš—æ‹çš„å¯¹è±¡ï¼Œå¢™å¤–è¿‡å»çš„æ ¸å¿ƒ</p>
          </div>

          <transition name="expand">
            <div v-if="expandedCharacter === 2" class="character-details">
              <div class="detail-block">
                <h4>è®°å¿†</h4>
                <p>å¢™å¤–è¿‡å»ä¸­ï¼Œ"æˆ‘"æš—æ‹çš„å¥³å­©ã€‚åœ¨å›¾ä¹¦é¦†ç›¸é‡ï¼Œæœ‰è¿‡çŸ­æš‚çš„äº¤æµã€‚å¥¹æ˜¯"æˆ‘"ä¸å¢™å¤–ä¸–ç•Œæœ€åçš„è¿æ¥ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>æ„ä¹‰</h4>
                <p>å¥¹æ˜¯"æˆ‘"å¿ƒä¸­å”¯ä¸€çœŸå®ã€å…·ä½“çš„å­˜åœ¨ã€‚å…¶ä»–è®°å¿†éƒ½åœ¨æ¨¡ç³Šï¼Œåªæœ‰å¥¹ä¾ç„¶æ¸…æ™°ã€‚ä»£è¡¨çˆ±æƒ…ï¼Œä¹Ÿä»£è¡¨å¢™å¤–ä¸–ç•Œçš„ç¾å¥½ã€‚</p>
              </div>
              <div class="detail-block">
                <h4>è±¡å¾</h4>
                <p>ä»£è¡¨äººæ€§ä¸­çš„æ¸´æœ›ä¸å¸Œæœ›ã€‚å³ä½¿åœ¨è¢«å›°ã€è¢«æ§åˆ¶çš„ç¯å¢ƒä¸­ï¼Œçˆ±æƒ…å’Œç¾å¥½ä¾ç„¶å­˜åœ¨ã€‚æ˜¯"æˆ‘"å¯»æ‰¾è‡ªæˆ‘çš„åŠ¨åŠ›ã€‚</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedCharacter === 2 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedCharacter === 2 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>
      </div>
    </section>

    <!-- Section 02: Time Forms -->
    <section class="section-time">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="02">TIME FORMS</p>
        <h2 class="section-title">æ—¶é—´çš„å½¢æ€</h2>
        <p class="section-subtitle">è®°å¿†ä¸é—å¿˜</p>
      </div>

      <div class="time-stages">
        <!-- Stage 1 -->
        <article
          class="time-card swiss-border"
          :class="{ expanded: expandedTime === 0 }"
          @click="toggleTime(0)"
        >
          <div class="time-header">
            <span class="time-season">ç¬¬ä¸€ä¸ªç§‹å¤©</span>
            <h3 class="time-title">æ¥åˆ°å°åŸ</h3>
          </div>
          <div class="time-preview">
            <p>è¢«å®‰ç½®åœ¨æ—¢å®šçš„è½¨é“ä¸Š</p>
          </div>

          <transition name="expand">
            <div v-if="expandedTime === 0" class="time-details">
              <div class="time-content">
                <h4>è¯»å¢™å·¥ä½œ</h4>
                <p>"æˆ‘"è¢«å¸¦åˆ°å°åŸï¼Œè¢«å‘ŠçŸ¥å·¥ä½œæ˜¯"è¯»å¢™"ï¼šæ¯å¤©ä¸‹åˆåœ¨å¢™ä¸‹ï¼Œç”¨ç‰¹æ®Šä»ªå™¨è¯»å–å½±å­é‡Œä¼ æ¥çš„å£°éŸ³ï¼Œè®°å½•åœ¨çº¸ä¸Šã€‚</p>
              </div>
              <div class="time-content">
                <h4>è§„åˆ™</h4>
                <p>è€é˜´å½±å‘Šè¯‰æˆ‘ï¼šå¢™å¤–æœ‰å±é™©çš„ä¸œè¥¿ï¼Œå¢™é‡Œæ˜¯å®‰å…¨çš„ã€‚ä¸è¦è¯•å›¾ç¿»å¢™ï¼Œä¸è¦é—®å¤ªå¤šé—®é¢˜ã€‚</p>
              </div>
              <div class="time-quote">
                <p>"ä½ å¿…é¡»æ¥å—ä½ è¢«å®‰æ’çš„ä½ç½®ã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedTime === 0 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
          </div>
        </article>

        <!-- Stage 2 -->
        <article
          class="time-card swiss-border"
          :class="{ expanded: expandedTime === 1 }"
          @click="toggleTime(1)"
        >
          <div class="time-header">
            <span class="time-season">ç¬¬äºŒä¸ªç§‹å¤©</span>
            <h3 class="time-title">è®°å¿†æ¶ˆé€€</h3>
          </div>
          <div class="time-preview">
            <p>å¢™å¤–çš„è¿‡å»åƒç§‹å¶èˆ¬å‡‹é›¶</p>
          </div>

          <transition name="expand">
            <div v-if="expandedTime === 1" class="time-details">
              <div class="time-content">
                <h4>é—å¿˜</h4>
                <p>å¢™å¤–è¿‡å»çš„è®°å¿†å¼€å§‹æ¨¡ç³Šã€‚çˆ¶äº²ã€æ¯äº²ã€å¦¹å¦¹çš„é¢å­”é€æ¸ä¸æ¸…æ™°ã€‚åªæœ‰å›¾ä¹¦é¦†å¥³å­©ä¾ç„¶é²œæ´»ã€‚</p>
              </div>
              <div class="time-content">
                <h4>è´¨ç–‘</h4>
                <p>å¼€å§‹æ€€ç–‘ï¼šå¢™å¤–çœŸçš„æœ‰å±é™©å—ï¼Ÿè€é˜´å½±ä¸ºä»€ä¹ˆè¦æ§åˆ¶ä¿¡æ¯ï¼Ÿå¢™åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
              </div>
              <div class="time-content">
                <h4>è§‰é†’</h4>
                <p>æ„è¯†åˆ°è‡ªå·±æ­£åœ¨å¤±å»è‡ªæˆ‘ã€‚ä½†è¿™æ˜¯"è‡ªç„¶çš„"è¿˜æ˜¯"è¢«è®¾è®¡çš„"ï¼Ÿä¸ç¡®å®šæ€§çš„å¢™å¼€å§‹æ˜¾ç°ã€‚</p>
              </div>
              <div class="time-quote">
                <p>"æœ‰äº›ä¸œè¥¿ï¼Œåªæœ‰åœ¨å¤±å»ä¹‹åæ‰èƒ½ç†è§£å®ƒçš„ä»·å€¼ã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedTime === 1 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
          </div>
        </article>

        <!-- Stage 3 -->
        <article
          class="time-card swiss-border"
          :class="{ expanded: expandedTime === 2 }"
          @click="toggleTime(2)"
        >
          <div class="time-header">
            <span class="time-season">ç¬¬ä¸‰ä¸ªç§‹å¤©</span>
            <h3 class="time-title">å¯»æ‰¾è‡ªæˆ‘</h3>
          </div>
          <div class="time-preview">
            <p>åœ¨ä¸ç¡®å®šä¸­å¯»æ‰¾ç¡®å®šçš„ç­”æ¡ˆ</p>
          </div>

          <transition name="expand">
            <div v-if="expandedTime === 2" class="time-details">
              <div class="time-content">
                <h4>é€‰æ‹©</h4>
                <p>"æˆ‘"å¿…é¡»åšå‡ºé€‰æ‹©ï¼šç»§ç»­å®‰äºå¢™å†…çš„"å®‰å…¨"ï¼Œè¿˜æ˜¯å†’é™©å¯»æ‰¾å¢™å¤–çš„çœŸç›¸ï¼Ÿ</p>
              </div>
              <div class="time-content">
                <h4>è§‰é†’</h4>
                <p>æ„è¯†åˆ°å¢™ä¸ä»…æ˜¯ç‰©ç†çš„è¾¹ç•Œï¼Œæ›´æ˜¯å¿ƒç†çš„é™åˆ¶ã€‚çœŸæ­£çš„å¢™ï¼Œæ˜¯å†…å¿ƒçš„ææƒ§å’Œä¸ç¡®å®šã€‚</p>
              </div>
              <div class="time-content">
                <h4>å†³å®š</h4>
                <p>å†³å®šæ‰“ç ´å¢™çš„é™åˆ¶ï¼Œå¯»æ‰¾çœŸæ­£çš„è‡ªæˆ‘ã€‚å³ä½¿è¿™æ„å‘³ç€é¢å¯¹æœªçŸ¥å’Œå±é™©ã€‚</p>
              </div>
              <div class="time-quote">
                <p>"ä¸€å µå¢™æŒ¡åœ¨é‚£é‡Œï¼Œä½ æƒ³çŸ¥é“çš„åªæ˜¯å¢™é‚£è¾¹æ˜¯ä»€ä¹ˆã€‚"</p>
              </div>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedTime === 2 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
          </div>
        </article>
      </div>
    </section>

    <!-- Section 03: Philosophical Concepts -->
    <section class="section-concepts">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="03">CONCEPTS</p>
        <h2 class="section-title">å“²å­¦æ¦‚å¿µ</h2>
        <p class="section-subtitle">å­˜åœ¨çš„æœ¬è´¨</p>
      </div>

      <div class="concepts-grid">
        <!-- Concept 1 -->
        <article
          class="concept-card swiss-border"
          :class="{ expanded: expandedConcept === 0 }"
          @click="toggleConcept(0)"
        >
          <div class="concept-header">
            <h3 class="concept-title">å¢™</h3>
            <div class="concept-icon">ğŸ§±</div>
          </div>
          <div class="concept-preview">
            <p>å­˜åœ¨çš„è¾¹ç•Œï¼Œè‡ªæˆ‘çš„é™åˆ¶</p>
          </div>

          <transition name="expand">
            <div v-if="expandedConcept === 0" class="concept-details">
              <p>å¢™æ˜¯å…¨ä¹¦çš„æ ¸å¿ƒæ„è±¡ã€‚å®ƒæ˜¯ç‰©ç†çš„è¾¹ç•Œï¼Œä¹Ÿæ˜¯å¿ƒç†çš„é™åˆ¶ã€‚å¢™"ä¿æŠ¤"æˆ‘ä»¬ï¼Œä½†ä¹Ÿå›°ä½äº†æˆ‘ä»¬ã€‚</p>
              <p>è€é˜´å½±è¯´å¢™å¤–æœ‰å±é™©ï¼Œä½†è¿™æ˜¯çœŸçš„å—ï¼Ÿè¿˜æ˜¯å¢™åªæ˜¯ä¸ºäº†æ§åˆ¶æˆ‘ä»¬è€Œå­˜åœ¨çš„ï¼Ÿ</p>
              <p>å¢™çš„æœ¬è´¨æ˜¯ä¸ç¡®å®šæ€§ã€‚æˆ‘ä»¬ä¸çŸ¥é“å¢™å¤–æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ææƒ§å¢™å¤–ï¼Œä¾èµ–å¢™å†…ã€‚è¿™ç§ä¸ç¡®å®šæ€§ï¼Œè®©æˆ‘ä»¬æ¥å—è¢«å®‰æ’çš„å‘½è¿ã€‚</p>
              <p>æ‰“ç ´å¢™ï¼Œæ„å‘³ç€æ‰“ç ´å¯¹æƒå¨çš„ç›²ä»ï¼Œæ‰“ç ´å¯¹æœªçŸ¥çš„ææƒ§ï¼Œå¯»æ‰¾çœŸæ­£çš„è‡ªæˆ‘ã€‚</p>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedConcept === 0 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedConcept === 0 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Concept 2 -->
        <article
          class="concept-card swiss-border"
          :class="{ expanded: expandedConcept === 1 }"
          @click="toggleConcept(1)"
        >
          <div class="concept-header">
            <h3 class="concept-title">å½±å­</h3>
            <div class="concept-icon">ğŸ‘¤</div>
          </div>
          <div class="concept-preview">
            <p>è‡ªæˆ‘çš„å¦ä¸€é¢ï¼Œæ„è¯†çš„æ·±æ¸Š</p>
          </div>

          <transition name="expand">
            <div v-if="expandedConcept === 1" class="concept-details">
              <p>å½±å­æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯è‡ªæˆ‘çš„æŠ•å°„ï¼Œè¿˜æ˜¯ç‹¬ç«‹çš„ä¸ªä½“ï¼Ÿä¹¦ä¸­æ²¡æœ‰ç»™å‡ºæ˜ç¡®çš„ç­”æ¡ˆã€‚</p>
              <p>å½±å­æ˜¯æˆ‘ä»¬çš„å¦ä¸€é¢ï¼Œæ˜¯æˆ‘ä»¬ä¸æ„¿æ‰¿è®¤çš„éƒ¨åˆ†ã€‚å®ƒä»¬æ‰¿è½½ç€æˆ‘ä»¬çš„ææƒ§ã€æ¬²æœ›ã€ç§˜å¯†ã€‚</p>
              <p>è€é˜´å½±ä¹Ÿæ˜¯å½±å­ï¼Œä½†å®ƒç»Ÿæ²»ç€å°åŸã€‚è¿™æ˜¯å¦æ„å‘³ç€ï¼Œæˆ‘ä»¬è¢«è‡ªå·±çš„å½±å­æ§åˆ¶ç€ï¼Ÿ</p>
              <p>æ¥å—è‡ªå·±çš„å½±å­ï¼Œå°±æ˜¯æ¥å—å®Œæ•´çš„è‡ªæˆ‘ã€‚æ— è®ºå…‰æ˜è¿˜æ˜¯é»‘æš—ï¼Œéƒ½æ˜¯æˆ‘ä»¬çš„ä¸€éƒ¨åˆ†ã€‚</p>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedConcept === 1 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedConcept === 1 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Concept 3 -->
        <article
          class="concept-card swiss-border"
          :class="{ expanded: expandedConcept === 2 }"
          @click="toggleConcept(2)"
        >
          <div class="concept-header">
            <h3 class="concept-title">ä¸ç¡®å®šæ€§</h3>
            <div class="concept-icon">â“</div>
          </div>
          <div class="concept-preview">
            <p>ç”Ÿå‘½æœ¬è´¨çš„ä¸ç¡®å®š</p>
          </div>

          <transition name="expand">
            <div v-if="expandedConcept === 2" class="concept-details">
              <p>ä¹¦åæ˜¯"ä¸ç¡®å®šæ€§çš„å¢™"ã€‚å¢™çš„æœ¬è´¨å°±æ˜¯ä¸ç¡®å®šæ€§ã€‚</p>
              <p>æˆ‘ä»¬å®³æ€•ä¸ç¡®å®šæ€§ï¼Œæ‰€ä»¥å¯»æ±‚ç¡®å®šæ€§ã€‚æˆ‘ä»¬ä¾èµ–æƒå¨ã€ä½“åˆ¶ã€æ—¢å®šè§„åˆ™ï¼Œå› ä¸ºå®ƒä»¬æä¾›"ç¡®å®š"çš„ç­”æ¡ˆã€‚</p>
              <p>ä½†ç”Ÿå‘½çš„æœ¬è´¨å°±æ˜¯ä¸ç¡®å®šã€‚æ²¡æœ‰ç»å¯¹çš„å®‰å…¨ï¼Œæ²¡æœ‰æ°¸æ’çš„ç­”æ¡ˆã€‚æ¥å—ä¸ç¡®å®šæ€§ï¼Œå°±æ˜¯æ¥å—ç”Ÿå‘½çš„çœŸå®ã€‚</p>
              <p>åªæœ‰æ‹¥æŠ±ä¸ç¡®å®šæ€§ï¼Œæ‰èƒ½çœŸæ­£è‡ªç”±ã€‚å¢™çš„å­˜åœ¨ï¼Œæ°æ°æ˜¯å› ä¸ºæˆ‘ä»¬å®³æ€•ä¸ç¡®å®šã€‚</p>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedConcept === 2 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedConcept === 2 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>

        <!-- Concept 4 -->
        <article
          class="concept-card swiss-border"
          :class="{ expanded: expandedConcept === 3 }"
          @click="toggleConcept(3)"
        >
          <div class="concept-header">
            <h3 class="concept-title">è‡ªæˆ‘ä¸ä»–äºº</h3>
            <div class="concept-icon">ğŸ¤</div>
          </div>
          <div class="concept-preview">
            <p>å¦‚ä½•åŒºåˆ†è‡ªå·±å’Œä»–äººçš„æ„è¯†</p>
          </div>

          <transition name="expand">
            <div v-if="expandedConcept === 3" class="concept-details">
              <p>ä¹¦ä¸­æœ‰ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼šæˆ‘çš„æ„è¯†çœŸçš„å±äºæˆ‘å—ï¼Ÿè¿˜æ˜¯è¢«æŸç§æ›´å¤§çš„æ„è¯†å½±å“ï¼Ÿ</p>
              <p>æˆ‘ä»¬å¦‚ä½•ç¡®å®š"æˆ‘æ˜¯æˆ‘"ï¼Ÿè®°å¿†ã€æ„Ÿå—ã€é€‰æ‹©â€”â€”è¿™äº›çœŸçš„å±äºæˆ‘ä»¬è‡ªå·±å—ï¼Ÿ</p>
              <p>è€é˜´å½±æ§åˆ¶ç€ä¿¡æ¯å’Œæ€æƒ³ã€‚é‚£ä¹ˆ"æˆ‘"çš„æ€æƒ³ï¼ŒçœŸçš„æ˜¯"æˆ‘"çš„å—ï¼Ÿ</p>
              <p>æ‰¾åˆ°çœŸæ­£çš„è‡ªæˆ‘ï¼Œéœ€è¦è´¨ç–‘ä¸€åˆ‡è¢«çŒè¾“çš„è§‚å¿µã€‚åªæœ‰æ‰“ç ´æ—¢å®šçš„æ€ç»´æ¨¡å¼ï¼Œæ‰èƒ½æ‰¾åˆ°å±äºè‡ªå·±çš„æ„è¯†ã€‚</p>
            </div>
          </transition>

          <div class="expand-hint">
            <span>{{ expandedConcept === 3 ? 'æ”¶èµ·' : 'å±•å¼€' }}</span>
            <span class="arrow">{{ expandedConcept === 3 ? 'â†‘' : 'â†“' }}</span>
          </div>
        </article>
      </div>
    </section>

    <!-- Section 04: Quotes -->
    <section class="section-quotes">
      <div class="section-header swiss-border-bottom">
        <p class="section-number" data-number="04">QUOTES</p>
        <h2 class="section-title">é‡‘å¥</h2>
        <p class="section-subtitle">å­˜åœ¨ä¸»ä¹‰</p>
      </div>

      <div class="quotes-grid">
        <article class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <blockquote class="quote-text">
            "å¢™å­˜åœ¨çš„å”¯ä¸€ç†ç”±ï¼Œå°±æ˜¯ä¿æŠ¤æˆ‘ä»¬ä¸è¢«å¢™å¤–çš„ä¸œè¥¿ä¼¤å®³ã€‚"
          </blockquote>
          <div class="quote-divider"></div>
          <div class="quote-source">â€”â€” è€é˜´å½±</div>
        </article>

        <article class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <blockquote class="quote-text">
            "æœ‰äº›ä¸œè¥¿ï¼Œåªæœ‰åœ¨å¤±å»ä¹‹åæ‰èƒ½ç†è§£å®ƒçš„ä»·å€¼ã€‚"
          </blockquote>
          <div class="quote-divider"></div>
          <div class="quote-source">â€”â€” ä¹¦ä¸­æ„Ÿæ‚Ÿ</div>
        </article>

        <article class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <blockquote class="quote-text">
            "ä¸€å µå¢™æŒ¡åœ¨é‚£é‡Œï¼Œä½ æƒ³çŸ¥é“çš„åªæ˜¯å¢™é‚£è¾¹æ˜¯ä»€ä¹ˆã€‚"
          </blockquote>
          <div class="quote-divider"></div>
          <div class="quote-source">â€”â€” "æˆ‘"çš„è§‰é†’</div>
        </article>

        <article class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <blockquote class="quote-text">
            "æˆ‘ä»¬éƒ½æ˜¯å¢™é‡Œçš„å±…æ°‘ï¼Œè¢«ææƒ§å’Œä¸ç¡®å®šæ€§æŸç¼šã€‚"
          </blockquote>
          <div class="quote-divider"></div>
          <div class="quote-source">â€”â€” å­˜åœ¨çš„å›°å¢ƒ</div>
        </article>

        <article class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <blockquote class="quote-text">
            "æ¥å—ä¸ç¡®å®šæ€§ï¼Œå°±æ˜¯æ¥å—ç”Ÿå‘½çš„çœŸå®ã€‚"
          </blockquote>
          <div class="quote-divider"></div>
          <div class="quote-source">â€”â€” è‡ªç”±çš„æ¡ä»¶</div>
        </article>

        <article class="quote-card swiss-border">
          <div class="quote-spine"></div>
          <blockquote class="quote-text">
            "è®°å¿†æ˜¯è¿æ¥è¿‡å»å’Œç°åœ¨çš„æ¡¥ï¼Œå½“æ¡¥æ–­äº†ï¼Œæˆ‘ä»¬å°±è¿·å¤±äº†ã€‚"
          </blockquote>
          <div class="quote-divider"></div>
          <div class="quote-source">â€”â€” è®°å¿†çš„æ„ä¹‰</div>
        </article>
      </div>
    </section>

    <!-- Footer -->
    <footer class="book-footer swiss-border-top">
      <div class="footer-content">
        <div class="footer-left">
          <span class="footer-label">ARCHIVED</span>
          <span class="footer-date">2023</span>
        </div>
        <div class="footer-right">
          <span class="footer-message">ä¸ç¡®å®šä¸­çš„å¯»æ‰¾</span>
        </div>
      </div>
    </footer>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()

const expandedCharacter = ref(null)
const expandedTime = ref(null)
const expandedConcept = ref(null)

const exitWorld = () => {
  router.push('/yearbook/fiction')
}

const toggleCharacter = (index) => {
  if (expandedCharacter.value === index) {
    expandedCharacter.value = null
  } else {
    expandedCharacter.value = index
    expandedTime.value = null
    expandedConcept.value = null
  }
}

const toggleTime = (index) => {
  if (expandedTime.value === index) {
    expandedTime.value = null
  } else {
    expandedTime.value = index
    expandedCharacter.value = null
    expandedConcept.value = null
  }
}

const toggleConcept = (index) => {
  if (expandedConcept.value === index) {
    expandedConcept.value = null
  } else {
    expandedConcept.value = index
    expandedCharacter.value = null
    expandedTime.value = null
  }
}
</script>

<style scoped>
.uncertain-wall-world {
  min-height: 100vh;
  background: linear-gradient(180deg, #e8ecef 0%, #d4d7db 100%);
  color: #1a1a1a;
  position: relative;
  overflow-x: hidden;
}

/* Shadow decoration */
.shadow-decoration {
  position: absolute;
  width: 300px;
  height: 600px;
  background: radial-gradient(ellipse, rgba(0, 0, 0, 0.03) 0%, transparent 70%);
  pointer-events: none;
  z-index: 1;
}

.shadow-1 {
  top: 10%;
  left: -100px;
  animation: shadow-float 25s ease-in-out infinite;
}

.shadow-2 {
  bottom: 10%;
  right: -100px;
  animation: shadow-float 30s ease-in-out infinite reverse;
}

@keyframes shadow-float {
  0%, 100% {
    transform: translateX(0) translateY(0);
  }
  50% {
    transform: translateX(50px) translateY(-30px);
  }
}

/* EXIT Button */
.exit-button {
  position: fixed;
  top: 2rem;
  right: 2rem;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background-color: #7b8a9a;
  border: 2px solid #1a1a1a;
  cursor: pointer;
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  transition: all 0.15s ease-out;
}

.exit-button:hover {
  background-color: #1a1a1a;
  color: #7b8a9a;
}

.exit-icon {
  font-size: 1.5rem;
  line-height: 1;
}

/* Header */
.book-header {
  padding: 6rem 2rem 4rem;
  background: linear-gradient(135deg, #7b8a9a 0%, #8d9aaa 100%);
  color: #fff;
  text-align: center;
  border-bottom: 3px solid #1a1a1a;
  position: relative;
}

.header-top {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  margin-bottom: 2rem;
}

.volume-label,
.category-label {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 0.625rem;
  letter-spacing: 0.2em;
  padding: 0.5rem 1rem;
  border: 2px solid #fff;
}

.book-title {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: clamp(2rem, 5vw, 4rem);
  text-transform: uppercase;
  letter-spacing: -0.03em;
  line-height: 1.2;
  margin: 0 0 1rem 0;
}

.book-subtitle {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 1rem;
  margin: 0 0 0.5rem 0;
  opacity: 0.9;
}

.book-author {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  letter-spacing: 0.1em;
  opacity: 0.8;
  margin: 0;
}

.header-decoration {
  margin-top: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.wall-visual {
  width: 200px;
  height: 60px;
  background: linear-gradient(90deg,
    rgba(255, 255, 255, 0.2) 0%,
    rgba(255, 255, 255, 0.5) 50%,
    rgba(255, 255, 255, 0.2) 100%
  );
  border: 2px solid rgba(255, 255, 255, 0.3);
  position: relative;
}

.wall-visual::before {
  content: '';
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 80px;
  background: rgba(255, 255, 255, 0.4);
}

.quote-mark {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 1rem;
  font-style: italic;
  opacity: 0.9;
}

/* Sections */
section {
  padding: 4rem 2rem;
  position: relative;
  z-index: 2;
}

.section-header {
  padding: 2rem 0;
  margin-bottom: 3rem;
  text-align: center;
}

.section-number {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 0.875rem;
  letter-spacing: 0.2em;
  color: #7b8a9a;
  margin: 0 0 1rem 0;
}

.section-title {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: clamp(1.75rem, 4vw, 3rem);
  text-transform: uppercase;
  letter-spacing: -0.02em;
  line-height: 1.2;
  margin: 0 0 0.5rem 0;
}

.section-subtitle {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  letter-spacing: 0.15em;
  color: #666;
  margin: 0;
}

/* Characters Grid */
.characters-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

.character-card {
  background-color: #fff;
  padding: 2rem;
  cursor: pointer;
  transition: all 0.3s ease-out;
  display: flex;
  flex-direction: column;
}

.character-card:hover:not(.expanded) {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(123, 138, 154, 0.3);
  border-color: #7b8a9a;
}

.character-card.expanded {
  background-color: #e8ecef;
  cursor: default;
  transform: none;
}

.character-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.character-name {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1.25rem;
  margin: 0;
}

.character-role {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.1em;
  color: #666;
}

.character-preview {
  flex: 1;
  margin-bottom: 1rem;
}

.character-preview p {
  font-size: 0.9375rem;
  line-height: 1.6;
  margin: 0;
}

.character-details {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
}

.detail-block {
  margin-bottom: 1.5rem;
}

.detail-block:last-child {
  margin-bottom: 0;
}

.detail-block h4 {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: #7b8a9a;
  margin: 0 0 0.5rem 0;
}

.detail-block p {
  font-size: 0.875rem;
  line-height: 1.6;
  margin: 0;
}

.expand-hint {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 1rem;
  margin-top: auto;
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: #7b8a9a;
}

/* Time Stages */
.time-stages {
  max-width: 900px;
  margin: 0 auto;
  display: grid;
  gap: 2rem;
}

.time-card {
  background-color: #fff;
  padding: 2rem;
  cursor: pointer;
  transition: all 0.3s ease-out;
}

.time-card:hover:not(.expanded) {
  transform: translateX(8px);
  box-shadow: 0 8px 24px rgba(123, 138, 154, 0.3);
  border-color: #7b8a9a;
}

.time-card.expanded {
  background-color: #e8ecef;
  cursor: default;
  transform: none;
}

.time-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.time-season {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  padding: 0.25rem 0.75rem;
  background-color: #7b8a9a;
  color: #fff;
}

.time-title {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1.25rem;
  margin: 0;
}

.time-preview p {
  font-size: 0.9375rem;
  line-height: 1.6;
  margin: 0;
}

.time-details {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
}

.time-content {
  margin-bottom: 1.5rem;
}

.time-content h4 {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: #7b8a9a;
  margin: 0 0 0.5rem 0;
}

.time-content p {
  font-size: 0.875rem;
  line-height: 1.6;
  margin: 0;
}

.time-quote {
  padding: 1rem;
  background-color: rgba(123, 138, 154, 0.05);
  border-left: 4px solid #7b8a9a;
}

.time-quote p {
  font-size: 0.875rem;
  line-height: 1.6;
  font-style: italic;
  margin: 0;
}

/* Concepts */
.concepts-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
  max-width: 1000px;
  margin: 0 auto;
}

.concept-card {
  background-color: #fff;
  padding: 2rem;
  cursor: pointer;
  transition: all 0.3s ease-out;
}

.concept-card:hover:not(.expanded) {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(123, 138, 154, 0.3);
  border-color: #7b8a9a;
}

.concept-card.expanded {
  background-color: #e8ecef;
  cursor: default;
  transform: none;
}

.concept-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.concept-title {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1.25rem;
  margin: 0;
}

.concept-icon {
  font-size: 2rem;
}

.concept-preview {
  margin-bottom: 1rem;
}

.concept-preview p {
  font-size: 0.9375rem;
  line-height: 1.6;
  margin: 0;
  color: #666;
}

.concept-details {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
}

.concept-details p {
  font-size: 0.875rem;
  line-height: 1.6;
  margin: 0 0 1rem 0;
}

.concept-details p:last-child {
  margin-bottom: 0;
}

/* Quotes */
.quotes-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

.quote-card {
  background-color: #fff;
  padding: 2rem;
  position: relative;
  display: flex;
  flex-direction: column;
}

.quote-spine {
  position: absolute;
  left: 1rem;
  top: 1rem;
  bottom: 1rem;
  width: 4px;
  background-color: #7b8a9a;
}

.quote-text {
  font-family: 'Inter', sans-serif;
  font-weight: 400;
  font-size: 1rem;
  line-height: 1.8;
  margin: 0 0 1.5rem 0;
  padding-left: 1rem;
  font-style: italic;
}

.quote-divider {
  width: 60px;
  height: 2px;
  background-color: rgba(0, 0, 0, 0.1);
  margin: 0.5rem 0;
  margin-left: 1rem;
}

.quote-source {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.1em;
  color: #7b8a9a;
  padding-left: 1rem;
  margin: auto 0 0 0;
}

/* Footer */
.book-footer {
  padding: 2rem;
  background-color: #1a1a1a;
  color: #7b8a9a;
}

.footer-content {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.footer-label {
  font-family: 'Inter', sans-serif;
  font-weight: 900;
  font-size: 0.625rem;
  letter-spacing: 0.2em;
  margin-right: 1rem;
}

.footer-date {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 1rem;
}

.footer-message {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  letter-spacing: 0.1em;
}

/* Expand transition */
.expand-enter-active,
.expand-leave-active {
  transition: all 0.3s ease-out;
}

.expand-enter-from,
.expand-leave-to {
  opacity: 0;
  transform: translateY(-10px);
}

/* Responsive */
@media (max-width: 1024px) {
  .characters-grid,
  .quotes-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .concepts-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .book-header {
    padding: 4rem 1rem 3rem;
  }

  section {
    padding: 3rem 1rem;
  }

  .characters-grid,
  .quotes-grid {
    grid-template-columns: 1fr;
  }

  .footer-content {
    flex-direction: column;
    gap: 1rem;
    text-align: center;
  }
}
</style>
