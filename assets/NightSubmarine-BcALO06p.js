import{_ as ys,r as u,e as f,s as _s,o as ks,f as Fe,a as bs,c as l,k as S,b as e,m as E,T as D,F as _,j as k,t as i,n as I,g as m,h as p,i as ws,u as Cs,d as a,w as j,p as ee}from"./index-B3mcre6Z.js";const X={depthZones:[{depth:0,name:"è¡¨å±‚å¸¦",position:0,description:"0-200m é˜³å…‰æ¸—é€åŒº",colorStart:"#87CEEB",colorEnd:"#1E90FF",stories:["main","chibobo"]},{depth:200,name:"ä¸­å±‚å¸¦",position:20,description:"200-800m æƒ³è±¡åŠ›åŒº",colorStart:"#1E90FF",colorEnd:"#0066CC",stories:["main","mushroom"]},{depth:800,name:"åŠæ·±å±‚å¸¦",position:45,description:"800-1500m è®°å¿†åŒº",colorStart:"#0066CC",colorEnd:"#003366",stories:["zhufeng","main"]},{depth:1500,name:"æ·±å±‚å¸¦",position:65,description:"1500-2500m è‰ºæœ¯åŒº",colorStart:"#003366",colorEnd:"#001A33",stories:["pen","musician","main"]},{depth:2500,name:"æ·±æ¸Šå¸¦",position:85,description:"2500-3800m é—å¿˜åŒº",colorStart:"#001A33",colorEnd:"#000000",stories:["main"]},{depth:3800,name:"æµ·æ²Ÿå¸¦",position:100,description:"ç°å®ä¸–ç•Œ",colorStart:"#000000",colorEnd:"#0d1b2a",stories:["main","ending"]}],collections:[{id:"chibobo_1",name:"å¾®ç¼©å°†å†›",icon:"âš”ï¸",story:"å°ºæ³¢ä¸­çš„å°†å†›ï¼Œåªæœ‰æ‹‡æŒ‡å¤§å°ï¼Œå´ç»Ÿé¢†ç€åƒå†›ä¸‡é©¬ã€‚",collected:!1,zone:0,rarity:"common"},{id:"chibobo_2",name:"å¾®ç¼©ä¹¦ç”Ÿ",icon:"ğŸ“š",story:"åœ¨å¾®ç¼©ä¸–ç•Œé‡Œï¼Œä¾ç„¶æœ‰äººåœ¨è‹¦è¯»åœ£è´¤ä¹¦ã€‚",collected:!1,zone:0,rarity:"common"},{id:"chibobo_3",name:"å¾®ç¼©å•†äºº",icon:"ğŸ’°",story:"ç§¤è™½å°ï¼Œå´ç§°å¾—èµ·æ•´ä¸ªå¾®ç¼©ä¸–ç•Œçš„æ‚²æ¬¢ã€‚",collected:!1,zone:0,rarity:"common"},{id:"chibobo_4",name:"å¾®ç¼©å­©ç«¥",icon:"ğŸ‘¶",story:"å°ºæ³¢ä¸­çš„å­©å­ï¼Œä¸çŸ¥é“è‡ªå·±æ˜¯è¢«ç¼©å°çš„äººã€‚",collected:!1,zone:0,rarity:"rare"},{id:"chibobo_5",name:"å¾®ç¼©çš‡å¸",icon:"ğŸ‘‘",story:"æ–¹å¯¸ä¹‹é—´çš„å¸ç‹ï¼Œä¿¯ç°ç€å¾®ç¼©æ±Ÿå±±ã€‚",collected:!1,zone:0,rarity:"legendary"},{id:"mushroom_1",name:"è§å…‰å­¢å­",icon:"âœ¨",story:"åœ¨ä¹¦é¡µä¸Šç”Ÿé•¿çš„è˜‘è‡ï¼Œæ•£å‘ç€å¹½å¹½çš„è§å…‰ã€‚",collected:!1,zone:200,rarity:"common"},{id:"mushroom_2",name:"æ•…äº‹å­¢å­",icon:"ğŸ“–",story:"æ¯ä¸€ä¸ªå­¢å­éƒ½æ‰¿è½½ç€ä¸€ä¸ªæœªè¢«è®²è¿°çš„æ•…äº‹ã€‚",collected:!1,zone:200,rarity:"common"},{id:"mushroom_3",name:"è®°å¿†å­¢å­",icon:"ğŸ§ ",story:"è˜‘è‡å¸æ”¶äº†ä¹¦ä¸­çš„æ–‡å­—ï¼Œé•¿å‡ºäº†è®°å¿†çš„å½¢çŠ¶ã€‚",collected:!1,zone:200,rarity:"rare"},{id:"mushroom_4",name:"æƒ³è±¡å­¢å­",icon:"ğŸ’­",story:"è¿™æ˜¯ä½œè€…æƒ³è±¡åŠ›å‡ç»“æˆçš„å®ä½“ã€‚",collected:!1,zone:200,rarity:"rare"},{id:"mushroom_5",name:"é»„é‡‘å­¢å­",icon:"ğŸ†",story:"æœ€ç¨€æœ‰çš„è˜‘è‡å­¢å­ï¼Œæ®è¯´èƒ½å®ç°ä¸€ä¸ªæ„¿æœ›ã€‚",collected:!1,zone:200,rarity:"legendary"},{id:"zhufeng_1",name:"å±±é—¨é’¥åŒ™",icon:"ğŸ—ï¸",story:"ç«¹å³°å¯ºå±±é—¨çš„é’¥åŒ™ï¼Œéšè—äº†ä¸€ç™¾å¹´çš„ç§˜å¯†ã€‚",collected:!1,zone:800,rarity:"rare"},{id:"zhufeng_2",name:"å¤§æ®¿é’¥åŒ™",icon:"ğŸ—ï¸",story:"æ‰“å¼€å¤§æ®¿çš„é’¥åŒ™ï¼Œä½›åƒä¸‹è—ç€ä¸€ä¸ªæ•…äº‹ã€‚",collected:!1,zone:800,rarity:"rare"},{id:"zhufeng_3",name:"è—ç»é˜é’¥åŒ™",icon:"ğŸ—ï¸",story:"è—ç»é˜çš„é’¥åŒ™ï¼Œé‡Œé¢è—ç€ä¸€æ®µå¤è€çš„è®°å¿†ã€‚",collected:!1,zone:800,rarity:"legendary"},{id:"pen_1",name:"çµæ„Ÿç¢ç‰‡Â·å¤œ",icon:"ğŸŒ™",story:"æ·±å¤œå†™ä½œæ—¶ï¼Œæœˆå…‰æ´’åœ¨çº¸ä¸Šçš„çµæ„Ÿã€‚",collected:!1,zone:1500,rarity:"common"},{id:"pen_2",name:"çµæ„Ÿç¢ç‰‡Â·é£",icon:"ğŸƒ",story:"é£å¹è¿‡çª—æ£‚ï¼Œå¸¦æ¥äº†ä¸€ä¸ªæ•…äº‹çš„é›å½¢ã€‚",collected:!1,zone:1500,rarity:"common"},{id:"pen_3",name:"çµæ„Ÿç¢ç‰‡Â·é›¨",icon:"ğŸŒ§ï¸",story:"é›¨å£°æ·…æ²¥ï¼Œæ–‡å­—å¦‚æ³‰æ°´èˆ¬æ¶Œå‡ºã€‚",collected:!1,zone:1500,rarity:"common"},{id:"pen_4",name:"çµæ„Ÿç¢ç‰‡Â·èŠ±",icon:"ğŸŒ¸",story:"èŠ±å¼€çš„ç¬é—´ï¼Œæ•æ‰åˆ°çš„ç¾çš„çµæ„Ÿã€‚",collected:!1,zone:1500,rarity:"rare"},{id:"pen_5",name:"ä¼ å½©ç¬”æœ¬ä½“",icon:"âœ’ï¸",story:"é‚£æ”¯ä¼ è¯´ä¸­çš„ç¬”ï¼Œèƒ½å†™å‡ºä¸–é—´ä¸€åˆ‡æ–‡å­—ã€‚",collected:!1,zone:1500,rarity:"legendary"},{id:"musician_1",name:"ç«¥å¹´ä¹ç« ",icon:"ğŸ¹",story:"ç¬¬ä¸€æ¬¡è§¦æ‘¸é’¢ç´ç´é”®çš„è®°å¿†ï¼Œé»‘ç™½é”®ä¸Šçš„æ¢¦ã€‚",collected:!1,zone:1500,rarity:"common"},{id:"musician_2",name:"æ¼”å¥ä¹ç« ",icon:"ğŸ¼",story:"åœ¨èšå…‰ç¯ä¸‹æ¼”å¥ï¼ŒæŒå£°é›·åŠ¨çš„æ—¶åˆ»ã€‚",collected:!1,zone:1500,rarity:"common"},{id:"musician_3",name:"å¤±èªä¹ç« ",icon:"ğŸ”‡",story:"ä¸–ç•Œé™·å…¥å¯‚é™ï¼Œä½†å¿ƒä¸­çš„æ—‹å¾‹ä»æœªåœæ­¢ã€‚",collected:!1,zone:1500,rarity:"rare"},{id:"musician_4",name:"è®°å¿†ä¹ç« ",icon:"ğŸµ",story:"é‚£äº›æ°¸ä¸æ¶ˆé€çš„æ—‹å¾‹ï¼Œæ·±è—åœ¨å¿ƒåº•ã€‚",collected:!1,zone:1500,rarity:"rare"},{id:"main_1",name:"æ½œæ°´è‰‡è“å›¾",icon:"ğŸ›¥ï¸",story:"ç«¥å¹´ç”»åœ¨çº¸ä¸Šçš„æ½œæ°´è‰‡ï¼Œç«Ÿç„¶åœ¨æ¢¦å¢ƒä¸­æˆäº†çœŸã€‚",collected:!1,zone:0,rarity:"legendary"},{id:"main_2",name:"æƒ³è±¡ä¹‹ç¿¼",icon:"ğŸ¦‹",story:"æƒ³è±¡åŠ›è®©ä¸»è§’å¾—ä»¥é£ç¿”ï¼Œè¶…è¶Šç°å®çš„æŸç¼šã€‚",collected:!1,zone:200,rarity:"rare"},{id:"main_3",name:"ç¬¬ä¸€ä¸ªæ¢¦å¢ƒ",icon:"ğŸ’¤",story:"ç¬¬ä¸€æ¬¡åœ¨æ¢¦ä¸­é©¾é©¶æ½œæ°´è‰‡ï¼Œé‚£æ˜¯è‡ªç”±çš„èµ·ç‚¹ã€‚",collected:!1,zone:200,rarity:"rare"},{id:"main_4",name:"çˆ¶äº²çš„å¹æ¯",icon:"ğŸ˜”",story:"çˆ¶äº²çš„å¹æ¯ï¼Œæ˜¯æƒ³è±¡åŠ›å¼€å§‹æ¶ˆæ•£çš„ä¿¡å·ã€‚",collected:!1,zone:800,rarity:"common"},{id:"main_5",name:"ä½œä¸šå †",icon:"ğŸ“š",story:"è¶Šæ¥è¶Šå¤šçš„ä½œä¸šï¼Œé€æ¸æŒ¤å äº†æƒ³è±¡çš„ç©ºé—´ã€‚",collected:!1,zone:800,rarity:"common"},{id:"main_6",name:"è€ƒå·",icon:"ğŸ“„",story:"è¯•å·ä¸Šçš„çº¢å‰ï¼Œåƒæ˜¯ç»™æƒ³è±¡åŠ›æ‰“ä¸Šçš„å‰ã€‚",collected:!1,zone:1500,rarity:"common"},{id:"main_7",name:"è€å¸ˆçš„è´£å¤‡",icon:"ğŸ‘©â€ğŸ«",story:'"åˆ«åšç™½æ—¥æ¢¦äº†"â€”â€”è¿™å¥è¯æ€æ­»äº†ä¸€ä¸ªä¸–ç•Œã€‚',collected:!1,zone:1500,rarity:"common"},{id:"main_8",name:"è¤ªè‰²çš„ç”»ç¬”",icon:"ğŸ–Œï¸",story:"ç”»ç¬”ä¸Šçš„é¢œè‰²ï¼Œä¸€ç‚¹ä¸€ç‚¹åœ°è¤ªå»ã€‚",collected:!1,zone:2500,rarity:"rare"},{id:"main_9",name:"ç”Ÿé”ˆçš„æ½œæ°´è‰‡",icon:"ğŸ›¥ï¸",story:"æ½œæ°´è‰‡å¼€å§‹ç”Ÿé”ˆï¼Œé‚£æ˜¯æƒ³è±¡åŠ›æ¶ˆé€çš„éšå–»ã€‚",collected:!1,zone:2500,rarity:"rare"},{id:"main_10",name:"æœ€åçš„æ¢¦",icon:"ğŸŒ™",story:"æœ€åä¸€æ¬¡æ¢¦è§æ½œæ°´è‰‡ï¼Œä¹‹åä¾¿æ˜¯æ°¸ä¹…çš„é—å¿˜ã€‚",collected:!1,zone:2500,rarity:"legendary"},{id:"main_11",name:"æˆå¹´çš„æˆ‘",icon:"ğŸ‘”",story:"é•¿å¤§åï¼Œæˆäº†ä¸€ä¸ªæ™®é€šçš„å¤§äººã€‚",collected:!1,zone:3800,rarity:"common"},{id:"main_12",name:"åŠå…¬æ¡Œ",icon:"ğŸ’¼",story:"åŠå…¬æ¡Œä¸Šçš„æ–‡ä»¶ï¼Œå–ä»£äº†ç«¥å¹´çš„ç”»çº¸ã€‚",collected:!1,zone:3800,rarity:"common"},{id:"main_13",name:"æ¶ˆå¤±çš„å…¥å£",icon:"ğŸšª",story:"å†ä¹Ÿæ‰¾ä¸åˆ°è¿›å…¥é‚£ä¸ªä¸–ç•Œçš„å…¥å£ã€‚",collected:!1,zone:3800,rarity:"rare"},{id:"main_14",name:"æ¨¡ç³Šçš„è®°å¿†",icon:"ğŸŒ«ï¸",story:"æ‰€æœ‰çš„è®°å¿†ï¼Œéƒ½å˜æˆäº†æ¨¡ç³Šçš„å½±å­ã€‚",collected:!1,zone:3800,rarity:"rare"},{id:"main_15",name:"å›å“",icon:"ğŸ’«",story:"ä½†ä¹Ÿè®¸ï¼Œåœ¨æŸä¸ªæ—¶åˆ»ï¼Œé‚£ä¸ªä¸–ç•Œè¿˜åœ¨ç­‰å¾…ç€ã€‚",collected:!1,zone:3800,rarity:"legendary"}],chiboboStory:{title:"å°ºæ³¢",author:"é™ˆæ˜¥æˆ",description:"ä¸€ä¸ªå…³äºå¾®ç¼©ä¸–ç•Œçš„æ•…äº‹",scenes:[{id:"palace",name:"å¾®ç¼©å®«æ®¿",description:"æ–¹å¯¸ä¹‹é—´çš„å®ä¼Ÿå®«æ®¿",items:["chibobo_1","chibobo_5"]},{id:"houses",name:"æ°‘å±…åŒºåŸŸ",description:"å¾®ç¼©äººçš„ç”Ÿæ´»ç©ºé—´",items:["chibobo_2","chibobo_4"]},{id:"market",name:"å¸‚é›†",description:"çƒ­é—¹çš„å¾®ç¼©å¸‚é›†",items:["chibobo_3"]}]},mushroomStory:{title:"ä¹¦ä¸­è˜‘è‡",author:"é™ˆæ˜¥æˆ",description:"ä¹¦é¡µä¸Šé•¿å‡ºäº†è˜‘è‡",mushrooms:[{id:"fluorescent",name:"è§å…‰è˜‘è‡",color:"#00ff00",description:"æ•£å‘ç€ç»¿è‰²è§å…‰",spore:"mushroom_1"},{id:"story",name:"æ•…äº‹è˜‘è‡",color:"#ff69b4",description:"å½¢çŠ¶åƒä¸€æœ¬ä¹¦",spore:"mushroom_2"},{id:"memory",name:"è®°å¿†è˜‘è‡",color:"#9370db",description:"å¸æ”¶äº†ä¹¦çš„è®°å¿†",spore:"mushroom_3"},{id:"imagination",name:"æƒ³è±¡è˜‘è‡",color:"#ffa500",description:"æƒ³è±¡åŠ›çš„ç»“æ™¶",spore:"mushroom_4"},{id:"golden",name:"é»„é‡‘è˜‘è‡",color:"#ffd700",description:"æœ€ç¨€æœ‰çš„è˜‘è‡",spore:"mushroom_5"}]},zhufengStory:{title:"ç«¹å³°å¯º",author:"é™ˆæ˜¥æˆ",description:"è—é’¥åŒ™ä¸å¤å¯º",locations:[{id:"gate",name:"å±±é—¨",description:"å¤è€çš„å±±é—¨ï¼Œåˆ»ç€å¯¹è”",key:"zhufeng_1",hint:"å¯¹è”çš„ç¬¬ä¸‰å­—"},{id:"hall",name:"å¤§æ®¿",description:"ä½›åƒåº„ä¸¥è‚ƒç©†",key:"zhufeng_2",hint:"ä½›åº§çš„è²å°ä¸‹"},{id:"backyard",name:"åé™¢",description:"ç«¹æ—æ·±å¤„ï¼Œå¤äº•å¹½å¹½",key:"zhufeng_3",hint:"å¤äº•æ—çš„çŸ³å—"}]},penStory:{title:"ä¼ å½©ç¬”",author:"é™ˆæ˜¥æˆ",description:"æ‰åä¸ä»£ä»·",fragments:[{id:"pen_1",trigger:"æ·±å¤œå†™ä½œ"},{id:"pen_2",trigger:"é£å¹çª—æ£‚"},{id:"pen_3",trigger:"é›¨å¤œçµæ„Ÿ"},{id:"pen_4",trigger:"èŠ±å¼€ç¬é—´"},{id:"pen_5",trigger:"å¾—åˆ°ä¼ å½©ç¬”"}]},musicianStory:{title:"éŸ³ä¹å®¶",author:"é™ˆæ˜¥æˆ",description:"éŸ³ä¹ä¸è®°å¿†",movements:[{id:"musician_1",name:"ç«¥å¹´é’¢ç´",scene:"childhood",description:"é»‘ç™½é”®ä¸Šçš„ç¬¬ä¸€æ¬¡è§¦ç¢°"},{id:"musician_2",name:"é’å¹´æ¼”å¥",scene:"performance",description:"èšå…‰ç¯ä¸‹çš„é«˜å…‰æ—¶åˆ»"},{id:"musician_3",name:"å¤±èªå¯‚é™",scene:"deafness",description:"ä¸–ç•Œé™·å…¥å¯‚é™"},{id:"musician_4",name:"è®°å¿†æ—‹å¾‹",scene:"memory",description:"å¿ƒä¸­çš„æ°¸ä¸æ¶ˆé€"}]},mainStory:{title:"å¤œæ™šçš„æ½œæ°´è‰‡",chapters:[{depth:0,title:"ç«¥å¹´æ¢¦å¢ƒ",description:"æ½œæ°´è‰‡çš„è¯ç”Ÿ",narrative:"æˆ‘æ„æƒ³å‡ºä¸€è‰˜æ½œæ°´è‰‡ã€‚å®ƒä¸ä»…æ˜¯å­˜åœ¨äºæˆ‘çš„æƒ³è±¡ä¸­ï¼Œè€Œæ˜¯ç¡®ç¡®å®å®åœ°ï¼Œåœæ³Šåœ¨æˆ‘å®¶é™¢å­é‡Œçš„è€æ§æ ‘ä¸‹ã€‚",mood:"wonder"},{depth:200,title:"æƒ³è±¡åŠ›é©°éª‹",description:"æ½œå…¥æƒ³è±¡çš„æµ·",narrative:"æ¯å½“å¤œæ™šæ¥ä¸´ï¼Œæˆ‘å°±ä¼šæ½œå…¥æ·±æµ·ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘çš„æƒ³è±¡åŠ›å¯ä»¥ä»»æ„é©°éª‹ï¼Œåˆ›é€ å‡ºä¸€ä¸ªåˆä¸€ä¸ªå¥‡å¹»çš„ä¸–ç•Œã€‚",mood:"joy"},{depth:800,title:"ç°å®å…¥ä¾µ",description:"æˆé•¿çš„ç¬¬ä¸€é“é˜´å½±",narrative:"çˆ¶äº²çš„å¹æ¯ï¼Œè€å¸ˆçš„è´£å¤‡ï¼Œä½œä¸šçš„å †ç§¯...ç°å®ä¸–ç•Œå¼€å§‹ä¸€ç‚¹ç‚¹ä¾µèš€æˆ‘çš„æƒ³è±¡ä¸–ç•Œã€‚",mood:"tension"},{depth:1500,title:"é€æ¸é—å¿˜",description:"æƒ³è±¡åŠ›çš„æ¶ˆé€",narrative:"è€ƒå·ä¸Šçš„çº¢å‰ï¼Œåƒæ˜¯ç»™æƒ³è±¡åŠ›æ‰“ä¸Šçš„å‰ã€‚æ½œæ°´è‰‡å¼€å§‹ç”Ÿé”ˆï¼Œé‚£æ˜¯æƒ³è±¡åŠ›æ¶ˆé€çš„éšå–»ã€‚",mood:"sadness"},{depth:2500,title:"æ·±æ¸Šåº•éƒ¨",description:"æœ€åçš„æ¢¦",narrative:"æœ€åä¸€æ¬¡æ¢¦è§æ½œæ°´è‰‡ã€‚ä¹‹åï¼Œé‚£ä¸ªå…¥å£æ°¸è¿œæ¶ˆå¤±äº†ã€‚",mood:"loss"},{depth:3800,title:"æˆå¹´å›æœ›",description:"ç°å®çš„å›å“",narrative:"é•¿å¤§åï¼Œæˆäº†ä¸€ä¸ªæ™®é€šçš„å¤§äººã€‚ä½†å¶å°”ï¼Œåœ¨æŸäº›æ—¶åˆ»ï¼Œæˆ‘è¿˜ä¼šæƒ³èµ·é‚£è‰˜æ½œæ°´è‰‡ï¼Œæƒ³èµ·é‚£ä¸ªæ›¾ç»å±äºæˆ‘çš„ä¸–ç•Œã€‚",mood:"nostalgia"}]},achievements:[{id:"first_dive",name:"åˆæ¬¡ä¸‹æ½œ",description:"å®Œæˆç¬¬ä¸€æ¬¡ä¸‹æ½œ",unlocked:!1},{id:"deep_explorer",name:"æ·±æµ·æ¢é™©å®¶",description:"åˆ°è¾¾æ·±æ¸Šå¸¦",unlocked:!1},{id:"abyss_reached",name:"æŠµè¾¾æ·±æ¸Š",description:"åˆ°è¾¾æœ€æ·±ç‚¹",unlocked:!1},{id:"chibobo_master",name:"å¾®ç¼©ä¸–ç•Œå¤§å¸ˆ",description:"æ”¶é›†æ‰€æœ‰ã€Šå°ºæ³¢ã€‹ç‰©å“",unlocked:!1},{id:"mushroom_gardener",name:"è˜‘è‡å›­ä¸",description:"æ”¶é›†æ‰€æœ‰ã€Šä¹¦ä¸­è˜‘è‡ã€‹å­¢å­",unlocked:!1},{id:"zhufeng_guardian",name:"ç«¹å³°å®ˆæŠ¤è€…",description:"è§£å¼€ã€Šç«¹å³°å¯ºã€‹æ‰€æœ‰è°œé¢˜",unlocked:!1},{id:"art_collector",name:"è‰ºæœ¯æ”¶è—å®¶",description:"æ”¶é›†æ‰€æœ‰ã€Šä¼ å½©ç¬”ã€‹å’Œã€ŠéŸ³ä¹å®¶ã€‹ç‰©å“",unlocked:!1},{id:"memory_keeper",name:"è®°å¿†å®ˆæŠ¤è€…",description:"æ”¶é›†æ‰€æœ‰15ä¸ªä¸»çº¿è®°å¿†ç¢ç‰‡",unlocked:!1},{id:"completionist",name:"å®Œç¾æ”¶è—",description:"æ”¶é›†æ‰€æœ‰50ä¸ªç‰©å“",unlocked:!1}]},xs={key:0,class:"warp-overlay"},Ms={class:"submarine-cockpit"},zs={key:0,class:"opening-narrative"},$s={class:"narrative-text"},Ss={class:"cockpit-decoration"},Es={class:"pipe pipe-left"},Ds={class:"pipe pipe-right"},Is={class:"dashboard-gauges"},Bs={class:"gauge-container pressure-gauge"},As={class:"gauge"},Fs={viewBox:"0 0 100 100",class:"gauge-svg"},Ts=["stroke-dasharray","stroke-dashoffset"],Ls={class:"gauge-value"},Hs={class:"gauge-container temperature-gauge"},Os={class:"gauge"},Ns={viewBox:"0 0 100 100",class:"gauge-svg"},Vs=["stroke-dasharray","stroke-dashoffset"],Ws={class:"gauge-value"},Xs={class:"gauge-container oxygen-gauge"},Ps={class:"gauge"},Rs={viewBox:"0 0 100 100",class:"gauge-svg"},Zs=["stroke-dasharray","stroke-dashoffset"],js={class:"gauge-value"},Gs={class:"gauge-container energy-gauge"},Us={class:"gauge"},Ys={viewBox:"0 0 100 100",class:"gauge-svg"},qs=["stroke-dasharray","stroke-dashoffset"],Js={class:"gauge-value"},Ks={class:"cockpit-header"},Qs={class:"depth-indicator"},et={class:"depth-value"},st={class:"depth-bar"},tt={class:"location-indicator"},ot={class:"location-name"},nt={class:"location-description"},it={class:"porthole-view"},lt={class:"discovery-info"},at={class:"discovery-title"},rt={class:"discovery-desc"},ct={key:0,class:"periscope-hint"},dt={class:"sea-creatures"},ut={class:"angle-indicator"},vt={class:"angle-value"},pt={class:"depth-markers"},ht={class:"marker-depth"},mt={class:"marker-label"},gt={class:"control-panel"},ft={class:"control-status-lights"},yt={class:"control-group"},_t=["disabled"],kt=["disabled"],bt={class:"control-group"},wt={key:0,class:"achievement-notification"},Ct={class:"achievement-info"},xt={class:"achievement-name"},Mt={class:"achievement-desc"},zt={class:"explore-header"},$t={class:"explore-title"},St={class:"explore-progress"},Et={class:"explore-body"},Dt={key:0,class:"chibobo-world"},It={class:"world-intro"},Bt={class:"world-narrative"},At={class:"scene-selection"},Ft=["onClick"],Tt={class:"scene-icon"},Lt={class:"scene-info"},Ht={class:"scene-name"},Ot={class:"scene-desc"},Nt={class:"scene-items"},Vt={key:1,class:"mushroom-world"},Wt={class:"world-intro"},Xt={class:"world-narrative"},Pt={class:"mushroom-selection"},Rt=["onClick"],Zt={class:"mushroom-info"},jt={class:"mushroom-name"},Gt={class:"mushroom-desc"},Ut={key:2,class:"zhufeng-world"},Yt={class:"world-intro"},qt={class:"world-narrative"},Jt={class:"location-selection"},Kt=["onClick"],Qt={class:"location-image"},eo={class:"location-icon"},so={class:"location-content"},to={class:"location-name"},oo={class:"location-desc"},no={key:0,class:"key-hint"},io={class:"hint-text"},lo={class:"key-icon"},ao={class:"key-text"},ro={key:3,class:"art-world"},co={class:"world-intro"},uo={class:"world-narrative"},vo={class:"art-categories"},po={class:"art-grid pen-fragments"},ho=["onClick"],mo={class:"art-card-bg"},go={class:"art-icon"},fo={class:"art-content"},yo={class:"art-title"},_o={class:"art-description"},ko={class:"art-status"},bo={class:"status-icon"},wo={class:"status-text"},Co={class:"art-grid music-movements"},xo=["onClick"],Mo={class:"art-icon"},zo={class:"art-content"},$o={class:"art-title"},So={class:"art-description"},Eo={class:"art-status"},Do={class:"status-icon"},Io={class:"status-text"},Bo={key:4,class:"main-story-world"},Ao={key:0,class:"chapter-narrative"},Fo={class:"chapter-header"},To={class:"chapter-title"},Lo={class:"chapter-depth"},Ho={class:"chapter-text"},Oo={key:1,class:"memory-fragments"},No={class:"fragments-title"},Vo={class:"fragments-grid"},Wo=["onClick"],Xo={class:"memory-shard"},Po={class:"memory-icon"},Ro={class:"memory-content"},Zo={class:"memory-name"},jo={class:"memory-story"},Go={class:"memory-status"},Uo={class:"status-text"},Yo={key:2,class:"no-memories"},qo={key:5,class:"collected-showcase"},Jo={class:"showcase-items"},Ko={class:"showcase-icon"},Qo={class:"showcase-name"},en={class:"modal-content collection-modal"},sn={class:"modal-header"},tn={class:"modal-body"},on={class:"collection-stats"},nn={class:"stat-item"},ln={class:"stat-value"},an={class:"stat-item"},rn={class:"stat-value"},cn={class:"collection-grid"},dn={class:"item-icon"},un={class:"item-info"},vn={class:"item-name"},pn={class:"item-story"},hn={class:"modal-content log-modal"},mn={class:"modal-header"},gn={class:"modal-body"},fn={class:"log-entries"},yn={class:"log-time"},_n={class:"log-depth"},kn={class:"log-text"},bn={class:"modal-content map-modal"},wn={class:"modal-header"},Cn={class:"modal-body"},xn={class:"depth-map"},Mn=["onClick"],zn={class:"zone-depth"},$n={class:"zone-name"},Sn={class:"zone-description"},En={class:"zone-status"},Dn={key:0},In={class:"quick-jump-buttons"},Bn=["onClick"],An={class:"modal-content settings-modal"},Fn={class:"modal-header"},Tn={class:"modal-body"},Ln={class:"settings-section"},Hn={class:"setting-item"},On={class:"setting-item"},Nn={key:0,class:"save-info"},Vn={class:"info-item"},Wn={class:"info-value"},Xn={class:"info-item"},Pn={class:"info-value"},Rn={class:"info-item"},Zn={class:"info-value"},jn={class:"info-item"},Gn={class:"info-value"},Un={class:"info-item"},Yn={class:"info-value"},qn=45,Jn={__name:"NightSubmarine",setup(Kn){const Te=Cs(),O=u(null),ve=u(!1),pe=u(!0),c=u(0),T=u(3800),P=u([0]),B=u(!1),A=u(!1),x=u(!1),z=u(!1),G=u(!0),U=u(!0),R=u(!0),C=u(null),Y=u(!1),se=u(!1),M=u(""),te=u({title:"",description:""}),v=u({title:"",narrative:"",progress:"",scenes:[],collectedItems:[]}),oe={0:{id:"chibobo",title:"å‘ç°å¾®ç¼©ä¸–ç•Œ",description:"æ¢æµ‹åˆ°å¾®ç¼©ç”Ÿå‘½çš„ä¿¡å·...",storyId:"chiboboStory"},200:{id:"mushroom",title:"ä¹¦ä¸­è˜‘è‡",description:"ä¹¦é¡µä¸Šé•¿å‡ºäº†å¥‡å¼‚çš„ç”Ÿå‘½",storyId:"mushroomStory"},800:{id:"zhufeng",title:"ç«¹å³°å¯º",description:"å¤è€çš„è®°å¿†åœ¨æ­¤æ²‰ç¡",storyId:"zhufengStory"},1500:{id:"art",title:"è‰ºæœ¯åŒº",description:"çµæ„Ÿä¸æ—‹å¾‹çš„æ·±å¤„",storyId:"artStory"},2500:{id:"abyss",title:"æ·±æ¸Šåº•éƒ¨",description:"æœ€åçš„æ¢¦ï¼Œæƒ³è±¡åŠ›æ¶ˆé€çš„åœ°æ–¹...",storyId:"mainStory"},3800:{id:"reality",title:"æµ·æ²Ÿæ·±å¤„",description:"ç°å®ä¸–ç•Œï¼Œå›æœ›é‚£æ®µé—å¤±çš„æ—¶å…‰",storyId:"mainStory"}},w=u(0),Z=u(!1),ne=u(!0);let he=0,me=0;const Le=u([{type:"jellyfish",icon:"ğŸ",x:20,y:30,scale:.8,rotation:15,opacity:.6},{type:"fish",icon:"ğŸŸ",x:70,y:60,scale:.6,rotation:-20,opacity:.5},{type:"starfish",icon:"â­",x:40,y:80,scale:.7,rotation:0,opacity:.4},{type:"bubble",icon:"ğŸ«§",x:85,y:25,scale:.5,rotation:45,opacity:.7},{type:"seaweed",icon:"ğŸŒ¿",x:15,y:70,scale:.9,rotation:-10,opacity:.5}]),He=u("æˆ‘æ„æƒ³å‡ºä¸€è‰˜æ½œæ°´è‰‡ã€‚å®ƒä¸ä»…æ˜¯å­˜åœ¨äºæˆ‘çš„æƒ³è±¡ä¸­ï¼Œè€Œæ˜¯ç¡®ç¡®å®å®åœ°ï¼Œåœæ³Šåœ¨æˆ‘å®¶é™¢å­é‡Œçš„è€æ§æ ‘ä¸‹ã€‚"),Oe=u([{color:"#4CAF50",active:!0,warning:!1},{color:"#2196F3",active:!0,warning:!1},{color:"#FF9800",active:!1,warning:!0},{color:"#F44336",active:!1,warning:!1}]),ie=u(!1),le=u(!1),g=u(X.collections||[]),L=u([]),Ne=u(X.achievements||[]),ae=u(!1),q=u(null),$=t=>{const s=Ne.value.find(o=>o.id===t);s&&!s.unlocked&&(s.unlocked=!0,q.value=s,ae.value=!0,y(`ğŸ† æˆå°±è§£é”ï¼š${s.name}`),setTimeout(()=>{ae.value=!1},3e3),W())},re=()=>{c.value>0&&$("first_dive"),c.value>=1500&&$("deep_explorer"),c.value>=3800&&$("abyss_reached"),g.value.filter(d=>d.id.startsWith("chibobo_")&&d.collected).length>=5&&$("chibobo_master"),g.value.filter(d=>d.id.startsWith("mushroom_")&&d.collected).length>=5&&$("mushroom_gardener"),g.value.filter(d=>d.id.startsWith("zhufeng_")&&d.collected).length>=3&&$("zhufeng_guardian"),g.value.filter(d=>(d.id.startsWith("pen_")||d.id.startsWith("musician_"))&&d.collected).length>=9&&$("art_collector"),g.value.filter(d=>d.id.startsWith("main_")&&d.collected).length>=15&&$("memory_keeper"),g.value.filter(d=>d.collected).length>=be.value&&$("completionist")},Ve=t=>{const s=g.value.find(o=>o.id===t);s&&!s.collected&&(s.collected=!0,y(`å‘ç°æ–°ç‰©å“ï¼š${s.icon} ${s.name}`),re(),W())};let J=null,K=[],Q=null;const We=[{depth:0,label:"æµ·é¢",position:0},{depth:200,label:"è¡¨å±‚",position:20},{depth:800,label:"ä¸­å±‚",position:40},{depth:1500,label:"åŠæ·±å±‚",position:60},{depth:2500,label:"æ·±å±‚",position:80},{depth:3800,label:"æ·±æ¸Š",position:100}],H=[{depth:0,name:"è¡¨å±‚å¸¦",position:0,description:"0-200m é˜³å…‰æ¸—é€åŒº"},{depth:200,name:"ä¸­å±‚å¸¦",position:20,description:"200-800m æƒ³è±¡åŠ›åŒº"},{depth:800,name:"åŠæ·±å±‚å¸¦",position:45,description:"800-1500m è®°å¿†åŒº"},{depth:1500,name:"æ·±å±‚å¸¦",position:65,description:"1500-2500m è‰ºæœ¯åŒº"},{depth:2500,name:"æ·±æ¸Šå¸¦",position:85,description:"2500-3800m é—å¿˜åŒº"},{depth:3800,name:"æµ·æ²Ÿå¸¦",position:100,description:"ç°å®ä¸–ç•Œ"}],Xe=f(()=>c.value/T.value*100),F=2*Math.PI*qn,ge=f(()=>(1+c.value/10).toFixed(1)),Pe=f(()=>F),Re=f(()=>{const t=Math.min((parseFloat(ge.value)-1)/380,1);return F*(1-t)}),fe=f(()=>{const s=25-c.value/T.value*20;return Math.max(s,5).toFixed(1)}),Ze=f(()=>F),je=f(()=>{const t=(parseFloat(fe.value)-5)/20;return F*(1-t)}),ye=f(()=>{const s=c.value/100*.5;return Math.max(100-s,0).toFixed(1)}),Ge=f(()=>F),Ue=f(()=>{const t=parseFloat(ye.value)/100;return F*(1-t)}),_e=f(()=>{const s=Math.sin(Date.now()/1e3)*5;return Math.max(90+s,0).toFixed(1)}),Ye=f(()=>F),qe=f(()=>{const t=parseFloat(_e.value)/100;return F*(1-t)}),Je=f(()=>{const t=H.find(s=>c.value>=s.depth);return t?t.name:"æœªçŸ¥åŒºåŸŸ"}),Ke=f(()=>{const t=H.find(s=>c.value>=s.depth);return t?t.description:""}),ke=f(()=>g.value.filter(t=>t.collected).length),be=f(()=>g.value.length),Qe=f(()=>c.value/T.value*100),es=f(()=>{const t=c.value/T.value;return t<.05?{background:"linear-gradient(180deg, #87CEEB 0%, #1E90FF 50%, #000080 100%)"}:t<.2?{background:"linear-gradient(180deg, #1E90FF 0%, #0066CC 50%, #003366 100%)"}:t<.4?{background:"linear-gradient(180deg, #0066CC 0%, #003366 50%, #001A33 100%)"}:t<.65?{background:"linear-gradient(180deg, #003366 0%, #001A33 50%, #000D1A 100%)"}:t<.85?{background:"linear-gradient(180deg, #001A33 0%, #000D1A 50%, #000000 100%)"}:{background:"#000000"}}),we=()=>{if(c.value<T.value){const t=H.find(s=>s.depth>c.value);t&&(c.value=t.depth,y(`ä¸‹æ½œè‡³ ${t.depth}m - ${t.name}`),P.value.includes(t.depth)||P.value.push(t.depth),Me(),re(),W())}},Ce=()=>{if(c.value>0){const t=[...H].reverse().find(s=>s.depth<c.value);t&&(c.value=t.depth,y(`ä¸Šæµ®è‡³ ${t.depth}m - ${t.name}`),re(),W())}},xe=t=>{c.value=t,x.value=!1,y(`å¿«é€Ÿèˆªè¡Œè‡³ ${t}m`)},ce=t=>P.value.includes(t),ss=()=>{G.value=!1,y("æƒ³è±¡åŠ›å¯åŠ¨ï¼Œæ½œæ°´è‰‡ç³»ç»Ÿä¸Šçº¿"),setTimeout(()=>{Me()},1e3)},Me=()=>{const t=c.value,s=oe[t];s&&(te.value=s,Y.value=!0,setTimeout(()=>{Y.value=!1},5e3))},ts=()=>{const t=oe[c.value];t&&(M.value=t.id,Y.value=!1,ze(t.id,t.storyId),se.value=!0,y(`è¿›å…¥æ¢ç´¢ï¼š${t.title}`))},ze=(t,s)=>{const o=X[s];if(!o)return;const n=g.value.filter(r=>r.collected&&r.zone===c.value).map(r=>r.id);if(t==="chibobo")v.value={title:o.title,narrative:"åœ¨å°ºæ³¢ä¹‹ä¸­ï¼Œæœ‰æ‹‡æŒ‡å¤§å°çš„å°†å†›åœ¨æŒ‡æŒ¥åƒå†›ä¸‡é©¬ï¼Œæœ‰å¾®ç¼©çš„è¯»ä¹¦äººåœ¨è‹¦è¯»åœ£è´¤ä¹¦ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„å¾®ç¼©ä¸–ç•Œï¼Œç­‰å¾…ä½ å»å‘ç°ã€‚",progress:`${n.length}/5 ç‰©å“å·²æ”¶é›†`,scenes:o.scenes.map(r=>({...r,icon:os(r.id)})),collectedItems:n};else if(t==="mushroom")v.value={title:o.title,narrative:o.description,progress:`${n.length}/5 å­¢å­å·²æ”¶é›†`,scenes:o.mushrooms.map(r=>({id:r.id,name:r.name,description:r.description,icon:"ğŸ„",items:[r.spore]})),collectedItems:n};else if(t==="zhufeng")v.value={title:o.title,narrative:o.description,progress:`${n.length}/3 é’¥åŒ™å·²æ‰¾åˆ°`,scenes:o.locations.map(r=>({...r,items:[r.key]})),collectedItems:n};else if(t==="art")v.value={title:"è‰ºæœ¯æ·±å¤„",narrative:"åœ¨è¿™é‡Œï¼Œçµæ„Ÿå’Œæ—‹å¾‹äº¤ç»‡æˆæ°¸æ’çš„ä¹ç« ã€‚",progress:`${n.length}/9 å·²æ”¶é›†`,scenes:[...X.penStory.fragments.map(r=>({id:r.id,name:`çµæ„Ÿï¼š${r.trigger}`,description:"æ•æ‰é‚£ä¸€ç¬é—´çš„çµæ„Ÿ",icon:"âœ’ï¸",items:[r.id]})),...X.musicianStory.movements.map(r=>({id:r.id,name:r.name,description:r.description,icon:"ğŸµ",items:[r.id]}))],collectedItems:n};else if(t==="abyss"||t==="reality"){const r=o.chapters.find(d=>d.depth===c.value),h=g.value.filter(d=>d.zone===c.value&&d.id.startsWith("main_")).sort((d,fs)=>d.id.localeCompare(fs.id));v.value={title:r?r.title:t==="abyss"?"æ·±æ¸Šåº•éƒ¨":"æµ·æ²Ÿæ·±å¤„",narrative:r?r.narrative:"åœ¨è¿™é‡Œï¼Œå›å¿†ä¸ç°å®äº¤ç»‡ã€‚",progress:`${h.length}/3 è®°å¿†ç¢ç‰‡å·²æ‰¾å›`,chapter:r,memories:h,scenes:h.map(d=>({id:d.id,name:d.name,description:d.story,icon:d.icon,items:[d.id],collected:d.collected})),collectedItems:n}}},os=t=>({palace:"ğŸ°",houses:"ğŸ ",market:"ğŸª"})[t]||"ğŸ“",ns=t=>({gate:"â›©ï¸",hall:"ğŸ¯",backyard:"ğŸ‹"})[t]||"ğŸ“",is=t=>({wonder:"âœ¨ å¥‡å¦™",joy:"ğŸŒˆ æ¬¢æ„‰",tension:"âš¡ ç´§å¼ ",sadness:"ğŸ’” æ‚²ä¼¤",loss:"ğŸŒ‘ å¤±è½",nostalgia:"ğŸ•°ï¸ æ€€å¿µ"})[t]||t,$e=()=>{se.value=!1,M.value="",y("è¿”å›æ½œæ°´è‰‡")},N=t=>{const s=t.items.filter(n=>!b(n));if(s.length>0){const n=s[Math.floor(Math.random()*s.length)];Ve(n),y(`åœ¨${t.name}å‘ç°äº†ï¼š${Ee(n)}`)}else y(`${t.name}ä¸­çš„ç‰©å“å·²å…¨éƒ¨æ”¶é›†`);const o=oe[c.value];o&&ze(o.id,o.storyId)},b=t=>{const s=g.value.find(o=>o.id===t);return s?s.collected:!1},Se=t=>{const s=g.value.find(o=>o.id===t);return s?s.icon:"?"},Ee=t=>{const s=g.value.find(o=>o.id===t);return s?s.name:"æœªçŸ¥ç‰©å“"},De=t=>{Z.value=!0,ne.value=!1,he=t.touches?t.touches[0].clientX:t.clientX,me=w.value},Ie=t=>{if(!Z.value)return;t.preventDefault();const n=((t.touches?t.touches[0].clientX:t.clientX)-he)*.5;w.value=me+n,w.value>180&&(w.value=180),w.value<-180&&(w.value=-180)},de=()=>{Z.value&&(Z.value=!1,Math.abs(w.value)>10&&y(`è°ƒæ•´æ½œæœ›é•œè§’åº¦è‡³ ${Math.round(w.value)}Â°`))},V=t=>{t==="dive"?(ie.value=!0,setTimeout(()=>{ie.value=!1},500)):t==="surface"&&(le.value=!0,setTimeout(()=>{le.value=!1},500))},y=t=>{const s=new Date,o=`${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}`;L.value.unshift({time:o,depth:c.value,text:t}),L.value.length>50&&(L.value=L.value.slice(0,50))},ls=async()=>{W(),ve.value=!0,await Fe(),setTimeout(()=>{Te.push("/universe")},800)},W=()=>{try{const t={version:"1.0.0",timestamp:Date.now(),currentDepth:c.value,exploredZones:P.value,collectedItems:g.value.map(s=>({id:s.id,collected:s.collected})),logEntries:L.value.slice(0,20),periscopeAngle:w.value};localStorage.setItem("nightSubmarine_save",JSON.stringify(t)),console.log("æ¸¸æˆè¿›åº¦å·²ä¿å­˜")}catch(t){console.error("ä¿å­˜è¿›åº¦å¤±è´¥:",t)}},Be=()=>{try{const t=localStorage.getItem("nightSubmarine_save");if(!t)return console.log("æœªæ‰¾åˆ°å­˜æ¡£ï¼Œå¼€å§‹æ–°æ¸¸æˆ"),!1;const s=JSON.parse(t);return c.value=s.currentDepth||0,P.value=s.exploredZones||[0],s.collectedItems&&Array.isArray(s.collectedItems)&&s.collectedItems.forEach(o=>{const n=g.value.find(r=>r.id===o.id);n&&(n.collected=o.collected)}),s.logEntries&&Array.isArray(s.logEntries)&&(L.value=s.logEntries),w.value=s.periscopeAngle||0,console.log("æ¸¸æˆè¿›åº¦å·²åŠ è½½"),y("æ¬¢è¿å›æ¥ï¼Œç»§ç»­æ¢ç´¢æ·±æµ·"),!0}catch(t){return console.error("åŠ è½½å­˜æ¡£å¤±è´¥:",t),!1}},as=()=>{try{return localStorage.removeItem("nightSubmarine_save"),console.log("å­˜æ¡£å·²åˆ é™¤"),y("å­˜æ¡£å·²æ¸…é™¤ï¼Œé‡æ–°å¼€å§‹æ¢ç´¢"),!0}catch(t){return console.error("åˆ é™¤å­˜æ¡£å¤±è´¥:",t),!1}},rs=()=>!!localStorage.getItem("nightSubmarine_save"),cs=()=>{U.value=!U.value,y(`è‡ªåŠ¨ä¿å­˜å·²${U.value?"å¼€å¯":"å…³é—­"}`)},ds=()=>{R.value=!R.value,ne.value=R.value,y(`æç¤ºæ˜¾ç¤ºå·²${R.value?"å¼€å¯":"å…³é—­"}`)},us=()=>{W(),y("âœ“ æ¸¸æˆå·²æ‰‹åŠ¨ä¿å­˜")},vs=()=>{const t=Be();y(t?"âœ“ å­˜æ¡£å·²è¯»å–":"âœ— æœªæ‰¾åˆ°å­˜æ¡£")},ps=()=>{confirm("ç¡®å®šè¦åˆ é™¤å­˜æ¡£å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚")&&(as(),C.value=null)},ue=()=>{var t,s;try{const o=localStorage.getItem("nightSubmarine_save");if(o){const n=JSON.parse(o),r=new Date(n.timestamp);C.value={version:n.version,timestamp:`${r.toLocaleDateString()} ${r.toLocaleTimeString()}`,depth:n.currentDepth,exploredZones:((t=n.exploredZones)==null?void 0:t.length)||0,collected:((s=n.collectedItems)==null?void 0:s.filter(h=>h.collected).length)||0,total:g.value.length}}else C.value=null}catch(o){console.error("è¯»å–å­˜æ¡£ä¿¡æ¯å¤±è´¥:",o),C.value=null}},Ae=t=>{if(B.value||A.value||x.value||z.value){t.key==="Escape"&&(B.value=!1,A.value=!1,x.value=!1,z.value=!1);return}if(!G.value)switch(t.key){case"ArrowDown":case"s":case"S":t.preventDefault(),we();break;case"ArrowUp":case"w":case"W":t.preventDefault(),Ce();break;case"m":case"M":t.preventDefault(),x.value=!x.value,x.value&&ue();break;case"c":case"C":t.preventDefault(),B.value=!B.value;break;case"l":case"L":t.preventDefault(),A.value=!A.value;break;case"Escape":t.preventDefault(),z.value=!z.value,z.value&&ue();break}};class hs{constructor(s,o,n){this.canvasWidth=s,this.canvasHeight=o,this.depth=n,this.reset()}reset(){this.x=Math.random()*this.canvasWidth,this.y=this.canvasHeight+20,this.size=Math.random()*3+1,this.speedY=Math.random()*.5+.2,this.speedX=Math.random()*.2-.1,this.opacity=Math.random()*.5+.2;const s=this.depth/3800;s<.05?this.color=`rgba(135, 206, 235, ${this.opacity})`:s<.2?this.color=`rgba(100, 149, 237, ${this.opacity})`:s<.4?this.color=`rgba(70, 130, 180, ${this.opacity})`:s<.65?this.color=`rgba(65, 105, 225, ${this.opacity})`:s<.85?this.color=`rgba(25, 25, 112, ${this.opacity})`:this.color=`rgba(100, 100, 100, ${this.opacity*.3})`}update(){this.y-=this.speedY,this.x+=this.speedX,this.y<-20&&this.reset(),this.x>this.canvasWidth+20&&(this.x=-20),this.x<-20&&(this.x=this.canvasWidth+20)}draw(s){s.beginPath(),s.arc(this.x,this.y,this.size,0,Math.PI*2),s.fillStyle=this.color,s.fill()}}const ms=()=>{if(!O.value)return;const t=O.value;J=t.getContext("2d");const s=()=>{const h=t.parentElement.getBoundingClientRect();t.width=h.width,t.height=h.height};s();const o=()=>{K=[];const h=100;for(let d=0;d<h;d++)K.push(new hs(t.width,t.height,c.value))};o();const n=()=>{J.clearRect(0,0,t.width,t.height),K.forEach(h=>{h.update(),h.draw(J)}),Q=requestAnimationFrame(n)};Q=requestAnimationFrame(n);const r=new ResizeObserver(()=>{s(),o()});r.observe(t.parentElement),t._resizeObserver=r};_s(c,t=>{J&&K.forEach(s=>{s.depth=t;const o=t/3800;o<.05?s.color=`rgba(135, 206, 235, ${s.opacity})`:o<.2?s.color=`rgba(100, 149, 237, ${s.opacity})`:o<.4?s.color=`rgba(70, 130, 180, ${s.opacity})`:o<.65?s.color=`rgba(65, 105, 225, ${s.opacity})`:o<.85?s.color=`rgba(25, 25, 112, ${s.opacity})`:s.color=`rgba(100, 100, 100, ${s.opacity*.3})`})});const gs=()=>{g.value=X.collections||[]};return ks(async()=>{setTimeout(()=>{pe.value=!1},1800),await Fe(),ms(),gs(),window.addEventListener("keydown",Ae);const t=rs();setTimeout(t?()=>{Be(),G.value=!1}:()=>{},2e3)}),bs(()=>{Q&&cancelAnimationFrame(Q),O.value&&O.value._resizeObserver&&O.value._resizeObserver.disconnect(),window.removeEventListener("keydown",Ae)}),(t,s)=>(a(),l("div",{class:p(["night-submarine",{"is-transitioning":ve.value}])},[S(D,{name:"warp"},{default:E(()=>[pe.value?(a(),l("div",xs,[...s[18]||(s[18]=[e("div",{class:"warp-circle"},[e("div",{class:"warp-circle-inner"})],-1),e("div",{class:"warp-text"},"VOL.003",-1)])])):m("",!0)]),_:1}),e("button",{class:"exit-btn",onClick:ls},[...s[19]||(s[19]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),e("span",null,"Return to Universe",-1)])]),e("div",Ms,[S(D,{name:"narrative-fade"},{default:E(()=>[G.value?(a(),l("div",zs,[e("p",$s,i(He.value),1),e("button",{class:"narrative-continue-btn",onClick:ss},[...s[20]||(s[20]=[e("span",null,"å¼€å§‹æ¢ç´¢",-1),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})],-1)])])])):m("",!0)]),_:1}),e("div",Ss,[e("div",Es,[(a(),l(_,null,k(5,o=>e("div",{class:"pipe-segment",key:"left-"+o})),64))]),e("div",Ds,[(a(),l(_,null,k(5,o=>e("div",{class:"pipe-segment",key:"right-"+o})),64))]),s[21]||(s[21]=e("div",{class:"ceiling-lights"},[e("div",{class:"light light-1"}),e("div",{class:"light light-2"}),e("div",{class:"light light-3"})],-1))]),e("div",Is,[e("div",Bs,[s[23]||(s[23]=e("div",{class:"gauge-label"},"PRESSURE",-1)),e("div",As,[(a(),l("svg",Fs,[s[22]||(s[22]=e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(100, 149, 237, 0.1)","stroke-width":"8"},null,-1)),e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#6495ED","stroke-width":"8","stroke-linecap":"round","stroke-dasharray":Pe.value,"stroke-dashoffset":Re.value,transform:"rotate(-90 50 50)",class:"gauge-progress"},null,8,Ts)])),e("div",Ls,i(ge.value),1)]),s[24]||(s[24]=e("div",{class:"gauge-unit"},"ATM",-1))]),e("div",Hs,[s[26]||(s[26]=e("div",{class:"gauge-label"},"TEMP",-1)),e("div",Os,[(a(),l("svg",Ns,[s[25]||(s[25]=e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(100, 149, 237, 0.1)","stroke-width":"8"},null,-1)),e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#6495ED","stroke-width":"8","stroke-linecap":"round","stroke-dasharray":Ze.value,"stroke-dashoffset":je.value,transform:"rotate(-90 50 50)",class:"gauge-progress"},null,8,Vs)])),e("div",Ws,i(fe.value),1)]),s[27]||(s[27]=e("div",{class:"gauge-unit"},"Â°C",-1))]),e("div",Xs,[s[29]||(s[29]=e("div",{class:"gauge-label"},"OXYGEN",-1)),e("div",Ps,[(a(),l("svg",Rs,[s[28]||(s[28]=e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(100, 149, 237, 0.1)","stroke-width":"8"},null,-1)),e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#6495ED","stroke-width":"8","stroke-linecap":"round","stroke-dasharray":Ge.value,"stroke-dashoffset":Ue.value,transform:"rotate(-90 50 50)",class:"gauge-progress"},null,8,Zs)])),e("div",js,i(ye.value),1)]),s[30]||(s[30]=e("div",{class:"gauge-unit"},"%",-1))]),e("div",Gs,[s[32]||(s[32]=e("div",{class:"gauge-label"},"ENERGY",-1)),e("div",Us,[(a(),l("svg",Ys,[s[31]||(s[31]=e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(100, 149, 237, 0.1)","stroke-width":"8"},null,-1)),e("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#6495ED","stroke-width":"8","stroke-linecap":"round","stroke-dasharray":Ye.value,"stroke-dashoffset":qe.value,transform:"rotate(-90 50 50)",class:"gauge-progress"},null,8,qs)])),e("div",Js,i(_e.value),1)]),s[33]||(s[33]=e("div",{class:"gauge-unit"},"%",-1))])]),e("div",Ks,[e("div",Qs,[s[34]||(s[34]=e("span",{class:"depth-label"},"DEPTH",-1)),e("span",et,i(c.value)+"m",1),e("div",st,[e("div",{class:"depth-progress",style:I({width:Xe.value+"%"})},null,4)])]),e("div",tt,[e("span",ot,i(Je.value),1),e("span",nt,i(Ke.value),1)])]),e("div",it,[S(D,{name:"discovery"},{default:E(()=>[Y.value?(a(),l("div",{key:0,class:"discovery-hint",onClick:ts},[s[35]||(s[35]=e("div",{class:"discovery-icon"},"âœ¨",-1)),e("div",lt,[e("div",at,i(te.value.title),1),e("div",rt,i(te.value.description),1)]),s[36]||(s[36]=e("div",{class:"discovery-action"},[e("span",null,"ç‚¹å‡»æ¢ç´¢"),e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})])],-1))])):m("",!0)]),_:1}),ne.value?(a(),l("div",ct,[...s[37]||(s[37]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})],-1),e("span",null,"æ‹–åŠ¨æ—‹è½¬è§†é‡",-1)])])):m("",!0),e("div",{class:p(["porthole-frame",{"is-rotating":Z.value}]),onMousedown:De,onMousemove:Ie,onMouseup:de,onMouseleave:de,onTouchstart:De,onTouchmove:Ie,onTouchend:de},[e("div",{class:"porthole-glass",style:I(es.value)},[e("div",{class:"external-view",style:I({transform:`rotate(${w.value}deg)`})},[e("canvas",{ref_key:"oceanCanvas",ref:O,class:"ocean-canvas"},null,512),e("div",dt,[(a(!0),l(_,null,k(Le.value,(o,n)=>(a(),l("div",{key:n,class:p(["sea-creature",o.type]),style:I({left:o.x+"%",top:o.y+"%",transform:`scale(${o.scale}) rotate(${o.rotation}deg)`,opacity:o.opacity})},i(o.icon),7))),128))])],4),s[38]||(s[38]=e("div",{class:"periscope-crosshair"},[e("div",{class:"crosshair-horizontal"}),e("div",{class:"crosshair-vertical"}),e("div",{class:"crosshair-circle"})],-1))],4),e("div",ut,[e("span",vt,i(Math.round(w.value))+"Â°",1)])],34),e("div",pt,[(a(),l(_,null,k(We,o=>e("div",{key:o.depth,class:p(["depth-marker",{active:c.value>=o.depth}]),style:I({bottom:o.position+"%"})},[e("span",ht,i(o.depth)+"m",1),e("span",mt,i(o.label),1)],6)),64))])])]),e("div",gt,[e("div",ft,[(a(!0),l(_,null,k(Oe.value,(o,n)=>(a(),l("div",{key:n,class:p(["status-light",{active:o.active,warning:o.warning}]),style:I({backgroundColor:o.color})},null,6))),128))]),e("div",yt,[e("button",{class:p(["control-btn dive-btn",{disabled:c.value>=T.value}]),onClick:we,onMousedown:s[0]||(s[0]=o=>V("dive")),disabled:c.value>=T.value},[...s[39]||(s[39]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M19 12l-7 7-7-7"})],-1),e("span",null,"ä¸‹æ½œ",-1),e("div",{class:"btn-glow"},null,-1)])],42,_t),e("button",{class:p(["control-btn surface-btn",{disabled:c.value<=0}]),onClick:Ce,onMousedown:s[1]||(s[1]=o=>V("surface")),disabled:c.value<=0},[...s[40]||(s[40]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 19V5M5 12l7-7 7 7"})],-1),e("span",null,"ä¸Šæµ®",-1),e("div",{class:"btn-glow"},null,-1)])],42,kt)]),e("div",bt,[e("button",{class:"control-btn collection-btn",onClick:s[2]||(s[2]=o=>B.value=!0),onMousedown:s[3]||(s[3]=o=>V("collection"))},[s[41]||(s[41]=e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})],-1)),e("span",null,"å‘ç°ç‰© ("+i(ke.value)+")",1),s[42]||(s[42]=e("div",{class:"btn-glow"},null,-1))],32),e("button",{class:"control-btn log-btn",onClick:s[4]||(s[4]=o=>A.value=!0),onMousedown:s[5]||(s[5]=o=>V("log"))},[...s[43]||(s[43]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),e("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})],-1),e("span",null,"æ—¥å¿—",-1),e("div",{class:"btn-glow"},null,-1)])],32),e("button",{class:"control-btn map-btn",onClick:s[6]||(s[6]=o=>x.value=!0),onMousedown:s[7]||(s[7]=o=>V("map"))},[...s[44]||(s[44]=[ws('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-2e966167><circle cx="12" cy="12" r="10" data-v-2e966167></circle><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" data-v-2e966167></path><path d="M2 12h20" data-v-2e966167></path></svg><span data-v-2e966167>åœ°å›¾</span><div class="btn-glow" data-v-2e966167></div>',3)])],32),e("button",{class:"control-btn settings-btn",onClick:s[8]||(s[8]=o=>{z.value=!0,ue()}),onMousedown:s[9]||(s[9]=o=>V("settings"))},[...s[45]||(s[45]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})],-1),e("span",null,"è®¾ç½®",-1),e("div",{class:"btn-glow"},null,-1)])],32)]),e("div",{class:p(["ambient-lighting",{"dive-effect":ie.value,"surface-effect":le.value}])},null,2)]),S(D,{name:"achievement"},{default:E(()=>[ae.value&&q.value?(a(),l("div",wt,[s[47]||(s[47]=e("div",{class:"achievement-icon"},"ğŸ†",-1)),e("div",Ct,[s[46]||(s[46]=e("div",{class:"achievement-title"},"æˆå°±è§£é”",-1)),e("div",xt,i(q.value.name),1),e("div",Mt,i(q.value.description),1)])])):m("",!0)]),_:1}),S(D,{name:"explore"},{default:E(()=>{var o;return[se.value?(a(),l("div",{key:0,class:"explore-modal-overlay",onClick:j($e,["self"])},[e("div",{class:p(["explore-modal-content","explore-"+M.value])},[e("div",zt,[e("button",{class:"explore-back-btn",onClick:$e},[...s[48]||(s[48]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),e("span",null,"è¿”å›æ½œæ°´è‰‡",-1)])]),e("h2",$t,i(v.value.title),1),e("div",St,[e("span",null,i(v.value.progress),1)])]),e("div",Et,[M.value==="chibobo"?(a(),l("div",Dt,[e("div",It,[e("p",Bt,i(v.value.narrative),1)]),e("div",At,[(a(!0),l(_,null,k(v.value.scenes,(n,r)=>(a(),l("div",{key:n.id,class:"scene-card",onClick:h=>N(n)},[e("div",Tt,i(n.icon),1),e("div",Lt,[e("h3",Ht,i(n.name),1),e("p",Ot,i(n.description),1),e("div",Nt,[(a(!0),l(_,null,k(n.items,h=>(a(),l("span",{key:h,class:p(["scene-item",{collected:b(h)}])},i(Se(h)),3))),128))])]),s[49]||(s[49]=e("div",{class:"scene-arrow"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})])],-1))],8,Ft))),128))])])):m("",!0),M.value==="mushroom"?(a(),l("div",Vt,[e("div",Wt,[e("p",Xt,i(v.value.narrative),1)]),e("div",Pt,[(a(!0),l(_,null,k(v.value.scenes,(n,r)=>(a(),l("div",{key:n.id,class:p(["mushroom-card",{collected:b(n.items[0])}]),onClick:h=>N(n)},[e("div",{class:"mushroom-glow",style:I({backgroundColor:n.id==="fluorescent"?"#00ff00":n.id==="story"?"#ff69b4":n.id==="memory"?"#9370db":n.id==="imagination"?"#ffa500":"#ffd700"})},null,4),s[50]||(s[50]=e("div",{class:"mushroom-icon"},"ğŸ„",-1)),e("div",Zt,[e("h3",jt,i(n.name),1),e("p",Gt,i(n.description),1),e("div",{class:p(["spore-indicator",{collected:b(n.items[0])}])},[e("span",null,i(b(n.items[0])?"å·²æ”¶é›†å­¢å­":"æœªæ”¶é›†"),1)],2)]),s[51]||(s[51]=e("div",{class:"mushroom-arrow"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})])],-1))],10,Rt))),128))])])):m("",!0),M.value==="zhufeng"?(a(),l("div",Ut,[e("div",Yt,[e("p",qt,i(v.value.narrative),1)]),e("div",Jt,[(a(!0),l(_,null,k(v.value.scenes,(n,r)=>(a(),l("div",{key:n.id,class:"location-card",onClick:h=>N(n)},[e("div",Qt,[e("div",{class:p(["location-bg","location-"+n.id])},[e("div",eo,i(ns(n.id)),1)],2)]),e("div",so,[e("h3",to,i(n.name),1),e("p",oo,i(n.description),1),n.hint?(a(),l("div",no,[s[52]||(s[52]=e("span",{class:"hint-icon"},"ğŸ’¡",-1)),e("span",io,"æç¤ºï¼š"+i(n.hint),1)])):m("",!0),e("div",{class:p(["key-status",{found:b(n.key)}])},[e("span",lo,i(b(n.key)?"ğŸ—ï¸":"ğŸ”"),1),e("span",ao,i(b(n.key)?"é’¥åŒ™å·²æ‰¾åˆ°":"å¯»æ‰¾é’¥åŒ™..."),1)],2)]),s[53]||(s[53]=e("div",{class:"location-arrow"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})])],-1))],8,Kt))),128))])])):m("",!0),M.value==="art"?(a(),l("div",ro,[e("div",co,[e("p",uo,i(v.value.narrative),1)]),e("div",vo,[s[56]||(s[56]=e("div",{class:"art-category-header"},[e("h3",{class:"category-title"},"âœ’ï¸ ä¼ å½©ç¬” - çµæ„Ÿç¢ç‰‡"),e("p",{class:"category-desc"},"æ•æ‰é‚£äº›ç¨çºµå³é€çš„åˆ›ä½œçµæ„Ÿ")],-1)),e("div",po,[(a(!0),l(_,null,k(v.value.scenes.slice(0,5),n=>(a(),l("div",{key:n.id,class:p(["art-card pen-card",{collected:b(n.items[0])}]),onClick:r=>N(n)},[e("div",mo,[s[54]||(s[54]=e("div",{class:"art-sparkle"},null,-1)),e("div",go,i(n.icon),1)]),e("div",fo,[e("h4",yo,i(n.name),1),e("p",_o,i(n.description),1),e("div",ko,[e("span",bo,i(b(n.items[0])?"ğŸ’":"âœ¨"),1),e("span",wo,i(b(n.items[0])?"å·²æ•è·":"ç­‰å¾…æ•æ‰"),1)])])],10,ho))),128))]),s[57]||(s[57]=e("div",{class:"art-category-header",style:{"margin-top":"3rem"}},[e("h3",{class:"category-title"},"ğŸµ éŸ³ä¹å®¶ - è®°å¿†ä¹ç« "),e("p",{class:"category-desc"},"é‡æ¸©é‚£äº›æ°¸ä¸æ¶ˆé€çš„æ—‹å¾‹")],-1)),e("div",Co,[(a(!0),l(_,null,k(v.value.scenes.slice(5),n=>(a(),l("div",{key:n.id,class:p(["art-card music-card",{collected:b(n.items[0])}]),onClick:r=>N(n)},[e("div",{class:p(["art-card-bg","movement-"+n.id])},[s[55]||(s[55]=e("div",{class:"music-notes"},[e("span",{class:"note note-1"},"â™ª"),e("span",{class:"note note-2"},"â™«"),e("span",{class:"note note-3"},"â™ª")],-1)),e("div",Mo,i(n.icon),1)],2),e("div",zo,[e("h4",$o,i(n.name),1),e("p",So,i(n.description),1),e("div",Eo,[e("span",Do,i(b(n.items[0])?"ğŸ¼":"ğŸµ"),1),e("span",Io,i(b(n.items[0])?"å·²çè—":"å¾…å‘ç°"),1)])])],10,xo))),128))])])])):m("",!0),M.value==="abyss"||M.value==="reality"?(a(),l("div",Bo,[v.value.chapter?(a(),l("div",Ao,[e("div",Fo,[e("h2",To,i(v.value.chapter.title),1),e("span",Lo,i(c.value)+"m",1)]),e("p",Ho,i(v.value.chapter.narrative),1),e("div",{class:p(["chapter-mood","mood-"+v.value.chapter.mood])},i(is(v.value.chapter.mood)),3)])):m("",!0),v.value.scenes&&v.value.scenes.length>0?(a(),l("div",Oo,[e("h3",No,[s[58]||(s[58]=e("span",{class:"title-icon"},"ğŸ’«",-1)),ee(" "+i(M.value==="abyss"?"æœ€åçš„æ¢¦å¢ƒç¢ç‰‡":"ç°å®çš„å›å“"),1)]),e("div",Vo,[(a(!0),l(_,null,k(v.value.scenes,n=>(a(),l("div",{key:n.id,class:p(["memory-fragment",{collected:n.collected||b(n.items[0])}]),onClick:r=>N(n)},[e("div",Xo,[e("div",Po,i(n.icon),1),s[59]||(s[59]=e("div",{class:"memory-glow"},null,-1))]),e("div",Ro,[e("h4",Zo,i(n.name),1),e("p",jo,i(n.description),1),e("div",Go,[s[60]||(s[60]=e("span",{class:"status-dot"},null,-1)),e("span",Uo,i(n.collected||b(n.items[0])?"å·²æ‰¾å›":"é—å¤±çš„è®°å¿†"),1)])])],10,Wo))),128))])])):(a(),l("div",Yo,[...s[61]||(s[61]=[e("div",{class:"empty-icon"},"ğŸŒ«ï¸",-1),e("p",{class:"empty-text"},"è¿™ç‰‡æ·±åŸŸè¿˜æ²¡æœ‰è®°å¿†ç¢ç‰‡...",-1),e("p",{class:"empty-hint"},"ä¹Ÿè®¸åœ¨æ›´æ·±å¤„ï¼Œæˆ–è€…å›åˆ°è¿‡å»",-1)])]))])):m("",!0),((o=v.value.collectedItems)==null?void 0:o.length)>0?(a(),l("div",qo,[s[62]||(s[62]=e("h3",null,"åœ¨æ­¤å¤„å‘ç°çš„ç‰©å“",-1)),e("div",Jo,[(a(!0),l(_,null,k(v.value.collectedItems,n=>(a(),l("div",{key:n,class:"showcase-item"},[e("span",Ko,i(Se(n)),1),e("span",Qo,i(Ee(n)),1)]))),128))])])):m("",!0)])],2)])):m("",!0)]}),_:1}),S(D,{name:"modal"},{default:E(()=>[B.value?(a(),l("div",{key:0,class:"modal-overlay",onClick:s[11]||(s[11]=j(o=>B.value=!1,["self"]))},[e("div",en,[e("div",sn,[s[64]||(s[64]=e("h2",null,"å‘ç°ç‰©æ”¶è—",-1)),e("button",{class:"close-btn",onClick:s[10]||(s[10]=o=>B.value=!1)},[...s[63]||(s[63]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])]),e("div",tn,[e("div",on,[e("div",nn,[e("span",ln,i(ke.value),1),s[65]||(s[65]=e("span",{class:"stat-label"},"å·²æ”¶é›†",-1))]),e("div",an,[e("span",rn,i(be.value),1),s[66]||(s[66]=e("span",{class:"stat-label"},"æ€»è®¡",-1))])]),e("div",cn,[(a(!0),l(_,null,k(g.value,(o,n)=>(a(),l("div",{key:n,class:p(["collection-item",{locked:!o.collected}])},[e("div",dn,i(o.collected?o.icon:"?"),1),e("div",un,[e("p",vn,i(o.collected?o.name:"???"),1),e("p",pn,i(o.collected?o.story:"ç»§ç»­æ¢ç´¢ä»¥å‘ç°"),1)])],2))),128))])])])])):m("",!0)]),_:1}),S(D,{name:"modal"},{default:E(()=>[A.value?(a(),l("div",{key:0,class:"modal-overlay",onClick:s[13]||(s[13]=j(o=>A.value=!1,["self"]))},[e("div",hn,[e("div",mn,[s[68]||(s[68]=e("h2",null,"æ·±æµ·æ—¥å¿—",-1)),e("button",{class:"close-btn",onClick:s[12]||(s[12]=o=>A.value=!1)},[...s[67]||(s[67]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])]),e("div",gn,[e("div",fn,[(a(!0),l(_,null,k(L.value,(o,n)=>(a(),l("div",{key:n,class:"log-entry"},[e("span",yn,i(o.time),1),e("span",_n,i(o.depth)+"m",1),e("p",kn,i(o.text),1)]))),128))])])])])):m("",!0)]),_:1}),S(D,{name:"modal"},{default:E(()=>[x.value?(a(),l("div",{key:0,class:"modal-overlay",onClick:s[15]||(s[15]=j(o=>x.value=!1,["self"]))},[e("div",bn,[e("div",wn,[s[70]||(s[70]=e("h2",null,"æ·±åº¦åœ°å›¾",-1)),s[71]||(s[71]=e("div",{class:"map-legend"},[e("span",{class:"legend-item"},[e("span",{class:"legend-color explored"}),e("span",{class:"legend-text"},"å·²æ¢ç´¢")]),e("span",{class:"legend-item"},[e("span",{class:"legend-color current"}),e("span",{class:"legend-text"},"å½“å‰ä½ç½®")])],-1)),e("button",{class:"close-btn",onClick:s[14]||(s[14]=o=>x.value=!1)},[...s[69]||(s[69]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])]),e("div",Cn,[e("div",xn,[e("div",{class:"current-position-indicator",style:I({bottom:Qe.value+"%"})},[...s[72]||(s[72]=[e("div",{class:"indicator-dot"},null,-1),e("div",{class:"indicator-label"},"å½“å‰ä½ç½®",-1)])],4),(a(),l(_,null,k(H,o=>e("div",{key:o.depth,class:p(["map-zone",{explored:ce(o.depth),current:c.value===o.depth}]),style:I({top:o.position+"%"}),onClick:n=>xe(o.depth)},[e("span",zn,i(o.depth)+"m",1),e("span",$n,i(o.name),1),e("span",Sn,i(o.description),1),e("span",En,[ce(o.depth)?(a(),l("span",Dn,"âœ“")):m("",!0),ee(" "+i(ce(o.depth)?"å·²æ¢ç´¢":"æœªæ¢ç´¢"),1)])],14,Mn)),64))]),e("div",In,[(a(),l(_,null,k(H,o=>e("button",{key:"jump-"+o.depth,class:p(["jump-btn",{active:c.value===o.depth}]),onClick:n=>xe(o.depth)},i(o.depth)+"m ",11,Bn)),64))])])])])):m("",!0)]),_:1}),S(D,{name:"modal"},{default:E(()=>[z.value?(a(),l("div",{key:0,class:"modal-overlay",onClick:s[17]||(s[17]=j(o=>z.value=!1,["self"]))},[e("div",An,[e("div",Fn,[s[74]||(s[74]=e("h2",null,"ç³»ç»Ÿè®¾ç½®",-1)),e("button",{class:"close-btn",onClick:s[16]||(s[16]=o=>z.value=!1)},[...s[73]||(s[73]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])]),e("div",Tn,[e("div",Ln,[s[79]||(s[79]=e("h3",null,"æ¸¸æˆè®¾ç½®",-1)),e("div",Hn,[s[76]||(s[76]=e("label",null,"è‡ªåŠ¨ä¿å­˜",-1)),e("div",{class:p(["toggle-switch",{active:U.value}]),onClick:cs},[...s[75]||(s[75]=[e("span",{class:"toggle-slider"},null,-1)])],2)]),e("div",On,[s[78]||(s[78]=e("label",null,"æ˜¾ç¤ºæç¤º",-1)),e("div",{class:p(["toggle-switch",{active:R.value}]),onClick:ds},[...s[77]||(s[77]=[e("span",{class:"toggle-slider"},null,-1)])],2)])]),e("div",{class:"settings-section"},[s[83]||(s[83]=e("h3",null,"æ•°æ®ç®¡ç†",-1)),e("div",{class:"setting-buttons"},[e("button",{class:"setting-btn save-btn",onClick:us},[...s[80]||(s[80]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),e("path",{d:"M17 21v-8H7v8M7 3v5h8"})],-1),e("span",null,"æ‰‹åŠ¨ä¿å­˜",-1)])]),e("button",{class:"setting-btn load-btn",onClick:vs},[...s[81]||(s[81]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e("polyline",{points:"7 10 12 15 17 10"}),e("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),e("span",null,"è¯»å–å­˜æ¡£",-1)])]),e("button",{class:"setting-btn delete-btn",onClick:ps},[...s[82]||(s[82]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})],-1),e("span",null,"åˆ é™¤å­˜æ¡£",-1)])])])]),s[89]||(s[89]=e("div",{class:"settings-section"},[e("h3",null,"é”®ç›˜å¿«æ·é”®"),e("div",{class:"shortcuts-list"},[e("div",{class:"shortcut-item"},[e("span",{class:"shortcut-desc"},"ä¸‹æ½œ"),e("div",{class:"shortcut-keys"},[e("kbd",null,"â†“"),ee(" æˆ– "),e("kbd",null,"S")])]),e("div",{class:"shortcut-item"},[e("span",{class:"shortcut-desc"},"ä¸Šæµ®"),e("div",{class:"shortcut-keys"},[e("kbd",null,"â†‘"),ee(" æˆ– "),e("kbd",null,"W")])]),e("div",{class:"shortcut-item"},[e("span",{class:"shortcut-desc"},"æ‰“å¼€/å…³é—­åœ°å›¾"),e("div",{class:"shortcut-keys"},[e("kbd",null,"M")])]),e("div",{class:"shortcut-item"},[e("span",{class:"shortcut-desc"},"æ‰“å¼€/å…³é—­æ”¶è—"),e("div",{class:"shortcut-keys"},[e("kbd",null,"C")])]),e("div",{class:"shortcut-item"},[e("span",{class:"shortcut-desc"},"æ‰“å¼€/å…³é—­æ—¥å¿—"),e("div",{class:"shortcut-keys"},[e("kbd",null,"L")])]),e("div",{class:"shortcut-item"},[e("span",{class:"shortcut-desc"},"æ‰“å¼€è®¾ç½®"),e("div",{class:"shortcut-keys"},[e("kbd",null,"Esc")])])])],-1)),C.value?(a(),l("div",Nn,[e("div",Vn,[s[84]||(s[84]=e("span",{class:"info-label"},"å­˜æ¡£ç‰ˆæœ¬",-1)),e("span",Wn,i(C.value.version),1)]),e("div",Xn,[s[85]||(s[85]=e("span",{class:"info-label"},"ä¿å­˜æ—¶é—´",-1)),e("span",Pn,i(C.value.timestamp),1)]),e("div",Rn,[s[86]||(s[86]=e("span",{class:"info-label"},"å½“å‰æ·±åº¦",-1)),e("span",Zn,i(C.value.depth)+"m",1)]),e("div",jn,[s[87]||(s[87]=e("span",{class:"info-label"},"æ¢ç´¢è¿›åº¦",-1)),e("span",Gn,i(C.value.exploredZones)+"/"+i(H.length)+" åŒºåŸŸ",1)]),e("div",Un,[s[88]||(s[88]=e("span",{class:"info-label"},"æ”¶é›†è¿›åº¦",-1)),e("span",Yn,i(C.value.collected)+"/"+i(C.value.total)+" ç‰©å“",1)])])):m("",!0)])])])):m("",!0)]),_:1})],2))}},ei=ys(Jn,[["__scopeId","data-v-2e966167"]]);export{ei as default};
