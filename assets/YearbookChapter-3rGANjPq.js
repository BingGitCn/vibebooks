import{_ as H,r as d,c as u,o as B,q as Y,a as r,d as t,l as b,t as a,F as T,i as f,g as _,m as W,u as F,e as n,j as D}from"./index-NLcmbYM-.js";import{b as V}from"./books-D4zfSIrb.js";const $={class:"yearbook-chapter swiss-grid-pattern swiss-noise"},G={class:"chapter-container swiss-container"},K={class:"top-strip swiss-border-bottom"},U={class:"strip-content"},q={class:"volume-label"},Z={class:"chapter-header swiss-border-bottom"},j={class:"header-left"},z={class:"chapter-number","data-number":"chapter"},Q={class:"chapter-title"},X={class:"chapter-subtitle"},J={class:"header-right"},tt={class:"entry-count"},st={class:"count-number"},et={class:"chapter-main"},ot={class:"books-grid"},at=["onClick"],rt={class:"entry-header swiss-border-bottom"},nt={class:"entry-vol"},lt={class:"entry-page"},it={class:"entry-content"},ct={class:"entry-title"},dt={key:0,class:"entry-subtitle"},ut={class:"entry-author"},ht={class:"entry-quote"},pt={key:1,class:"entry-tags"},_t={class:"entry-footer"},gt={class:"entry-category"},vt={class:"chapter-footer swiss-border-top"},yt={class:"footer-left"},mt={class:"page-info"},bt={class:"footer-right"},St={__name:"YearbookChapter",setup(Et){const c=F(),S=W(),I=d(new Date().getFullYear()),l=d(""),E=d(""),g=d(1),h=d([]),v={fiction:{name:"FICTION",title:"FICTION",subtitle:"WHERE STORIES BREATHE",id:1},philosophy:{name:"PHILOSOPHY",title:"PHILOSOPHY",subtitle:"THINKING ABOUT THINKING",id:2},economics:{name:"ECONOMICS",title:"ECONOMICS",subtitle:"THE DISMAL SCIENCE",id:3},mystery:{name:"MYSTERY",title:"MYSTERY",subtitle:"UNSOLVED PUZZLES",id:4},romance:{name:"ROMANCE",title:"ROMANCE",subtitle:"MATTERS OF THE HEART",id:5},classic:{name:"CLASSIC",title:"CLASSIC",subtitle:"TIMELESS TALES",id:6}},O=u(()=>{var s;return((s=v[l.value])==null?void 0:s.title)||""}),k=u(()=>{var s;return((s=v[l.value])==null?void 0:s.subtitle)||""}),p=["fiction","philosophy","economics","mystery","romance","classic"],i=u(()=>p.indexOf(l.value)),y=u(()=>i.value>0),m=u(()=>i.value<p.length-1),R=(s,e)=>s.length<=e?s:s.substring(0,e)+"...",C=()=>{l.value=S.params.category,console.log("Loading category:",l.value);const s=v[l.value];E.value=(s==null?void 0:s.name)||"",g.value=(s==null?void 0:s.id)||1,h.value=V.filter(e=>e.category===(s==null?void 0:s.name)),console.log("Found books:",h.value.length)};B(()=>{C()}),Y(()=>S.params.category,()=>{C()});const M=()=>{c.push("/yearbook")},A=s=>{if(s.worldComponent){const o={PrinceWorld:"/world/prince",ThreeBodyWorld:"/world/three-body",WhiteNightWorld:"/world/white-night",SmallIslandEconomicsWorld:"/world/small-island-economics",MyAltayWorld:"/world/my-altay",BrightNightWorld:"/world/bright-night"}[s.worldComponent];o&&c.push(o)}else c.push(`/book/${s.id}`)},L=()=>{if(console.log("Previous clicked, hasPrevious:",y.value,"currentIndex:",i.value),y.value){const s=`/yearbook/${p[i.value-1]}`;console.log("Navigating to:",s),c.push(s)}},P=()=>{if(console.log("Next clicked, hasNext:",m.value,"currentIndex:",i.value),m.value){const s=`/yearbook/${p[i.value+1]}`;console.log("Navigating to:",s),c.push(s)}};return(s,e)=>(n(),r("div",$,[t("div",G,[t("nav",K,[t("div",U,[t("button",{class:"back-button",onClick:M},[...e[0]||(e[0]=[t("span",{class:"arrow"},"←",-1),b(" BACK ",-1)])]),e[1]||(e[1]=t("span",{class:"separator"},null,-1)),t("span",q,"VOL. "+a(I.value),1)])]),t("header",Z,[t("div",j,[t("p",z,a(String(g.value).padStart(2,"0"))+" "+a(E.value),1),t("h1",Q,a(O.value),1),t("p",X,a(k.value),1)]),t("div",J,[t("div",tt,[t("span",st,a(h.value.length),1),e[2]||(e[2]=t("span",{class:"count-label"},"ENTRIES",-1))])])]),t("main",et,[t("div",ot,[(n(!0),r(T,null,f(h.value,(o,N)=>(n(),r("article",{key:o.id,class:D(["book-entry swiss-border-bottom swiss-border-right",{featured:N<2}]),onClick:w=>A(o)},[t("div",rt,[t("span",nt,a(String(o.vol).padStart(3,"0")),1),t("span",lt,a(String(N+1).padStart(3,"0")),1)]),t("div",it,[t("h3",ct,a(o.title),1),o.subtitle?(n(),r("p",dt,a(o.subtitle),1)):_("",!0),t("p",ut,a(o.author),1),t("p",ht,'"'+a(R(o.featuredQuote,80))+'"',1),o.tags&&o.tags.length?(n(),r("div",pt,[(n(!0),r(T,null,f(o.tags.slice(0,3),(w,x)=>(n(),r("span",{key:x,class:"entry-tag"},a(w),1))),128))])):_("",!0)]),t("div",_t,[t("span",gt,a(o.category),1),e[3]||(e[3]=t("span",{class:"entry-arrow"},"→",-1))])],10,at))),128))])]),t("footer",vt,[t("div",yt,[t("span",mt,"PAGE "+a(String(g.value).padStart(2,"0"))+" / 06",1)]),t("div",bt,[y.value?(n(),r("button",{key:0,class:"nav-button prev",onClick:L},[...e[4]||(e[4]=[t("span",{class:"arrow"},"←",-1),b(" PREV ",-1)])])):_("",!0),m.value?(n(),r("button",{key:1,class:"nav-button next",onClick:P},[...e[5]||(e[5]=[b(" NEXT ",-1),t("span",{class:"arrow"},"→",-1)])])):_("",!0)])])])]))}},wt=H(St,[["__scopeId","data-v-047c66e5"]]);export{wt as default};
