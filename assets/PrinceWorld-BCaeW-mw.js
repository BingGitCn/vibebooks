import{_ as pt,r as o,e as J,o as mt,f as Y,a as ht,c as l,k as f,b as t,m as p,T as m,h as A,u as kt,d as n,g as a,t as u,n as w,p as b,F as yt,j as wt}from"./index-C196AmV1.js";const xt={key:0,class:"warp-overlay"},Ct={key:0,class:"chapter-summon"},gt={class:"summon-content"},bt={class:"summon-text"},Mt={class:"sunset-scene"},_t={class:"sunset-counter"},Bt={class:"counter-number"},Dt={key:0,class:"prince-dialogue"},St={key:0,class:"interaction-hint"},Lt={key:0,class:"chapter-rose"},Tt={class:"rose-scene"},Qt={viewBox:"0 0 200 350",class:"rose-svg"},Ft={class:"trust-meter"},Vt={class:"trust-bar"},$t={class:"trust-label"},At={class:"rose-actions"},It=["disabled"],Wt=["disabled"],Et={key:0,class:"rose-dialogue"},Nt={key:0,class:"chapter-fox"},Rt={class:"fox-scene"},Ot={key:0,class:"fox-dialogue"},Pt={class:"dialogue-text"},zt={key:0,class:"dialogue-hint"},Ht={key:2,class:"fox-day-indicator"},jt={key:0,class:"chapter-well"},qt={class:"well-scene"},Gt={class:"well-structure"},Jt={viewBox:"0 0 200 280",class:"well-svg"},Yt=["y1"],Kt=["transform"],Ut={key:0,class:"water-in-bucket"},Zt={key:1,class:"empty-bucket-hint"},Xt={key:2,class:"water-ripples"},te={class:"well-hint"},ee={key:0},se={key:1,class:"water-quote"},le={class:"stars-container"},ne={class:"star-message"},oe={key:0,class:"chapter-goodbye"},ae={class:"goodbye-scene"},ie={class:"memory-review"},re={class:"memory-cards"},ue={class:"memory-card"},de={class:"memory-card"},ce={key:0,class:"chapter-return"},ve={class:"return-scene"},fe={class:"return-stats"},pe={class:"stat-item"},me={class:"stat-number"},he={class:"stat-item"},ke={class:"stat-number"},ye={class:"stat-item"},we={class:"stat-number"},xe={class:"return-actions"},K="prince-taming-progress",Ce={__name:"PrinceWorld",setup(ge){const U=kt(),I=o(!1),W=o(!0),i=o("summon"),E=o(null),S=o("..."),N=o(!1);let Q=null;const h=o(0),L=o(""),R=o("#FFE4B5"),r=o(0),T=o(""),x=o({watered:!1,shielded:!1}),d=o(0),C=o(""),F=o(null),O=o(null),P=o(80),M=o(!1),y=o([]),g=o(null),V=o(null),_=o(0),Z=J(()=>{if(!g.value)return 0;const s=new Date,e=new Date(g.value);return Math.floor((s-e)/(1e3*60*60*24))}),z=J(()=>!0),v=()=>{const s={currentChapter:i.value,sunsetCount:h.value,roseTrust:r.value,roseActions:x.value,foxDay:d.value,foxLastVisit:F.value,collectedStars:y.value,firstVisitDate:g.value,lastVisitDate:V.value,visitCount:_.value};localStorage.setItem(K,JSON.stringify(s))},X=()=>{const s=localStorage.getItem(K);if(s){const e=JSON.parse(s);i.value=e.currentChapter||"summon",h.value=e.sunsetCount||0,r.value=e.roseTrust||0,x.value=e.roseActions||{watered:!1,shielded:!1},d.value=e.foxDay||0,F.value=e.foxLastVisit||null,y.value=e.collectedStars||[],g.value=e.firstVisitDate||null,V.value=e.lastVisitDate||null,_.value=e.visitCount||0}},tt=()=>{const s=E.value;if(!s)return;const e=s.getContext("2d");s.width=window.innerWidth,s.height=window.innerHeight;const c=[];for(let k=0;k<100;k++)c.push({x:Math.random()*s.width,y:Math.random()*s.height,size:Math.random()*2+.5,alpha:Math.random()*.5+.1,twinkle:Math.random()*.02+.005});let D=0;const G=()=>{D++,e.clearRect(0,0,s.width,s.height),c.forEach(k=>{k.alpha+=Math.sin(D*k.twinkle)*.01,e.beginPath(),e.arc(k.x,k.y,k.size,0,Math.PI*2),e.fillStyle=`rgba(244, 208, 63, ${Math.max(.1,Math.min(.6,k.alpha))})`,e.fill()}),Q=requestAnimationFrame(G)};G(),setTimeout(()=>{S.value="æœ‰äººåœ¨å—..."},2e3),setTimeout(()=>{S.value="æˆ‘æ˜¯æ¥è‡ª B-612 æ˜Ÿçƒçš„å°ç‹å­"},4e3),setTimeout(()=>{S.value="ä½ æ„¿æ„å¬æˆ‘è®²æ•…äº‹å—ï¼Ÿ",N.value=!0},6e3)},et=()=>{g.value||(g.value=new Date().toISOString()),V.value=new Date().toISOString(),_.value++,i.value="sunset",v()},st=s=>s<=10?"#FFE4B5":s<=20?"#FFA07A":s<=30?"#FF6347":"#4B0082",lt=s=>({1:"ä½ çœ‹ï¼Œæ—¥è½å¼€å§‹äº†...",5:"ä½ è¿˜åœ¨é™ªæˆ‘ï¼ŒçœŸå¥½",10:"ä¸€å¤©ä¸­çœ‹äº†åæ¬¡æ—¥è½ï¼Œä½ ä¸€å®šå¾ˆéš¾è¿‡",20:"äºŒåæ¬¡äº†...æ—¶é—´è¿‡å¾—å¾ˆæ…¢",30:"ä¸‰åæ¬¡...æˆ‘å¾ˆå–œæ¬¢ä½ è¿™æ ·é™ªç€æˆ‘",44:"è°¢è°¢ä½ é™ªäº†æˆ‘å››åå››æ¬¡ã€‚ä½ å¾ˆéš¾è¿‡çš„æ—¶å€™ï¼Œæˆ‘å–œæ¬¢çœ‹æ—¥è½"})[s]||"",nt=()=>{if(h.value>=44)return;h.value++,R.value=st(h.value);const s=lt(h.value);s&&(L.value=s,setTimeout(()=>{L.value=""},4e3)),h.value===44&&setTimeout(()=>{i.value="rose",v()},5e3),v()},H={0:"æˆ‘æ˜¯å®‡å®™ä¸­å”¯ä¸€çš„ç«ç‘°",30:"æˆ‘æ€•é£...ä½ åº”è¯¥è¦æ˜ç™½æˆ‘çš„æ¸©æŸ”",60:"æˆ‘ä¸ç¬¨ï¼Œä½†æˆ‘å¤ªéª„å‚²äº†",100:"ä½ é©¯æœäº†æˆ‘ï¼Œç°åœ¨æˆ‘ä»¬äº’ç›¸ä¸å¯ç¼ºå°‘äº†"},ot=()=>{x.value.watered=!0,r.value=Math.min(100,r.value+10),v()},at=()=>{x.value.shielded=!0,r.value=Math.min(100,r.value+15),v()},it=()=>{var e;const s=((e=Object.entries(H).reverse().find(([c])=>r.value>=c))==null?void 0:e[1])||H[0];T.value=s,setTimeout(()=>{T.value=""},4e3),r.value=Math.min(100,r.value+5),r.value>=100&&setTimeout(()=>{i.value="fox",v()},5e3),v()},rt=()=>{const s=O.value;if(!s)return;const e=s.getContext("2d");s.width=window.innerWidth,s.height=window.innerHeight,e.fillStyle="#e8dcc8",e.fillRect(0,0,s.width,s.height)},ut={0:"è¯·ä½ ...é©¯æœæˆ‘å§",1:'ä½ ç»§ç»­å›æ¥äº†ï¼Œè¿™å¾ˆå¥½ã€‚é©¯æœéœ€è¦"ä»ªå¼æ„Ÿ"ï¼Œå°±æ˜¯æ¯ä¸€æ¬¡éƒ½å¸¦ç€çœŸå¿ƒæ¥è§æˆ‘',2:"å¾ˆå¥½ã€‚ç°åœ¨æˆ‘è¦å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯†ï¼šåªæœ‰ç”¨å¿ƒæ‰èƒ½çœ‹æ¸…äº‹ç‰©çš„æœ¬è´¨ï¼ŒçœŸæ­£é‡è¦çš„ä¸œè¥¿ï¼Œç”¨çœ¼ç›æ˜¯çœ‹ä¸è§çš„",3:"ç°åœ¨ï¼Œä½ å·²ç»é©¯æœäº†æˆ‘ã€‚æˆ‘ä»¬äº’ç›¸ä¸å¯ç¼ºå°‘äº†"},j=()=>{const s=new Date().toISOString();d.value++,F.value=s,C.value=ut[Math.min(d.value,3)],setTimeout(()=>{C.value=""},6e3),d.value>=3&&(y.value.push({icon:"â­",message:"æˆ‘ä¸ºä½ è€Œç¬‘",top:`${10+Math.random()*30}%`,left:`${10+Math.random()*40}%`}),setTimeout(()=>{i.value="well",v()},7e3)),v()},B=o(!1),dt=()=>{if(M.value||B.value)return;B.value=!0;let s=80,e="down";const c=setInterval(()=>{e==="down"?(s+=2,s>=200&&(e="up")):(s-=2,s<=80&&(clearInterval(c),B.value=!1,M.value=!0,y.value.push({icon:"ğŸ’§",message:"è¿™æ°´åƒç¤¼ç‰©ä¸€æ ·",top:`${10+Math.random()*30}%`,left:`${50+Math.random()*40}%`}),setTimeout(()=>{i.value="goodbye",v()},5e3))),P.value=s},30);v()},ct=()=>{y.value.push({icon:"ğŸŒŸ",message:"æ‰€æœ‰çš„å¤§äººéƒ½æ›¾ç»æ˜¯å°å­©",top:`${10+Math.random()*30}%`,left:`${30+Math.random()*40}%`}),i.value="return",v()},q=o(null),vt=()=>{const s=q.value;s&&(s.getContext("2d"),s.width=window.innerWidth,s.height=window.innerHeight)},$=s=>{i.value=s},ft=async()=>{I.value=!0,await Y(),setTimeout(()=>{U.push("/universe")},800)};return mt(async()=>{setTimeout(()=>{W.value=!1},1800),await Y(),X(),i.value==="summon"?tt():i.value==="fox"?rt():i.value==="return"&&vt(),_.value++,v()}),ht(()=>{Q&&cancelAnimationFrame(Q)}),(s,e)=>(n(),l("div",{class:A(["prince-world",{"is-transitioning":I.value}])},[f(m,{name:"warp"},{default:p(()=>[W.value?(n(),l("div",xt,[...e[3]||(e[3]=[t("div",{class:"warp-circle"},[t("div",{class:"warp-circle-inner"})],-1),t("div",{class:"warp-text"},"B-612",-1)])])):a("",!0)]),_:1}),t("button",{class:"exit-btn",onClick:ft},[...e[4]||(e[4]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),t("span",null,"Return",-1)])]),f(m,{name:"summon"},{default:p(()=>[i.value==="summon"?(n(),l("div",Ct,[t("canvas",{ref_key:"summonCanvas",ref:E,class:"summon-canvas"},null,512),t("div",gt,[t("p",bt,u(S.value),1),N.value?(n(),l("button",{key:0,class:"summon-btn",onClick:et}," æˆ‘åœ¨å¬ ")):a("",!0)])])):a("",!0)]),_:1}),f(m,{name:"chapter"},{default:p(()=>[i.value==="sunset"?(n(),l("div",{key:0,class:"chapter-sunset",style:w({background:R.value})},[t("div",Mt,[e[6]||(e[6]=t("div",{class:"b612-planet-sunset"},[t("svg",{viewBox:"0 0 200 200",class:"planet-svg"},[t("circle",{cx:"100",cy:"100",r:"60",fill:"none",stroke:"currentColor","stroke-width":"0.8"}),t("circle",{cx:"85",cy:"90",r:"4",fill:"currentColor",class:"crater",opacity:"0.3"}),t("circle",{cx:"115",cy:"105",r:"3",fill:"currentColor",class:"crater",opacity:"0.3"})]),t("div",{class:"prince-sitting"},[t("svg",{viewBox:"0 0 100 100",class:"prince-svg"},[t("circle",{cx:"50",cy:"30",r:"12",fill:"currentColor",class:"prince-head"}),t("line",{x1:"50",y1:"42",x2:"50",y2:"70",stroke:"currentColor","stroke-width":"2",class:"prince-body"}),t("line",{x1:"50",y1:"50",x2:"35",y2:"65",stroke:"currentColor","stroke-width":"2",class:"prince-leg"}),t("line",{x1:"50",y1:"50",x2:"65",y2:"65",stroke:"currentColor","stroke-width":"2",class:"prince-leg"}),t("rect",{x:"38",y:"22",width:"24",height:"18",fill:"currentColor",opacity:"0.3",class:"prince-hair"})])])],-1)),t("div",_t,[t("span",Bt,u(h.value),1),e[5]||(e[5]=t("span",{class:"counter-label"},"/ 44",-1))]),t("div",{class:"sunset-click-area",onClick:nt}),f(m,{name:"dialogue"},{default:p(()=>[L.value?(n(),l("div",Dt,[t("p",null,u(L.value),1)])):a("",!0)]),_:1})]),h.value<44?(n(),l("div",St,[...e[7]||(e[7]=[t("span",null,"ç‚¹å‡»é™ªä¼´çœ‹æ—¥è½",-1)])])):a("",!0)],4)):a("",!0)]),_:1}),f(m,{name:"chapter"},{default:p(()=>[i.value==="rose"?(n(),l("div",Lt,[t("div",Tt,[t("div",{class:A(["rose-plant",{"is-blooming":r.value>=100}])},[(n(),l("svg",Qt,[e[13]||(e[13]=t("line",{x1:"100",y1:"320",x2:"100",y2:"200",stroke:"#2d5016","stroke-width":"2.5",class:"rose-stem"},null,-1)),e[14]||(e[14]=t("path",{d:"M100 280 Q 75 265 65 280 Q 85 290 100 280",fill:"#4a7c2a",stroke:"#2d5016","stroke-width":"1.5",class:"rose-leaf"},null,-1)),e[15]||(e[15]=t("path",{d:"M100 250 Q 125 235 135 250 Q 115 260 100 250",fill:"#4a7c2a",stroke:"#2d5016","stroke-width":"1.5",class:"rose-leaf"},null,-1)),t("g",{class:"rose-calyx",style:w({opacity:r.value>=20?1:0})},[...e[8]||(e[8]=[t("path",{d:"M100 198 Q 90 190 85 198 Q 95 205 100 198",fill:"#2d5016"},null,-1),t("path",{d:"M100 198 Q 110 190 115 198 Q 105 205 100 198",fill:"#2d5016"},null,-1),t("path",{d:"M100 198 Q 100 188 100 198 Q 100 208 100 198",fill:"#2d5016"},null,-1)])],4),t("g",{class:"rose-petals-outer",style:w({opacity:r.value>=30?1:0})},[...e[9]||(e[9]=[t("path",{d:`M100 175
                         C 90 165, 75 160, 70 175
                         C 75 190, 90 195, 100 190
                         C 110 195, 125 190, 130 175
                         C 125 160, 110 165, 100 175`,fill:"#e74c3c",stroke:"#c0392b","stroke-width":"0.5"},null,-1),t("path",{d:`M100 175
                         C 115 170, 130 165, 140 175
                         C 145 190, 130 200, 115 200
                         C 100 200, 90 190, 95 180`,fill:"#e74c3c",stroke:"#c0392b","stroke-width":"0.5",transform:"rotate(72 100 185)"},null,-1),t("path",{d:`M100 175
                         C 85 170, 70 165, 60 175
                         C 55 190, 70 200, 85 200
                         C 100 200, 110 190, 105 180`,fill:"#e74c3c",stroke:"#c0392b","stroke-width":"0.5",transform:"rotate(144 100 185)"},null,-1),t("path",{d:`M100 175
                         C 110 168, 125 168, 135 178
                         C 140 193, 125 203, 110 203
                         C 95 203, 85 193, 90 178`,fill:"#e74c3c",stroke:"#c0392b","stroke-width":"0.5",transform:"rotate(216 100 185)"},null,-1),t("path",{d:`M100 175
                         C 90 168, 75 168, 65 178
                         C 60 193, 75 203, 90 203
                         C 105 203, 115 193, 110 178`,fill:"#e74c3c",stroke:"#c0392b","stroke-width":"0.5",transform:"rotate(288 100 185)"},null,-1)])],4),t("g",{class:"rose-petals-middle",style:w({opacity:r.value>=60?1:0})},[...e[10]||(e[10]=[t("path",{d:`M100 180
                         C 92 172, 82 170, 78 180
                         C 82 190, 92 192, 100 188
                         C 108 192, 118 190, 122 180
                         C 118 170, 108 172, 100 180`,fill:"#c0392b",stroke:"#a93226","stroke-width":"0.5"},null,-1),t("path",{d:`M100 180
                         C 108 172, 118 170, 122 180
                         C 126 190, 116 192, 108 188
                         C 100 185, 92 185, 94 180`,fill:"#c0392b",stroke:"#a93226","stroke-width":"0.5",transform:"rotate(90 100 185)"},null,-1),t("path",{d:`M100 180
                         C 105 175, 115 175, 120 183
                         C 123 193, 113 195, 105 190
                         C 97 195, 87 193, 90 183`,fill:"#c0392b",stroke:"#a93226","stroke-width":"0.5",transform:"rotate(180 100 185)"},null,-1),t("path",{d:`M100 180
                         C 95 175, 85 175, 80 183
                         C 77 193, 87 195, 95 190
                         C 103 195, 113 193, 110 183`,fill:"#c0392b",stroke:"#a93226","stroke-width":"0.5",transform:"rotate(270 100 185)"},null,-1)])],4),t("g",{class:"rose-petals-inner",style:w({opacity:r.value>=80?1:0})},[...e[11]||(e[11]=[t("path",{d:`M100 182
                         C 94 178, 88 178, 85 183
                         C 88 190, 94 191, 100 188
                         C 106 191, 112 190, 115 183
                         C 112 178, 106 178, 100 182`,fill:"#a93226",stroke:"#922b21","stroke-width":"0.5"},null,-1),t("path",{d:`M100 182
                         C 106 178, 112 178, 115 183
                         C 118 190, 112 191, 106 188
                         C 100 186, 96 186, 94 182`,fill:"#a93226",stroke:"#922b21","stroke-width":"0.5",transform:"rotate(120 100 185)"},null,-1),t("path",{d:`M100 182
                         C 103 179, 109 179, 111 184
                         C 113 191, 107 192, 101 189
                         C 95 192, 89 191, 93 184`,fill:"#a93226",stroke:"#922b21","stroke-width":"0.5",transform:"rotate(240 100 185)"},null,-1)])],4),t("g",{class:"rose-center",style:w({opacity:r.value>=100?1:.5})},[...e[12]||(e[12]=[t("path",{d:`M100 183
                         C 97 181, 94 183, 95 185
                         C 93 187, 95 189, 98 188
                         C 101 187, 104 189, 102 191
                         C 100 193, 97 192, 99 190
                         C 101 188, 104 186, 102 184
                         C 100 182, 99 182, 100 183`,fill:"#922b21",stroke:"#7b241c","stroke-width":"0.3"},null,-1),t("circle",{cx:"100",cy:"186",r:"3",fill:"#c0392b"},null,-1)])],4)]))],2),t("div",Ft,[t("div",Vt,[t("div",{class:"trust-fill",style:w({width:r.value+"%"})},null,4)]),t("span",$t,"ä¿¡ä»»: "+u(r.value)+"%",1)]),t("div",At,[t("button",{class:"rose-action-btn water-btn",onClick:ot,disabled:x.value.watered},[...e[16]||(e[16]=[t("svg",{viewBox:"0 0 50 50",class:"action-icon"},[t("path",{d:"M25 5 L25 35 M15 25 Q25 45 35 25",fill:"none",stroke:"currentColor","stroke-width":"2"}),t("rect",{x:"15",y:"35",width:"20",height:"10",fill:"currentColor"})],-1),b(" æµ‡æ°´ ",-1)])],8,It),t("button",{class:"rose-action-btn shield-btn",onClick:at,disabled:x.value.shielded},[...e[17]||(e[17]=[t("svg",{viewBox:"0 0 50 50",class:"action-icon"},[t("path",{d:"M25 5 L25 35 M15 25 Q25 45 35 25",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),b(" æŒ¡é£ ",-1)])],8,Wt),t("button",{class:"rose-action-btn listen-btn",onClick:it},[...e[18]||(e[18]=[t("svg",{viewBox:"0 0 50 50",class:"action-icon"},[t("circle",{cx:"25",cy:"25",r:"15",fill:"none",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M20 25 L25 20 L30 25 L25 30 Z",fill:"currentColor"})],-1),b(" å€¾å¬ ",-1)])])]),f(m,{name:"dialogue"},{default:p(()=>[T.value?(n(),l("div",Et,[t("p",null,u(T.value),1)])):a("",!0)]),_:1})])])):a("",!0)]),_:1}),f(m,{name:"chapter"},{default:p(()=>[i.value==="fox"?(n(),l("div",Nt,[t("canvas",{ref_key:"wheatFieldCanvas",ref:O,class:"wheat-field-canvas"},null,512),t("div",Rt,[t("div",{class:A(["fox-wrapper",{"is-tamed":d.value>=3}])},[...e[19]||(e[19]=[t("svg",{viewBox:"0 0 200 150",class:"fox-svg"},[t("g",{class:"fox-outline",stroke:"#1a1a1a","stroke-width":"1.5",fill:"none"},[t("path",{d:"M 60 50 L 75 70 L 90 50",class:"fox-ear-left"}),t("path",{d:"M 110 50 L 125 70 L 140 50",class:"fox-ear-right"}),t("circle",{cx:"100",cy:"75",r:"30",class:"fox-head"}),t("circle",{cx:"90",cy:"70",r:"2",fill:"#1a1a1a",class:"fox-eye"}),t("circle",{cx:"110",cy:"70",r:"2",fill:"#1a1a1a",class:"fox-eye"}),t("path",{d:"M 130 80 Q 160 90 170 110 L 170 130 L 125 120 Q 115 100 130 80",class:"fox-body"}),t("path",{d:"M 170 110 Q 200 90 205 110 Q 200 130 170 130",class:"fox-tail"})])],-1)])],2),f(m,{name:"dialogue"},{default:p(()=>[C.value?(n(),l("div",Ot,[t("p",Pt,u(C.value),1),d.value<3?(n(),l("p",zt,u(d.value===0?"ç‚¹å‡»æŒ‰é’®å¼€å§‹é©¯æœ":`ç‚¹å‡»ç»§ç»­é©¯æœ (${d.value}/3)`),1)):a("",!0)])):a("",!0)]),_:1}),z.value&&!C.value?(n(),l("button",{key:0,class:"visit-fox-btn",onClick:j},u(d.value===0?"é è¿‘ç‹ç‹¸":"ç»§ç»­é©¯æœ"),1)):a("",!0),z.value&&C.value&&d.value<3?(n(),l("button",{key:1,class:"visit-fox-btn",onClick:j},u(`ç¬¬ ${d.value+1} å¤©`),1)):a("",!0),d.value>0?(n(),l("div",Ht," ç¬¬ "+u(d.value)+" / 3 å¤© ",1)):a("",!0)])])):a("",!0)]),_:1}),f(m,{name:"chapter"},{default:p(()=>[i.value==="well"?(n(),l("div",jt,[t("div",qt,[t("div",Gt,[(n(),l("svg",Jt,[e[27]||(e[27]=t("ellipse",{cx:"100",cy:"50",rx:"65",ry:"22",fill:"none",stroke:"#8B4513","stroke-width":"4"},null,-1)),e[28]||(e[28]=t("ellipse",{cx:"100",cy:"50",rx:"55",ry:"18",fill:"none",stroke:"#A0522D","stroke-width":"2"},null,-1)),e[29]||(e[29]=t("path",{d:"M35 50 L35 220 L165 220 L165 50",fill:"none",stroke:"#8B4513","stroke-width":"3"},null,-1)),e[30]||(e[30]=t("path",{d:"M40 60 L40 210 L160 210 L160 60",fill:"none",stroke:"#654321","stroke-width":"1",opacity:"0.5"},null,-1)),e[31]||(e[31]=t("line",{x1:"35",y1:"50",x2:"20",y2:"15",stroke:"#8B4513","stroke-width":"4"},null,-1)),e[32]||(e[32]=t("line",{x1:"165",y1:"50",x2:"180",y2:"15",stroke:"#8B4513","stroke-width":"4"},null,-1)),e[33]||(e[33]=t("line",{x1:"20",y1:"15",x2:"180",y2:"15",stroke:"#8B4513","stroke-width":"4"},null,-1)),e[34]||(e[34]=t("circle",{cx:"20",cy:"15",r:"3",fill:"#654321"},null,-1)),e[35]||(e[35]=t("circle",{cx:"180",cy:"15",r:"3",fill:"#654321"},null,-1)),t("line",{x1:"100",y1:"15",x2:"100",stroke:"#654321","stroke-width":"2",class:"well-rope"},null,8,Yt),t("g",{transform:`translate(0, ${P.value-80})`,class:"bucket-group",onClick:dt},[e[23]||(e[23]=t("path",{d:`M75 70 L75 100
                         Q75 112 85 115
                         L115 115
                         Q125 112 125 100
                         L125 70`,fill:"#8B4513",stroke:"#654321","stroke-width":"2"},null,-1)),e[24]||(e[24]=t("ellipse",{cx:"100",cy:"70",rx:"25",ry:"8",fill:"none",stroke:"#654321","stroke-width":"2"},null,-1)),e[25]||(e[25]=t("path",{d:"M75 115 Q100 120 125 115",fill:"none",stroke:"#654321","stroke-width":"2"},null,-1)),e[26]||(e[26]=t("path",{d:"M75 70 Q100 50 125 70",fill:"none",stroke:"#654321","stroke-width":"3"},null,-1)),M.value?(n(),l("g",Ut,[...e[20]||(e[20]=[t("ellipse",{cx:"100",cy:"95",rx:"20",ry:"10",fill:"#4A90D9",opacity:"0.7"},null,-1),t("ellipse",{cx:"100",cy:"93",rx:"18",ry:"8",fill:"#87CEEB",opacity:"0.5"},null,-1),t("path",{d:"M85 90 Q100 85 115 90",stroke:"#87CEEB","stroke-width":"1.5",fill:"none",opacity:"0.8"},null,-1)])])):a("",!0),!M.value&&!B.value?(n(),l("g",Zt,[...e[21]||(e[21]=[t("ellipse",{cx:"100",cy:"95",rx:"15",ry:"6",fill:"none",stroke:"#8B4513","stroke-width":"1","stroke-dasharray":"2,2",opacity:"0.4"},null,-1)])])):a("",!0),B.value?(n(),l("g",Xt,[...e[22]||(e[22]=[t("ellipse",{cx:"100",cy:"120",rx:"30",ry:"5",fill:"none",stroke:"#4A90D9","stroke-width":"1",opacity:"0.6"},[t("animate",{attributeName:"rx",values:"30;45;30",dur:"1s",repeatCount:"indefinite"}),t("animate",{attributeName:"opacity",values:"0.6;0;0.6",dur:"1s",repeatCount:"indefinite"})],-1),t("ellipse",{cx:"100",cy:"120",rx:"35",ry:"6",fill:"none",stroke:"#4A90D9","stroke-width":"1",opacity:"0.4"},[t("animate",{attributeName:"rx",values:"35;50;35",dur:"1s",repeatCount:"indefinite",begin:"0.2s"}),t("animate",{attributeName:"opacity",values:"0.4;0;0.4",dur:"1s",repeatCount:"indefinite",begin:"0.2s"})],-1)])])):a("",!0)],8,Kt)]))]),t("div",te,[M.value?(n(),l("p",se,'"è¿™æ°´åƒç¤¼ç‰©ä¸€æ ·"')):(n(),l("p",ee,"ç‚¹å‡»æ°´æ¡¶æ‰“æ°´"))]),t("div",le,[(n(!0),l(yt,null,wt(y.value,(c,D)=>(n(),l("div",{key:D,class:"collected-star",style:w({top:c.top||"20%",left:c.left||`${20+D*15}%`})},[b(u(c.icon)+" ",1),t("span",ne,u(c.message),1)],4))),128))])])])):a("",!0)]),_:1}),f(m,{name:"chapter"},{default:p(()=>[i.value==="goodbye"?(n(),l("div",oe,[t("div",ae,[e[41]||(e[41]=t("div",{class:"golden-snake"},[t("svg",{viewBox:"0 0 100 100",class:"snake-svg"},[t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#f4d03f","stroke-width":"2","stroke-dasharray":"5,5",class:"snake-coil"}),t("circle",{cx:"50",cy:"50",r:"3",fill:"#f4d03f",class:"snake-eye"})])],-1)),t("div",ie,[e[40]||(e[40]=t("h3",null,"çè´µçš„å›å¿†",-1)),t("div",re,[t("div",ue,[e[36]||(e[36]=t("span",{class:"memory-icon"},"ğŸŒ…",-1)),t("p",null,"çœ‹äº† "+u(h.value)+" æ¬¡æ—¥è½",1)]),e[38]||(e[38]=t("div",{class:"memory-card"},[t("span",{class:"memory-icon"},"ğŸŒ¹"),t("p",null,"ç«ç‘°å®Œå…¨ä¿¡ä»»ä½ ")],-1)),e[39]||(e[39]=t("div",{class:"memory-card"},[t("span",{class:"memory-icon"},"ğŸ¦Š"),t("p",null,"è¢«ç‹ç‹¸é©¯æœ")],-1)),t("div",de,[e[37]||(e[37]=t("span",{class:"memory-icon"},"â­",-1)),t("p",null,"æ”¶é›†äº† "+u(y.value.length)+" é¢—æ˜Ÿæ˜Ÿ",1)])])]),e[42]||(e[42]=t("div",{class:"final-message"},[t("p",null,[b('"æ‰€æœ‰çš„å¤§äººéƒ½æ›¾ç»æ˜¯å°å­©ï¼Œ'),t("br"),b('è™½ç„¶ï¼Œåªæœ‰å°‘æ•°äººè®°å¾—"')])],-1)),t("button",{class:"farewell-btn",onClick:ct}," å†è§ï¼Œå°ç‹å­ ")])])):a("",!0)]),_:1}),f(m,{name:"chapter"},{default:p(()=>[i.value==="return"?(n(),l("div",ce,[t("canvas",{ref_key:"returnCanvas",ref:q,class:"return-canvas"},null,512),t("div",ve,[e[46]||(e[46]=t("h2",{class:"return-title"},"ä½ å·²ç»å›åˆ°åœ°çƒ",-1)),e[47]||(e[47]=t("p",{class:"return-message"}," æŠ¬å¤´çœ‹æ˜Ÿæ˜Ÿï¼Œå®ƒä»¬åœ¨å¯¹ä½ ç¬‘ ",-1)),t("div",fe,[t("div",pe,[t("span",me,u(Z.value),1),e[43]||(e[43]=t("span",{class:"stat-label"},"å¤©è¢«é©¯æœ",-1))]),t("div",he,[t("span",ke,u(_.value),1),e[44]||(e[44]=t("span",{class:"stat-label"},"æ¬¡æ¢è®¿",-1))]),t("div",ye,[t("span",we,u(y.value.length),1),e[45]||(e[45]=t("span",{class:"stat-label"},"é¢—æ˜Ÿæ˜Ÿ",-1))])]),t("div",xe,[t("button",{class:"revisit-btn",onClick:e[0]||(e[0]=c=>$("sunset"))}," å†çœ‹ä¸€æ¬¡æ—¥è½ "),t("button",{class:"revisit-btn",onClick:e[1]||(e[1]=c=>$("rose"))}," æ¢æœ›ç«ç‘° "),t("button",{class:"revisit-btn",onClick:e[2]||(e[2]=c=>$("fox"))}," çœ‹æœ›ç‹ç‹¸ ")])])])):a("",!0)]),_:1})],2))}},Me=pt(Ce,[["__scopeId","data-v-2413d050"]]);export{Me as default};
