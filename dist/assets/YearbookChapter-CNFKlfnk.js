import{_ as B,h as s,r as d,c as u,o as Y,w as q,a as i,d as t,i as V,j as $,f as C,t as c,F as w,g as T,k as y,l as k,m as G,u as W,e as n}from"./index-P7DBI6fu.js";import{b as K}from"./books-jK8eByas.js";const U={class:"category-decoration"},Z={class:"chapter-container swiss-container"},j={class:"top-strip swiss-border-bottom"},z={class:"strip-content"},Q={class:"volume-label"},X={class:"chapter-header swiss-border-bottom"},J={class:"header-left"},tt={class:"chapter-number","data-number":"chapter"},et={class:"chapter-title"},st={class:"chapter-subtitle"},ot={class:"header-right"},at={class:"entry-count"},ct={class:"count-number"},nt={class:"chapter-main"},rt={class:"books-grid"},it=["onClick"],lt={class:"entry-header swiss-border-bottom"},dt={class:"entry-vol"},ut={class:"entry-page"},vt={class:"entry-content"},pt={class:"entry-title"},ht={key:0,class:"entry-subtitle"},yt={class:"entry-author"},mt={class:"entry-quote"},gt={key:1,class:"entry-tags"},_t={class:"entry-footer"},bt={class:"entry-category"},Ct={class:"chapter-footer swiss-border-top"},St={class:"footer-left"},Et={class:"page-info"},ft={class:"footer-right"},kt={render(){return s("div",{class:"decoration-fiction"},[s("div",{class:"line-fiction line-1"}),s("div",{class:"line-fiction line-2"}),s("div",{class:"line-fiction line-3"})])}},Ft={render(){return s("div",{class:"decoration-philosophy"},[s("div",{class:"circle-philosophy circle-outer"}),s("div",{class:"circle-philosophy circle-middle"}),s("div",{class:"circle-philosophy circle-inner"})])}},It={render(){return s("div",{class:"decoration-economics"},[s("div",{class:"bar-economics bar-1"}),s("div",{class:"bar-economics bar-2"}),s("div",{class:"bar-economics bar-3"}),s("div",{class:"line-economics"})])}},Ot={render(){return s("div",{class:"decoration-mystery"},[s("div",{class:"question-mark"},"?"),s("div",{class:"dot-mystery dot-1"}),s("div",{class:"dot-mystery dot-2"}),s("div",{class:"dot-mystery dot-3"})])}},Rt={render(){return s("div",{class:"decoration-romance"},[s("div",{class:"curve-romance curve-1"}),s("div",{class:"curve-romance curve-2"}),s("div",{class:"heart-geometric"})])}},Mt={render(){return s("div",{class:"decoration-classic"},[s("div",{class:"square-classic square-1"}),s("div",{class:"square-classic square-2"}),s("div",{class:"line-classic line-h"}),s("div",{class:"line-classic line-v"})])}},Pt={render(){return s("div",{class:"decoration-default"},[s("div",{class:"dot-default"})])}},Dt={__name:"YearbookChapter",setup(Nt){const v=W(),S=G(),F=d(new Date().getFullYear()),r=d(""),E=d(""),m=d(1),p=d([]),g={fiction:{name:"FICTION",title:"FICTION",subtitle:"WHERE STORIES BREATHE",id:1,pattern:"diagonal",decoration:"FictionDecoration",accentColor:"#FF3000"},philosophy:{name:"PHILOSOPHY",title:"PHILOSOPHY",subtitle:"THINKING ABOUT THINKING",id:2,pattern:"dots",decoration:"PhilosophyDecoration",accentColor:"#FF3000"},economics:{name:"ECONOMICS",title:"ECONOMICS",subtitle:"THE DISMAL SCIENCE",id:3,pattern:"grid",decoration:"EconomicsDecoration",accentColor:"#FF3000"},mystery:{name:"MYSTERY",title:"MYSTERY",subtitle:"UNSOLVED PUZZLES",id:4,pattern:"noise",decoration:"MysteryDecoration",accentColor:"#FF3000"},romance:{name:"ROMANCE",title:"ROMANCE",subtitle:"MATTERS OF THE HEART",id:5,pattern:"dots",decoration:"RomanceDecoration",accentColor:"#FF3000"},classic:{name:"CLASSIC",title:"CLASSIC",subtitle:"TIMELESS TALES",id:6,pattern:"grid",decoration:"ClassicDecoration",accentColor:"#FF3000"}},I=u(()=>{var e;return((e=g[r.value])==null?void 0:e.title)||""}),O=u(()=>{var e;return((e=g[r.value])==null?void 0:e.subtitle)||""}),h=["fiction","philosophy","economics","mystery","romance","classic"],l=u(()=>h.indexOf(r.value)),_=u(()=>l.value>0),b=u(()=>l.value<h.length-1),R=(e,o)=>e.length<=o?e:e.substring(0,o)+"...",f=()=>{r.value=S.params.category,console.log("Loading category:",r.value);const e=g[r.value];E.value=(e==null?void 0:e.name)||"",m.value=(e==null?void 0:e.id)||1,p.value=K.filter(o=>o.category===(e==null?void 0:e.name)),console.log("Found books:",p.value.length)};Y(()=>{f()}),q(()=>S.params.category,()=>{f()});const M=()=>{v.push("/yearbook")},P=e=>{if(e.worldComponent){const a={IslandBookstoreWorld:"/world/island-bookstore",MoscowGentlemanWorld:"/world/moscow-gentleman",NightSubmarineWorld:"/world/night-submarine"}[e.worldComponent];a&&v.push(a)}},A=()=>{if(console.log("Previous clicked, hasPrevious:",_.value,"currentIndex:",l.value),_.value){const e=`/yearbook/${h[l.value-1]}`;console.log("Navigating to:",e),v.push(e)}},L=()=>{if(console.log("Next clicked, hasNext:",b.value,"currentIndex:",l.value),b.value){const e=`/yearbook/${h[l.value+1]}`;console.log("Navigating to:",e),v.push(e)}},x=()=>({fiction:"FictionDecoration",philosophy:"PhilosophyDecoration",economics:"EconomicsDecoration",mystery:"MysteryDecoration",romance:"RomanceDecoration",classic:"ClassicDecoration"})[r.value]||"DefaultDecoration";return(e,o)=>(n(),i("div",{class:k(["yearbook-chapter swiss-grid-pattern swiss-noise",`category-${r.value}`])},[t("div",U,[(n(),V($(x())))]),t("div",Z,[t("nav",j,[t("div",z,[t("button",{class:"back-button",onClick:M},[...o[0]||(o[0]=[t("span",{class:"arrow"},"←",-1),C(" BACK ",-1)])]),o[1]||(o[1]=t("span",{class:"separator"},null,-1)),t("span",Q,"VOL. "+c(F.value),1)])]),t("header",X,[t("div",J,[t("p",tt,c(String(m.value).padStart(2,"0"))+" "+c(E.value),1),t("h1",et,c(I.value),1),t("p",st,c(O.value),1)]),t("div",ot,[t("div",at,[t("span",ct,c(p.value.length),1),o[2]||(o[2]=t("span",{class:"count-label"},"ENTRIES",-1))])])]),t("main",nt,[t("div",rt,[(n(!0),i(w,null,T(p.value,(a,D)=>(n(),i("article",{key:a.id,class:k(["book-entry swiss-border-bottom swiss-border-right",[{featured:D<2},`entry-${r.value}`]]),onClick:N=>P(a)},[t("div",lt,[t("span",dt,c(String(a.vol).padStart(3,"0")),1),t("span",ut,c(String(D+1).padStart(3,"0")),1)]),t("div",vt,[t("h3",pt,c(a.title),1),a.subtitle?(n(),i("p",ht,c(a.subtitle),1)):y("",!0),t("p",yt,c(a.author),1),t("p",mt,'"'+c(R(a.featuredQuote,80))+'"',1),a.tags&&a.tags.length?(n(),i("div",gt,[(n(!0),i(w,null,T(a.tags.slice(0,3),(N,H)=>(n(),i("span",{key:H,class:"entry-tag"},c(N),1))),128))])):y("",!0)]),t("div",_t,[t("span",bt,c(a.category),1),o[3]||(o[3]=t("span",{class:"entry-arrow"},"→",-1))])],10,it))),128))])]),t("footer",Ct,[t("div",St,[t("span",Et,"PAGE "+c(String(m.value).padStart(2,"0"))+" / 06",1)]),t("div",ft,[_.value?(n(),i("button",{key:0,class:"nav-button prev",onClick:A},[...o[4]||(o[4]=[t("span",{class:"arrow"},"←",-1),C(" PREV ",-1)])])):y("",!0),b.value?(n(),i("button",{key:1,class:"nav-button next",onClick:L},[...o[5]||(o[5]=[C(" NEXT ",-1),t("span",{class:"arrow"},"→",-1)])])):y("",!0)])])])],2))}},At=B(Dt,[["__scopeId","data-v-9c1ce0c7"]]);export{Mt as ClassicDecoration,Pt as DefaultDecoration,It as EconomicsDecoration,kt as FictionDecoration,Ot as MysteryDecoration,Ft as PhilosophyDecoration,Rt as RomanceDecoration,At as default};
