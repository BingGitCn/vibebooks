import{_ as B,h as e,r as d,c as u,o as Y,w as q,a as i,d as s,i as V,j as $,f as C,t as c,F as T,g as k,k as y,l as w,m as G,u as K,e as n}from"./index-DHpJKrsZ.js";import{b as U}from"./books-DXtQlAEj.js";const W={class:"category-decoration"},Z={class:"chapter-container swiss-container"},j={class:"top-strip swiss-border-bottom"},z={class:"strip-content"},Q={class:"volume-label"},X={class:"chapter-header swiss-border-bottom"},J={class:"header-left"},ss={class:"chapter-number","data-number":"chapter"},ts={class:"chapter-title"},es={class:"chapter-subtitle"},os={class:"header-right"},as={class:"entry-count"},cs={class:"count-number"},ns={class:"chapter-main"},rs={class:"books-grid"},is=["onClick"],ls={class:"entry-header swiss-border-bottom"},ds={class:"entry-vol"},us={class:"entry-page"},vs={class:"entry-content"},ps={class:"entry-title"},hs={key:0,class:"entry-subtitle"},ys={class:"entry-author"},ms={class:"entry-quote"},_s={key:1,class:"entry-tags"},gs={class:"entry-footer"},bs={class:"entry-category"},Cs={class:"chapter-footer swiss-border-top"},Ss={class:"footer-left"},Es={class:"page-info"},fs={class:"footer-right"},ws={render(){return e("div",{class:"decoration-fiction"},[e("div",{class:"line-fiction line-1"}),e("div",{class:"line-fiction line-2"}),e("div",{class:"line-fiction line-3"})])}},Fs={render(){return e("div",{class:"decoration-philosophy"},[e("div",{class:"circle-philosophy circle-outer"}),e("div",{class:"circle-philosophy circle-middle"}),e("div",{class:"circle-philosophy circle-inner"})])}},Is={render(){return e("div",{class:"decoration-economics"},[e("div",{class:"bar-economics bar-1"}),e("div",{class:"bar-economics bar-2"}),e("div",{class:"bar-economics bar-3"}),e("div",{class:"line-economics"})])}},Os={render(){return e("div",{class:"decoration-mystery"},[e("div",{class:"question-mark"},"?"),e("div",{class:"dot-mystery dot-1"}),e("div",{class:"dot-mystery dot-2"}),e("div",{class:"dot-mystery dot-3"})])}},Rs={render(){return e("div",{class:"decoration-romance"},[e("div",{class:"curve-romance curve-1"}),e("div",{class:"curve-romance curve-2"}),e("div",{class:"heart-geometric"})])}},Ms={render(){return e("div",{class:"decoration-classic"},[e("div",{class:"square-classic square-1"}),e("div",{class:"square-classic square-2"}),e("div",{class:"line-classic line-h"}),e("div",{class:"line-classic line-v"})])}},Ps={render(){return e("div",{class:"decoration-default"},[e("div",{class:"dot-default"})])}},Ds={__name:"YearbookChapter",setup(Ns){const v=K(),S=G(),F=d(new Date().getFullYear()),r=d(""),E=d(""),m=d(1),p=d([]),_={fiction:{name:"FICTION",title:"FICTION",subtitle:"WHERE STORIES BREATHE",id:1,pattern:"diagonal",decoration:"FictionDecoration",accentColor:"#FF3000"},philosophy:{name:"PHILOSOPHY",title:"PHILOSOPHY",subtitle:"THINKING ABOUT THINKING",id:2,pattern:"dots",decoration:"PhilosophyDecoration",accentColor:"#FF3000"},economics:{name:"ECONOMICS",title:"ECONOMICS",subtitle:"THE DISMAL SCIENCE",id:3,pattern:"grid",decoration:"EconomicsDecoration",accentColor:"#FF3000"},mystery:{name:"MYSTERY",title:"MYSTERY",subtitle:"UNSOLVED PUZZLES",id:4,pattern:"noise",decoration:"MysteryDecoration",accentColor:"#FF3000"},romance:{name:"ROMANCE",title:"ROMANCE",subtitle:"MATTERS OF THE HEART",id:5,pattern:"dots",decoration:"RomanceDecoration",accentColor:"#FF3000"},classic:{name:"CLASSIC",title:"CLASSIC",subtitle:"TIMELESS TALES",id:6,pattern:"grid",decoration:"ClassicDecoration",accentColor:"#FF3000"}},I=u(()=>{var t;return((t=_[r.value])==null?void 0:t.title)||""}),O=u(()=>{var t;return((t=_[r.value])==null?void 0:t.subtitle)||""}),h=["fiction","philosophy","economics","mystery","romance","classic"],l=u(()=>h.indexOf(r.value)),g=u(()=>l.value>0),b=u(()=>l.value<h.length-1),R=(t,o)=>t.length<=o?t:t.substring(0,o)+"...",f=()=>{r.value=S.params.category,console.log("Loading category:",r.value);const t=_[r.value];E.value=(t==null?void 0:t.name)||"",m.value=(t==null?void 0:t.id)||1,p.value=U.filter(o=>o.category===(t==null?void 0:t.name)),console.log("Found books:",p.value.length)};Y(()=>{f()}),q(()=>S.params.category,()=>{f()});const M=()=>{v.push("/yearbook")},P=t=>{if(t.worldComponent){const a={IslandBookstoreWorld:"/world/island-bookstore",MoscowGentlemanWorld:"/world/moscow-gentleman"}[t.worldComponent];a&&v.push(a)}},A=()=>{if(console.log("Previous clicked, hasPrevious:",g.value,"currentIndex:",l.value),g.value){const t=`/yearbook/${h[l.value-1]}`;console.log("Navigating to:",t),v.push(t)}},L=()=>{if(console.log("Next clicked, hasNext:",b.value,"currentIndex:",l.value),b.value){const t=`/yearbook/${h[l.value+1]}`;console.log("Navigating to:",t),v.push(t)}},x=()=>({fiction:"FictionDecoration",philosophy:"PhilosophyDecoration",economics:"EconomicsDecoration",mystery:"MysteryDecoration",romance:"RomanceDecoration",classic:"ClassicDecoration"})[r.value]||"DefaultDecoration";return(t,o)=>(n(),i("div",{class:w(["yearbook-chapter swiss-grid-pattern swiss-noise",`category-${r.value}`])},[s("div",W,[(n(),V($(x())))]),s("div",Z,[s("nav",j,[s("div",z,[s("button",{class:"back-button",onClick:M},[...o[0]||(o[0]=[s("span",{class:"arrow"},"←",-1),C(" BACK ",-1)])]),o[1]||(o[1]=s("span",{class:"separator"},null,-1)),s("span",Q,"VOL. "+c(F.value),1)])]),s("header",X,[s("div",J,[s("p",ss,c(String(m.value).padStart(2,"0"))+" "+c(E.value),1),s("h1",ts,c(I.value),1),s("p",es,c(O.value),1)]),s("div",os,[s("div",as,[s("span",cs,c(p.value.length),1),o[2]||(o[2]=s("span",{class:"count-label"},"ENTRIES",-1))])])]),s("main",ns,[s("div",rs,[(n(!0),i(T,null,k(p.value,(a,D)=>(n(),i("article",{key:a.id,class:w(["book-entry swiss-border-bottom swiss-border-right",[{featured:D<2},`entry-${r.value}`]]),onClick:N=>P(a)},[s("div",ls,[s("span",ds,c(String(a.vol).padStart(3,"0")),1),s("span",us,c(String(D+1).padStart(3,"0")),1)]),s("div",vs,[s("h3",ps,c(a.title),1),a.subtitle?(n(),i("p",hs,c(a.subtitle),1)):y("",!0),s("p",ys,c(a.author),1),s("p",ms,'"'+c(R(a.featuredQuote,80))+'"',1),a.tags&&a.tags.length?(n(),i("div",_s,[(n(!0),i(T,null,k(a.tags.slice(0,3),(N,H)=>(n(),i("span",{key:H,class:"entry-tag"},c(N),1))),128))])):y("",!0)]),s("div",gs,[s("span",bs,c(a.category),1),o[3]||(o[3]=s("span",{class:"entry-arrow"},"→",-1))])],10,is))),128))])]),s("footer",Cs,[s("div",Ss,[s("span",Es,"PAGE "+c(String(m.value).padStart(2,"0"))+" / 06",1)]),s("div",fs,[g.value?(n(),i("button",{key:0,class:"nav-button prev",onClick:A},[...o[4]||(o[4]=[s("span",{class:"arrow"},"←",-1),C(" PREV ",-1)])])):y("",!0),b.value?(n(),i("button",{key:1,class:"nav-button next",onClick:L},[...o[5]||(o[5]=[C(" NEXT ",-1),s("span",{class:"arrow"},"→",-1)])])):y("",!0)])])])],2))}},As=B(Ds,[["__scopeId","data-v-6a45c9ca"]]);export{Ms as ClassicDecoration,Ps as DefaultDecoration,Is as EconomicsDecoration,ws as FictionDecoration,Os as MysteryDecoration,Fs as PhilosophyDecoration,Rs as RomanceDecoration,As as default};
